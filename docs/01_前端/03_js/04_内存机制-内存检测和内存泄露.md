# 内存检测和内存泄露

## 浏览器查看内存情况

### 查看总内存

下面方法是查看总内存情况，可以查看内存状态初步判断项目内存是否健康

#### 第一种：任务管理器

- 导航栏右边的更多(三个点) -> 更多工具 -> 任务管理器

  ![image-20211122093058372](/img/30.png)

- 右键可以查看标签页的更多选项

  ![image-20211122093750157](/img/31.png)

以下两列是关于标签页内存信息的展示

- 内存占用空间：表示本机内存。DOM 节点存储在本机内存中。如果这个值在增加，则说明正在创建 DOM 节点。
- JavaScript 使用的内存：表示 JS 堆。这一列有两个值，括号中的数字表示活动对象（表示当前对象不会被垃圾回收）。

#### 第二种：性能监视器面板

打开开发者工具 -> 性能监视器面板(Performance monitor)

![image-20211122104641432](/img/32.png)

**这里可以看到 JS 堆大小(也就是活动对象)的变化情况**

::: tip 综述

我们可以先粗略的查看一下内存的情况，查看一下总体的内存水平

如果内存是比较平稳的，一般说明没有内存泄露

如果内存一段时间梯状式增长，说明存在内存问题，此时可以通过更细粒化的内存管理分析问题。

:::

### 内存快照分析

开发者工具 -> 内存面板

存在三种内存分析类型；

- 堆快照：表示某一时刻的的内存快照。包含 DOM 节点和网页 JS 对象。
- 时间轴上的分配插桩
- 分配采样

待续

## 参考

[Chrome 开发者工具中文文档](https://www.html.cn/doc/chrome-devtools/memory-problems/)
