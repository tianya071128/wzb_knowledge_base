# CSS 功能扩展

这里列举一些项目中常用的 Sass 基础语法，详细见[官网](https://sass-lang.com/documentation)

## 嵌套

将一种样式规则写入另一个样式规则中

::: code-group

```scss
nav {
  ul {
    margin: 0;
    padding: 0;
    list-style: none;
  }

  li {
    display: inline-block;
  }
}
```

```css
@charset "UTF-8";
nav ul {
  margin: 0;
  padding: 0;
  list-style: none;
}

nav li {
  display: inline-block;
}
```

:::

::: warning 注意

嵌套规则非常有用，但是嵌套层级越深，就会编译成更大的 CSS，浏览器渲染也就越需要更多的工作。

**保持合理的嵌套规则**

:::

### 并集选择器嵌套

每个复杂选择器（逗号之间的选择器）都单独嵌套，然后将它们组合成一个选择器列表。

::: code-group

```scss
.alert,
.warning {
  ul,
  p {
    margin-right: 0;
    margin-left: 0;
    padding-bottom: 0;
  }
}
```

```css
.alert ul,
.alert p,
.warning ul,
.warning p {
  margin-right: 0;
  margin-left: 0;
  padding-bottom: 0;
}
```

:::

### 组合选择器嵌套

可以将组合器放在外部选择器的末尾，内部选择器的开头，或者甚至都放在两者之间。

::: code-group

```scss
ul > {
  li {
    list-style-type: none;
  }
}

h2 {
  + p {
    border-top: 1px solid gray;
  }
  ~ {
    span {
      opacity: 0.8;
    }
  }
}
```

```css
ul > li {
  list-style-type: none;
}

h2 + p {
  border-top: 1px solid gray;
}

h2 ~ span {
  opacity: 0.8;
}
```

:::

### 属性嵌套

许多 CSS 属性都以作为一种命名空间的相同前缀开头。例如，`font-family`，`font-size`，并且`font-weight`都以 开头`font-`。

::: code-group

```scss
.enlarge {
  font-size: 14px;
  transition: {
    property: font-size;
    duration: 4s;
    delay: 2s;
  }
  /** 可以编写简写值和 更明确的嵌套版本 */
  margin: auto {
    bottom: 10px;
    top: 2px;
  }
}
```

```css
.enlarge {
  font-size: 14px;
  transition-property: font-size;
  transition-duration: 4s;
  transition-delay: 2s;
  /** 可以编写简写值和 更明确的嵌套版本 */
  margin: auto;
  margin-bottom: 10px;
  margin-top: 2px;
}
```

:::

## 父选择器

是 Sass 中的一种特殊选择器，在嵌套选择器中用于引用外部选择器

::: code-group

```scss
.accordion {
  &:hover {
    font-weight: bold;
  }

  /** 放在后面也是允许的 */
  [dir='rtl'] & {
    margin-left: 0;
    margin-right: 10px;
  }

  /** 甚至可以将其用作伪类选择器的参数 */
  :not(&) {
    opacity: 0.8;
  }

  /** 只允许在复合选择器的开头，不能放置复合选择器其他位置，此时编译失败
   *  span& {
   *    font-weight: bold;
   *  }
   */
}
```

```css
@charset "UTF-8";
.accordion {
  /** 放在后面也是允许的 */
  /** 甚至可以将其用作伪类选择器的参数 */
  /** 只允许在复合选择器的开头，不能放置复合选择器其他位置，此时编译失败
   *  span& {
   *    font-weight: bold; 
   *  }
   */
}

.accordion:hover {
  font-weight: bold;
}

[dir='rtl'] .accordion {
  margin-left: 0;
  margin-right: 10px;
}

:not(.accordion) {
  opacity: 0.8;
}
```

:::

### 添加后缀

可以使用父选择器向外部选择器添加额外的后缀。

::: code-group

```scss
.accordion {
  max-width: 600px;
  &__copy {
    display: none;
    &--open {
      display: block;
    }
  }
}
```

```css
.accordion {
  max-width: 600px;
}

.accordion__copy {
  display: none;
}

.accordion__copy--open {
  display: block;
}
```

:::

## 注释

Sass 支持标准的 CSS 多行注释 `/* */`，以及单行注释 `//`，前者会 被完整输出到编译后的 CSS 文件中，而后者则不会。

在压缩模式下输出，这两种注释都会被去除，但是，如果注释以 `/*!` 开头，它将始终包含在 CSS 输出中。

注释中也可以使用插值语句：

::: code-group

```scss
$version: '1.2.3';
/* This CSS is generated by My Snazzy Framework version #{$version}. */
```

```css
/* This CSS is generated by My Snazzy Framework version 1.2.3. */
```

:::
