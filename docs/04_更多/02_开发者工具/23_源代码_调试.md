# 调试

## 使用断点暂停代码

如何设置断点以及断点类型[参考](./break)

断点暂停代码执行时：

- 调试程序会评估当前函数中的所有变量、常量和对象

- `控制台` 的上下文是当前调用栈，即可以在控制台查询已评估的变量、常量和对象。

- 将鼠标悬停在类或函数名称上即可预览其属性。

![image](/img/245.jpg)

## 调试代码

代码暂停后，有多种方式进行调试，调查整个过程中的控制流和属性值。

- 跳过下一个函数调用：在代码行暂停时，如果代码行包含与您要调试的问题无关的函数，可点击 ![image](/img/246.jpg){style="display: inline-block"} 以**执行该函数而不进入该函数**。

- 进入下一个函数调用：在包含与您正在调试的问题相关的函数调用的代码行上暂停时，可点击 ![image](/img/247.jpg){style="display: inline-block"} 单步进入 以进一步执行该函数。

- 跳出当前函数：在与您正在调试的问题无关的函数内暂停时，可点击 ![image](/img/248.jpg){style="display: inline-block"} 单步退出 以执行函数的其余部分。

- 继续执行脚本：在暂停后继续执行脚本，可点击 ![image](/img/249.jpg){style="display: inline-block"} 继续执行脚本。开发者工具会一直执行此脚本，直到出现下一个断点（如果有）。

- 运行特定行之前的所有代码：右键点击您感兴趣的代码行，然后选择 `继续执行到此处`。开发者工具会运行该时间点之前的所有代码，然后在该行暂停。

![image](/img/250.jpg)

## 查看和修改作用域

在代码行暂停时，使用 `作用域` 窗格查看和修改局部作用域、闭包和全局作用域中的属性值：

1. **双击属性值可进行更改**。

2. 非枚举属性呈灰显状态。

![image](/img/251.jpg)

## 查看当前调用堆栈

在某行代码上暂停时，使用 `调用堆栈` 窗格查看将您转到该位置的调用堆栈。

- 点击任一条目，即可跳转到调用该函数的代码行。蓝色箭头图标表示开发者工具当前突出显示的函数。

- 如需观察某个函数的行为并重新运行它，而无需重启整个调试流程，您可以在该函数暂停时重新开始执行单个函数。

  - 您可以重启任何函数帧，但 WebAssembly、异步和生成器函数除外。

  - **重启不会恢复函数调用时的初始状态。而是直接将执行指针移至函数的开头。**

- 启用 `显示已列入忽略列表的帧`, 显示已列入忽略列表的帧

- 右键点击 `调用堆栈` 窗格中的任意位置，然后选择 `复制堆栈轨迹` 以将当前调用堆栈复制到剪贴板。

![image](/img/252.jpg)

## 观察自定义 JavaScript 表达式的值

使用 `监视` 窗格观察自定义表达式的值。您可以监视任何有效的 `JavaScript` 表达式。

![image](/img/253.jpg)
