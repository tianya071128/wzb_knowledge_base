# git mv

## 作用

用于在 Git 仓库中移动或重命名文件 / 目录，同时自动将移动 / 重命名操作添加到暂存区，无需手动执行 `git add` 和 `git rm`。它能让 Git 正确识别文件的移动关系，避免误判为 “删除旧文件 + 新增新文件”。

## 概述

```text
git mv [-v] [-f] [-n] [-k] <source> <destination>
git mv [-v] [-f] [-n] [-k] <source>... <destination-directory>
```

## 描述

* 移动或重命名一个文件、目录或符号链接。
* 在移动成功完成后，暂存区就会被更新，**但更改仍需要进行提交才能生效**。

```bash
# 重命名文件
git mv <原文件路径> <新文件路径>

# 移动文件到目标目录（保持原文件名）
git mv <原文件路径> <目标目录>/

# 移动并同时重命名文件
git mv <原文件路径> <目标目录>/<新文件名>

# 移动/重命名目录
git mv <原目录路径> <新目录路径>
```

## 与手动操作的区别

| 场景                        | `git mv` 命令                           | 手动移动                           |
| --------------------------- | --------------------------------------- | ---------------------------------- |
| 单个文件移动 / 重命名       | ✅ 推荐（一步到位，自动暂存）            | ❌ 繁琐（需手动暂存）               |
| 保持文件历史连续性          | ✅ 最佳选择（明确记录移动关系）          | ⚠️ 需额外操作，**可能丢失关联**     |
| 批量移动且需精确跟踪        | ✅ 支持批量操作（如 `git mv *.js src/`） | ⚠️ 需逐个处理暂存，易遗漏           |
| 临时移动（不希望 Git 跟踪） | ❌ 会被 Git 记录                         | ✅ 可暂不执行 `git add`，保持未跟踪 |

## 选项

### `-f, --force`: 强制移动 / 重命名

* **作用**：当目标文件已存在时，强制覆盖