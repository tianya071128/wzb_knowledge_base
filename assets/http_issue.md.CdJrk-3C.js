import{_ as e,c as t,o as a,aR as r,d8 as o}from"./chunks/framework.DLAwTCsc.js";const T=JSON.parse('{"title":"问题","description":"","frontmatter":{},"headers":[],"relativePath":"http/issue.md","filePath":"03_网络协议/01_http/11_问题.md","lastUpdated":1739447932000}'),l={name:"http/issue.md"},p=r('<h1 id="问题" tabindex="-1">问题 <a class="header-anchor" href="#问题" aria-label="Permalink to &quot;问题&quot;">​</a></h1><p>记录一些 <code>http</code> 相关问题</p><h2 id="http-管道化-流水线-为什么基本上不支持" tabindex="-1">HTTP 管道化(流水线)为什么基本上不支持? <a class="header-anchor" href="#http-管道化-流水线-为什么基本上不支持" aria-label="Permalink to &quot;HTTP 管道化(流水线)为什么基本上不支持?&quot;">​</a></h2><p><a href="/wzb_knowledge_base/http/connection.html#管道化连接-pipeline">管道化</a>，难以现有网络中有老旧的软件与现代版本的软件同时存在，难以保证响应的顺序，已被证明很难在现有的网络中实现。</p><p><a href="https://www.zhihu.com/question/340651010" target="_blank" rel="noreferrer">具体可参考：知乎问题</a></p><h2 id="http-为什么被称为文本协议" tabindex="-1">HTTP 为什么被称为文本协议? <a class="header-anchor" href="#http-为什么被称为文本协议" aria-label="Permalink to &quot;HTTP 为什么被称为文本协议?&quot;">​</a></h2><p>区分二进制协议与文本协议：指的是协议本身的数据格式，而不是负载（payload）的格式。</p><p>HTTP/1 中，请求行、头、body 里的分隔符，都是 ASCII 码。</p><p>HTTP/2，是二进制帧，用字节、位来表示信息，没有 ASCII 码</p><p><a href="https://stackoverflow.com/questions/2645009/binary-protocols-v-text-protocols" target="_blank" rel="noreferrer">stackoverflow</a></p><h2 id="http-协议如何判断响应体-请求体-的结束" tabindex="-1">HTTP 协议如何判断响应体(请求体)的结束？ <a class="header-anchor" href="#http-协议如何判断响应体-请求体-的结束" aria-label="Permalink to &quot;HTTP 协议如何判断响应体(请求体)的结束？&quot;">​</a></h2><p><a href="https://httpwg.org/specs/rfc7230.html#rfc.section.3.3.3" target="_blank" rel="noreferrer">HTTP 协议</a> 中列举了消息体的长度情况，大致可分为：</p><ul><li><p>已知的消息体长度，此时通过头部字段：<a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Headers/Content-Type" target="_blank" rel="noreferrer"><code>Content-Type</code></a> 判断，当读取消息体时，会读取指定的长度，超时部分直接丢弃掉。</p></li><li><p>不确定的消息体长度，一般采用<a href="/wzb_knowledge_base/http/bigFile.html#分块传输">分块传输</a>方式，此时消息体就要符合规范。</p></li></ul><p><img src="'+o+'" alt="img" loading="lazy"></p><p>对于不符合规范的请求(响应)，那么可能：</p><ul><li><p>响应 <a href="https://developer.mozilla.org/zh-CN/docs/Web/HTTP/Status/400" target="_blank" rel="noreferrer"><code>400 Bad Request</code></a></p></li><li><p>判断消息正文长度为零</p></li><li><p>...</p></li></ul><h3 id="参考" tabindex="-1">参考 <a class="header-anchor" href="#参考" aria-label="Permalink to &quot;参考&quot;">​</a></h3><ul><li><p><a href="https://httpwg.org/specs/rfc7230.html#rfc.section.3.3.3" target="_blank" rel="noreferrer">RFC</a>)</p></li><li><p><a href="https://github.com/jinhailang/blog/issues/34" target="_blank" rel="noreferrer">http 协议的结束符</a></p></li></ul>',18),h=[p];function i(s,n,c,d,_,f){return a(),t("div",null,h)}const b=e(l,[["render",i]]);export{T as __pageData,b as default};
