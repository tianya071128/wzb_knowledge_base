import{d as g,nH as V,bK as I,r as p,c as k,rW as w,iC as x,o as E,f as N,k as y,i as a,w as o,d9 as C,e as D,bu as F,sc as S,st as U,aN as B,Q as h,ac as j,bm as M}from"./index-b80d5ef5.js";const O={name:"EnterpriseSettings"},G=g({...O,setup(R){var d,m;const u=(m=(d=V().userInfo)==null?void 0:d.corpInfo)==null?void 0:m.corpId,f=I({corpName:[{required:!0,message:"请输入您的机构名称作为企业名称",trigger:"blur"}]});(async()=>{if(!u)return;const s=await S(u);e.value={...s}})();const i=p(),e=p({id:"",corpName:"",remarks:"",logo:"",logoUrl:""}),_=async()=>{var s;await((s=i.value)==null?void 0:s.validate()),await U(e.value),B.success("编辑企业成功")},n=k(()=>w("user:enterpriseSettings:save"));return(s,l)=>{const c=h,r=j,v=M,b=x("premission");return E(),N("div",{class:"layout_box"},[y("div",{style:{width:"550px"}},[a(v,{ref_key:"ruleFormRef",ref:i,rules:f,model:e.value,"label-width":"100px","label-position":"left"},{default:o(()=>[a(r,{label:"企业名称",prop:"corpName"},{default:o(()=>[a(c,{disabled:!n.value,modelValue:e.value.corpName,"onUpdate:modelValue":l[0]||(l[0]=t=>e.value.corpName=t),placeholder:"请输入您的机构名称作为企业名称"},null,8,["disabled","modelValue"])]),_:1}),a(r,{label:"平台名称"},{default:o(()=>[a(c,{disabled:!n.value,modelValue:e.value.remarks,"onUpdate:modelValue":l[1]||(l[1]=t=>e.value.remarks=t),placeholder:"请输入平台名称"},null,8,["disabled","modelValue"])]),_:1}),a(r,{label:"LOGO图标"},{default:o(()=>[a(C,{modelValue:e.value.logo,"onUpdate:modelValue":l[2]||(l[2]=t=>e.value.logo=t),disabled:!n.value,accept:["jpg","jpeg","bmp","png"]},null,8,["modelValue","disabled"])]),_:1}),a(r,{label:""},{default:o(()=>[D(a(F,{style:{"text-align":"left"},editMode:!0,isCancel:!1,submitText:"保存",onClose:()=>{},"on-submit":_},null,512),[[b,"user:enterpriseSettings:save"]])]),_:1})]),_:1},8,["rules","model"])])])}}});export{G as default};
