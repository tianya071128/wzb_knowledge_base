import{d as v,r as b,bX as h,c as S,o as w,b as y,w as n,k as d,h as i,a2 as M,B as f,eA as V,v as $,i as m,ad as B,a5 as E,C as k,bv as x,P as C,_ as D}from"./index-b80d5ef5.js";const I=v({__name:"Draggable",props:{list:{},noSort:{type:Boolean}},emits:["moveEnd"],setup(_,{emit:c}){const r=c,s=b(null),{width:l}=h(s),u=S(()=>{const e=l.value,a=177,t=8,p=Math.floor(e/(a+t)),g=Math.floor(e/p-t);return!p||!g?{display:"grid",gap:`${t}px`,"grid-template-columns":"repeat(7, 177px)"}:{display:"grid",gap:`${t}px`,"grid-template-columns":`repeat(${p},${g}px)`}}),o=e=>{r("moveEnd",e)};return(e,a)=>(w(),y(f(V),{ref_key:"draggableRef",ref:s,style:M(u.value),list:e.list,onEnd:o,animation:"300",itemKey:"id",disabled:e.noSort},{item:n(({element:t})=>[d("div",{style:{width:"100%",height:"100%"}},[i(e.$slots,"default",{element:t})])]),footer:n(()=>[i(e.$slots,"suffix")]),_:3},8,["style","list","disabled"]))}}),z=v({__name:"ViewMore",props:{drawerModel:{type:Boolean},list:{},title:{},sortFn:{type:Function},noSort:{type:Boolean},addAble:{type:Boolean}},emits:["update:drawerModel","add","refresh"],setup(_,{emit:c}){const r=c,s=_,l=$(s,"drawerModel",r),u=async o=>{if(!s.sortFn)return;const e=o.newIndex,a=s.list[e],t=s.list[e-1];await s.sortFn({beforeId:t?t.id:"0",id:a.id}),r("refresh")};return(o,e)=>{const a=C;return w(),y(x,{modelValue:f(l),"onUpdate:modelValue":e[1]||(e[1]=t=>k(l)?l.value=t:null),"append-to-body":!0,class:"drawer_favorite",direction:"rtl",title:o.title},{default:n(()=>[i(o.$slots,"prefix",{},void 0,!0),m(I,{list:o.list,onMoveEnd:u,noSort:o.noSort},B({default:n(({element:t})=>[i(o.$slots,"default",{element:t},void 0,!0)]),_:2},[o.addAble?{name:"suffix",fn:n(()=>[d("div",{class:"grid-card",onClick:e[0]||(e[0]=t=>r("add"))},[d("div",{class:"grid-card__icon"},[m(a,null,{default:n(()=>[m(f(E))]),_:1})]),d("div",{class:"grid-card__name az-ellipsis"},"添加常用")])]),key:"0"}:void 0]),1032,["list","noSort"])]),_:3},8,["modelValue","title"])}}});const F=D(z,[["__scopeId","data-v-1c5ec216"]]);export{F as V};
