import{d as y,v as C,r as n,c as A,y as I,o as b,b as x,w as T,i as r,B as p,C as k,L as w,fs as B,Q as R,cI as D,_ as E}from"./index-b80d5ef5.js";const N=y({__name:"AppListTree",props:{modelValue:{}},emits:["update:modelValue","change"],setup(c,{emit:d}){const u=c,o=d,i=C(u,"modelValue",o),l=n([]),s=n(),_=async()=>{const e=await B({appId:"",name:"",orgIds:[]});l.value=[...e],setTimeout(()=>{var t;(t=s.value)==null||t.setCurrentKey("")})},m={label:"name"},f=A(()=>[{name:"全部",id:""},{name:"后台管理",id:"-1"},...l.value]),a=n(""),h=(e,t)=>e?t.name.includes(e):!0;I(()=>a.value,e=>{var t;(t=s.value)==null||t.filter(e)});const g=e=>{i.value=e.id,o("change",e.id)};return(e,t)=>{const v=R,V=D;return b(),x(w,{class:"app-list-tree",load:_},{default:T(()=>[r(v,{placeholder:"请输入应用名称搜索",modelValue:p(a),"onUpdate:modelValue":t[0]||(t[0]=L=>k(a)?a.value=L:null),class:"mb-8"},null,8,["modelValue"]),r(V,{class:"app_tree",ref_key:"treeRef",ref:s,data:p(f),props:m,"highlight-current":"","filter-node-method":h,"node-key":"id",onCurrentChange:g},null,8,["data"])]),_:1})}}});const M=E(N,[["__scopeId","data-v-f1b6412d"]]);export{M as A};
