import{d as u,c as S,gS as P,e0 as g,b_ as L,a as D,d4 as x,jU as B,o,f as c,t as $,x as C,r as z,y as E,l$ as A,gh as q,gf as R,b as f,cR as F,cS as T,B as y,m0 as N,m1 as U,e9 as G,hM as J,cj as K,l as p,k as _,F as w,er as Q,eP as W,g as M,m as b,m2 as X,_ as Y}from"./index-b80d5ef5.js";import{D as Z,g as ee,b as O}from"./index-318b68f4.js";const te=u({__name:"ScreenView",props:{field:{},content:{},operate:{}},setup(r){const e=r,a=S(()=>{const l=e.field,n=P(e.content);if(e.operate!==g.dateDynamic){const t=L(D.date,"getFormat");return n.map(s=>(t==null?void 0:t(s,l))??s).map(s=>x(s).format(B(l.options.type,l.options.format))).join(" ~ ")}else{const t=n[0];if(!t)return"";if(t.mode!==Z.custom)return`等于${ee(t.start??"")}`;{const s=!t.end&&!t.start?"":t.end?t.start?"在范围内":"小于等于":"大于等于",v=O(t.start),d=O(t.end);return`${s} ${v}${v&&d?" ~ ":""}${d}`}}});return(l,n)=>(o(),c("span",null,$(a.value),1))}}),ne=Object.freeze(Object.defineProperty({__proto__:null,default:te},Symbol.toStringTag,{value:"Module"})),H=u({__name:"ScreenView",props:{field:{},content:{},operate:{}},setup(r){const e=r,a=C(),l=z("");return E(()=>{var n;return(n=e.content)==null?void 0:n.join("、")},async()=>{var n,t;[g.eqAny,g.noEqAny].includes(e.operate)?l.value=((n=e.content)==null?void 0:n.join("、"))??"":l.value=await A({group:[q()],val:((t=e.content)==null?void 0:t[0])??"",dataSystem:a})},{immediate:!0}),(n,t)=>(o(),c("span",{innerHTML:l.value},null,8,["innerHTML"]))}}),oe=Object.freeze(Object.defineProperty({__proto__:null,default:H},Symbol.toStringTag,{value:"Module"})),ae=u({__name:"ScreenView",setup(r){const e=R();return(a,l)=>(o(),f(H,F(T(y(e))),null,16))}}),re=Object.freeze(Object.defineProperty({__proto__:null,default:ae},Symbol.toStringTag,{value:"Module"})),le=u({__name:"ScreenView",setup(r){return(e,a)=>(o(),f(N,F(T(e.$attrs)),null,16))}}),ie=Object.freeze(Object.defineProperty({__proto__:null,default:le},Symbol.toStringTag,{value:"Module"})),se=u({__name:"ScreenView",setup(r){return(e,a)=>(o(),f(U,F(T(e.$attrs)),null,16))}}),ce=Object.freeze(Object.defineProperty({__proto__:null,default:se},Symbol.toStringTag,{value:"Module"})),de=u({__name:"ScreenView",setup(r){return(e,a)=>(o(),f(N,F(T(e.$attrs)),null,16))}}),ue=Object.freeze(Object.defineProperty({__proto__:null,default:de},Symbol.toStringTag,{value:"Module"})),I={},pe=Object.assign({"../../field/basicField/date/pc/ScreenView.vue":ne,"../../field/basicField/input/pc/ScreenView.vue":oe,"../../field/basicField/textarea/pc/ScreenView.vue":re,"../../field/relationField/cascader/pc/ScreenView.vue":ie,"../../field/relationField/linkData/pc/ScreenView.vue":ce,"../../field/relationField/parent/pc/ScreenView.vue":ue});Object.entries(pe).forEach(([r,e])=>{const a=r.split(G.sep),l=a[a.length-3];let n=e;n=n.default||n,I[l]=n});function _e(r){if(!r)return null;let e=I[r]??null;return J(e)==="module"&&(e=e.default),e}const fe=u({__name:"FieldViewItem",props:{conditionItem:{},fieldInfo:{}},setup(r){const e=r,a=S(()=>{var t;return _e((t=e.fieldInfo)==null?void 0:t.field.type)}),l=C(),n=S(()=>{var t;if(a.value)return"";if(!(e.conditionItem.type===g.empty||e.conditionItem.type===g.noEmpty||e.conditionItem.type==null)&&e.fieldInfo){const s=L((t=e.fieldInfo)==null?void 0:t.field.type,"format");return s==null?void 0:s(e.conditionItem.value,e.conditionItem.type,e.fieldInfo,{dataSystem:l})}return""});return(t,s)=>(o(),c(w,null,[a.value&&e.fieldInfo?(o(),f(K(a.value),{key:0,field:e.fieldInfo.field,content:t.conditionItem.value,operate:t.conditionItem.type},null,8,["field","content","operate"])):p("",!0),_("span",{class:"condition-compare",innerHTML:n.value},null,8,["innerHTML"])],64))}}),me=u({__name:"FieldConditionView",props:{condition:{},appId:{},isConditionForm:{type:Boolean},fields:{},compareFields:{}},setup(r){const e=r,a=S(()=>e.condition??[]),{getFieldInfo:l,getFieldHtmlLabel:n}=Q(),{getFormHtmlName:t}=W(),s=d=>l(d.leftFieldName??"",{entryId:d.leftTableName??"",fields:e.fields}),v=({type:d,leftFieldType:h})=>{var m;return d?((m=X(h).find(i=>i.value===d))==null?void 0:m.label)??"":""};return(d,h)=>(o(),c("div",null,[(o(!0),c(w,null,M(a.value,(V,m)=>(o(),c("div",{class:"view-condition",key:m},[_("div",{class:"condition-and"},[(o(!0),c(w,null,M(V.conditionSets,(i,k)=>{var j;return o(),c("div",{class:"condition-wrapper",key:k},[d.isConditionForm&&i.leftTableName?(o(),c("span",{key:0},[b(" 「 "),_("span",{class:"condition-field",innerHTML:y(t)(i.leftTableName)},null,8,["innerHTML"]),b(" 」的 ")])):p("",!0),_("span",{class:"condition-field",innerHTML:y(n)(i.leftFieldName??"",{fields:e.fields,entryId:i.leftTableName})},null,8,["innerHTML"]),_("span",{class:"condition-operate color2"},$(v(i)),1),i.rightTableName?(o(),c("span",{key:1},[b(" 「 "),_("span",{class:"condition-field",innerHTML:y(t)(i.rightTableName)},null,8,["innerHTML"]),b(" 」的 ")])):p("",!0),i.rightFieldName?(o(),c("span",{key:2,class:"condition-field",innerHTML:y(n)(i.rightFieldName??"",{entryId:i.rightTableName,fields:d.compareFields})},null,8,["innerHTML"])):p("",!0),(j=i.value)!=null&&j.length?(o(),f(fe,{key:3,"condition-item":i,"field-info":s(i)},null,8,["condition-item","field-info"])):p("",!0)])}),128))]),m!==a.value.length-1?(o(),c("div",{key:0,class:"condition-or"},"或")):p("",!0)]))),128))]))}});const ve=Y(me,[["__scopeId","data-v-e6b67ae1"]]);export{ve as F,_e as m};
