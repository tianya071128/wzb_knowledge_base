import{C as e,N as p}from"./enum-7a2ae6a9.js";const i=[{key:"readable",value:e.Visible},{key:"writeable",value:e.Edit},{key:"required",value:e.Required},{key:"summary",value:e.Summary},{key:"summary_h5",value:e.Summary_h5},{key:"download",value:e.Download},{key:"add_template",value:e.add_template},{key:"delete_template",value:e.delete_template},{key:"design_template",value:e.design_template},{key:"entry_template",value:e.entry_template},{key:"preview_template",value:e.preview_template}],m=l=>{const d=Number(l.property);return{fieldId:l.id,...i.reduce((a,{key:t,value:r})=>({...a,[t]:(d&r)>0}),{})}},o=l=>i.reduce((d,{key:a,value:t})=>l[a]?d|t:d,0).toString(),f=(l,d)=>l.map(a=>{const t=[];return d.forEach(r=>{const u=a.fields.find(s=>s.id===r.fieldId),n=a.type===p.StartEvent;if("required"in r.options&&r.options.required&&!n)if(u){const s=m(u);s.required=!0,u.property=o(s),t.push(u)}else{const s={fieldId:r.fieldId,readable:!0,writeable:!1,required:!0,summary:!1,summary_h5:!1};t.push({id:r.fieldId,name:r.options.label,property:o(s)})}else u&&t.push(u)}),{...a,fields:t}});export{o as a,m as g,f as m};
