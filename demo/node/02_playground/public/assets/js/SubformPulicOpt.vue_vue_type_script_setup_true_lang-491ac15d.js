import{d as V,c as R,y as u,o as m,f as b,i as d,w as t,k as a,mp as w,B as y,a as B,b as U,l as T,F as k,q as E,Q as v}from"./index-b80d5ef5.js";import{_ as $,a as C}from"./FieldOtherEditor.vue_vue_type_script_setup_true_lang-a2d4ed75.js";import{_ as g}from"./FormFieldValidateEditor.vue_vue_type_script_setup_true_lang-670668c9.js";import{E as p}from"./routePage-70460a50.js";import{_ as F}from"./FieldLengthEditor.vue_vue_type_script_setup_true_lang-b711d652.js";import{_ as I}from"./FieldWidthEditor.vue_vue_type_script_setup_true_lang-3f895778.js";const W=V({__name:"SubformPulicOpt",props:{field:{}},setup(r){const i=r,s=R({get(){return i.field.options.addRecord||i.field.options.edit||i.field.options.deleteRecord||i.field.options.importRecord},set(e){i.field.options.addRecord=e,i.field.options.edit=e,i.field.options.deleteRecord=e,i.field.options.importRecord=e}});return u(s,()=>{s.value&&!i.field.options.show&&(i.field.options.show=!0)}),u(()=>i.field.options.show,()=>{i.field.options.show||(i.field.options.addRecord=!1,i.field.options.edit=!1,i.field.options.deleteRecord=!1,i.field.options.importRecord=!1)}),(e,l)=>{const n=E,f=v;return m(),b(k,null,[d(g,{modelValue:e.field.options,"onUpdate:modelValue":l[0]||(l[0]=o=>e.field.options=o),id:e.field.fieldId},null,8,["modelValue","id"]),d($,{modelValue:e.field.options,"onUpdate:modelValue":l[6]||(l[6]=o=>e.field.options=o),id:e.field.fieldId,hideEdit:""},{default:t(()=>[a("div",{class:"w100"},[d(n,{modelValue:s.value,"onUpdate:modelValue":l[1]||(l[1]=o=>s.value=o)},{default:t(()=>[a("span",null,"可编辑"),d(w,{tip:"配置子表单的具体操作权限"})]),_:1},8,["modelValue"])]),a("div",{class:"w100 pl-20"},[d(n,{modelValue:e.field.options.addRecord,"onUpdate:modelValue":l[2]||(l[2]=o=>e.field.options.addRecord=o)},{default:t(()=>[a("span",null,"可新增记录")]),_:1},8,["modelValue"])]),a("div",{class:"w100 pl-20"},[d(n,{modelValue:e.field.options.importRecord,"onUpdate:modelValue":l[3]||(l[3]=o=>e.field.options.importRecord=o)},{default:t(()=>[a("span",null,"可导入记录")]),_:1},8,["modelValue"])]),a("div",{class:"w100 pl-20"},[d(n,{modelValue:e.field.options.edit,"onUpdate:modelValue":l[4]||(l[4]=o=>e.field.options.edit=o)},{default:t(()=>[a("span",null,"可编辑已有记录")]),_:1},8,["modelValue"])]),a("div",{class:"w100 pl-20"},[d(n,{modelValue:e.field.options.deleteRecord,"onUpdate:modelValue":l[5]||(l[5]=o=>e.field.options.deleteRecord=o)},{default:t(()=>[a("span",null,"可删除已有记录")]),_:1},8,["modelValue"])])]),_:1},8,["modelValue","id"]),d(I,{modelValue:e.field.options,"onUpdate:modelValue":l[7]||(l[7]=o=>e.field.options=o),field:e.field},null,8,["modelValue","field"]),e.field.type===y(B).linkSubform?(m(),U(F,{key:0,field:e.field},null,8,["field"])):T("",!0),d(p,{label:"按钮/操作文案",tip:"可自定义按钮/操作文案"},{default:t(()=>[d(p,{type:"secondary",label:"新增按钮"},{default:t(()=>[d(f,{modelValue:e.field.options.addBtnText,"onUpdate:modelValue":l[8]||(l[8]=o=>e.field.options.addBtnText=o),placeholder:"可修改按钮文案",clearable:""},null,8,["modelValue"])]),_:1}),d(p,{type:"secondary",label:"编辑按钮"},{default:t(()=>[d(f,{modelValue:e.field.options.editBtnText,"onUpdate:modelValue":l[9]||(l[9]=o=>e.field.options.editBtnText=o),placeholder:"可修改按钮文案",clearable:""},null,8,["modelValue"])]),_:1}),d(p,{type:"secondary",label:"删除按钮",style:{"margin-bottom":"0"}},{default:t(()=>[d(f,{modelValue:e.field.options.deleteBtnText,"onUpdate:modelValue":l[10]||(l[10]=o=>e.field.options.deleteBtnText=o),placeholder:"可修改按钮文案",clearable:""},null,8,["modelValue"])]),_:1})]),_:1}),d(C,{field:e.field},null,8,["field"])],64)}}});export{W as _};
