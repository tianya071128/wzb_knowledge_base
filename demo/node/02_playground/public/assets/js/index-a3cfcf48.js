import{d as N,r as t,aV as V,ci as E,c as z,aW as D,B as i,vw as L,e as P,o as a,b as r,w as s,i as v,m as x,ad as I,f as J,k as l,t as d,vS as h,fo as U,U as $,cr as q,ca as M,_ as T}from"./index-b80d5ef5.js";import{S as W}from"./SecondaryPage-60f4f4b3.js";import{R}from"./RegisterForm-f0065f9d.js";import{J as A,x as G}from"./cooperation-dbdc5052.js";import{_ as H}from"./AutoJump.vue_vue_type_script_setup_true_lang-a3aa2601.js";import"./AzPasswordFormItem-db212711.js";import"./ReadAgreement-266930fb.js";import"./MobileFormItem.vue_vue_type_script_setup_true_lang-b23f5d06.js";import"./encryption-40d88f62.js";const K=N({__name:"index",setup(O){const e=t(!0),_=t(!0),f=t(),S=V(),o=t("success"),u=t("申请已提交，等待管理员审核"),j=E(),n=z(()=>S.query.invitation_code),p=()=>{e.value=!1},y=c=>{e.value=!1,o.value="error",u.value=c},m=t(""),w=async()=>{if(n.value)try{await A(n.value)!=="true"?(e.value=!1,y("链接已过期")):m.value=await G(n.value)}catch{y("邀请链接异常"),e.value=!1}finally{_.value=!1}},B=D(),C=()=>{B.replace("/login")};return w(),(c,g)=>{const b=$,k=q,F=M;return i(L)?(a(),J("div",{key:1,class:"mobile-joinent"},[l("div",{class:"mobile-joinent-header"},[l("div",{class:"header-h1"},d(m.value),1),l("div",{class:"az-tip"},"邀请您加入我们")]),e.value?(a(),r(R,{key:0,ref_key:"registerFormRef",ref:f,"btn-text":"注册并加入企业","is-join":"2",memberInviteId:n.value,onSuccess:p},null,8,["memberInviteId"])):(a(),r(k,{key:1,icon:o.value,title:u.value,class:"mt-20"},I({_:2},[o.value==="success"?{name:"extra",fn:s(()=>[l("div",{class:"mobile-joinent-tip mb-5"}," 访问以下平台可与我们一起解锁新功能。 "),l("div",{class:"mobile-joinent-url"},d(i(j).pageName)+"："+d(i(h)()),1),v(b,{class:"mobile-joinent-btn",type:"primary",round:"",size:"large",onClick:g[0]||(g[0]=Q=>i(U)(i(h)()))},{default:s(()=>[x(" 复制地址，开始协作 ")]),_:1})]),key:"0"}:void 0]),1032,["icon","title"]))])):P((a(),r(W,{key:0,content:m.value,"secondary-content":"邀请您加入我们",backLogin:!1},{headerRight:s(()=>[v(b,{onClick:C},{default:s(()=>[x("登录已有账号")]),_:1})]),default:s(()=>[e.value?(a(),r(R,{key:0,ref_key:"registerFormRef",ref:f,"btn-text":"注册并加入企业","is-join":"2",memberInviteId:n.value,onSuccess:p},null,8,["memberInviteId"])):(a(),r(k,{key:1,icon:o.value,title:u.value,class:"mt-20"},I({_:2},[o.value==="success"?{name:"extra",fn:s(()=>[v(H,{style:{width:"400px"},size:"large"})]),key:"0"}:void 0]),1032,["icon","title"]))]),_:1},8,["content"])),[[F,_.value]])}}});const ie=T(K,[["__scopeId","data-v-07e8029f"]]);export{ie as default};
