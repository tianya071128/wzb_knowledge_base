import{d as E,aY as w,r as u,y as L,o as l,f as m,i as y,w as f,k as A,B as e,C as b,F as C,b as g,l as v,L as R,b4 as I,bd as q,b6 as N,be as F,cg as D,ch as T,_ as K}from"./index-b80d5ef5.js";import{u as O}from"./useQueryTab-05fa7456.js";import{D as Q}from"./DesignerTabs-a9795edf.js";import{u as k}from"./useExtractQuery-f96f705c.js";const x="externalpage_designer_toolbar",U=E({__name:"routePage",setup(G){const p=[{label:"页面设计",name:"designer"},{label:"发布设置",name:"publish"}],{activeTab:n}=O(p.map(a=>a.name),{queryKey:"externalPageDesignerTab"});w();const s=k("appId"),t=k("entryId"),i=()=>{s?I(q,{replace:!0,query:{appId:s.value,entryId:t.value,manager:"1"}}):I(N,{replace:!0})},o=u(),c=u(),P=async()=>{var a,r;if(n.value==="designer")return await((r=(a=c.value)==null?void 0:a.beforeLeave)==null?void 0:r.call(a))},_=u(),V=async()=>{o.value=void 0,t.value&&(o.value=await F(t.value))};L([s,t],()=>{var a;return(a=_.value)==null?void 0:a.reload()});const h=D(()=>T(()=>import("./DesignerTab-091467d4.js"),["./DesignerTab-091467d4.js","./index-b80d5ef5.js","..\\css\\index-13cb634b.css","./ButtonState-cb54910b.js","..\\css\\ButtonState-a8d21f44.css","./PluginSelect-032e797b.js","./ParamsSetWrapper.vue_vue_type_script_setup_true_lang-c3f6631f.js","./ParamsSet.vue_vue_type_script_setup_true_lang-37c252c5.js","./AzInputNumber-d6212644.js","./el-input-number-c15b1cc7.js","..\\css\\el-input-number-3100e046.css","..\\css\\AzInputNumber-7eb04079.css","..\\css\\ParamsSet-5131144c.css","..\\css\\ParamsSetWrapper-a155c2a8.css","..\\css\\PluginSelect-b3c2749e.css","./index-c26b8edc.js","./SelectEntryAndOther-76a65b2d.js","..\\css\\SelectEntryAndOther-c49439e9.css","./SelectFieldByMultEntry-84abd0c3.js","..\\css\\SelectFieldByMultEntry-5f68cda0.css","..\\css\\DesignerTab-a55f88c7.css"],import.meta.url)),B=D(()=>T(()=>import("./PublishTab-f4fe11c9.js"),["./PublishTab-f4fe11c9.js","./useQueryTab-05fa7456.js","./index-b80d5ef5.js","..\\css\\index-13cb634b.css","./useExtractQuery-f96f705c.js","./CardTabs-ca59b5e9.js","..\\css\\CardTabs-474accad.css","./SetAuth-50c8e12e.js","./LoadingData-195d0581.js","./AutoJump.vue_vue_type_script_setup_true_lang-a3aa2601.js","..\\css\\LoadingData-c62058eb.css","..\\css\\SetAuth-8db27fb0.css","..\\css\\PublishTab-3c3e1953.css"],import.meta.url));return(a,r)=>(l(),m("div",null,[y(Q,{modelValue:e(n),"onUpdate:modelValue":r[0]||(r[0]=d=>b(n)?n.value=d:null),tabs:p,onBack:i,entryDetails:e(o),"onUpdate:entryDetails":r[1]||(r[1]=d=>b(o)?o.value=d:null),"before-leave":P},{default:f(()=>[A("div",{id:x})]),_:1},8,["modelValue","entryDetails"]),y(R,{queryKeys:["entryId","appId"],path:i,ref_key:"loadingDataRef",ref:_,class:"external_page",load:V,"element-loading-background":"transparent"},{default:f(()=>[e(s)&&e(t)?(l(),m(C,{key:0},[e(n)==="designer"?(l(),g(e(h),{key:0,appId:e(s),entryId:e(t),teleportTo:`#${x}`,ref_key:"designerTab",ref:c},null,8,["appId","entryId","teleportTo"])):e(n)==="publish"?(l(),g(e(B),{key:1,appId:e(s),entryId:e(t),entryDetails:e(o)},null,8,["appId","entryId","entryDetails"])):v("",!0)],64)):v("",!0)]),_:1},512)]))}});const $=K(U,[["__scopeId","data-v-f499b9fb"]]);export{$ as default};
