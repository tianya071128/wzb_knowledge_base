/* empty css              *//* empty css              *//* empty css              *//* empty css              */import{F as C,C as F}from"./index-4a9e77d2.js";import{S as y}from"./SelectPane-17fa382a.js";import{d as k,r as i,v as h,o as x,b as B,w as s,i as a,B as p,is as R,C as S}from"./index-b80d5ef5.js";import{F as D}from"./index-ba3c5d48.js";import{D as N}from"./FlowFormRender-c8e3be49.js";import"./use-route-c2b2b5be.js";import"./use-id-d3187131.js";import"./index-34056eca.js";import"./index-30749bf5.js";import"./AzPopup-b04fec03.js";import"./useIncreaseCustomFieldValue-c1159fdb.js";import"./index-0e679d15.js";import"./index-ae93b8ef.js";import"./enum-7a2ae6a9.js";import"./useFlowForm-df7c1aa0.js";const Y=k({__name:"Transfer",props:{visible:{type:Boolean},transferScope:{}},emits:["update:visible","submit"],setup(f,{emit:c}){const d=f,u=c,l=i(),t=i({transferUser:null,comment:""}),m=h(d,"visible",u),v=i(!1),b=async()=>{var o,e,r;(o=l.value)==null||o.validate(),u("submit",{transferUser:((r=(e=t.value)==null?void 0:e.transferUser)==null?void 0:r.id)??"",comment:t.value.comment})},_=()=>{var o;t.value.comment="",t.value.transferUser=null,(o=l.value)==null||o.resetValidation()},w=o=>new Promise(e=>{var r;o==="confirm"?(r=l.value)==null||r.validate().then(()=>{e(!0)}).catch(()=>{e(!1)}):e(!0)});return(o,e)=>{const r=C,V=F,g=D,U=N;return x(),B(U,{show:p(m),"onUpdate:show":e[3]||(e[3]=n=>S(m)?m.value=n:null),title:"转交","show-cancel-button":"","confirm-button-text":"确定","before-close":w,teleport:"body",onConfirm:b,onOpen:_},{default:s(()=>[a(g,{ref_key:"ruleFormRef",ref:l},{default:s(()=>[a(V,{inset:""},{default:s(()=>[a(r,{"is-link":"",readonly:"",name:"picker",label:"转交给",placeholder:"转交给",onClick:e[1]||(e[1]=n=>v.value=!0),rules:[{required:!0,message:"请选择转交用户"}]},{input:s(()=>[a(y,{modelValue:t.value.transferUser,"onUpdate:modelValue":e[0]||(e[0]=n=>t.value.transferUser=n),selectRange:o.transferScope,tabs:[p(R).memberByOrg]},null,8,["modelValue","selectRange","tabs"])]),_:1}),a(r,{modelValue:t.value.comment,"onUpdate:modelValue":e[2]||(e[2]=n=>t.value.comment=n),type:"textarea",name:"comment",label:"转交原因",placeholder:"请输入转交原因","show-word-limit":"",maxlength:"2000"},null,8,["modelValue"])]),_:1})]),_:1},512)]),_:1},8,["show"])}}});export{Y as default};
