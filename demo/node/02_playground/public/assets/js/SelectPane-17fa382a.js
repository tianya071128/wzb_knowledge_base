/* empty css              */import{f as ge,F as Ne,a as ie}from"./index-4a9e77d2.js";/* empty css              */import{u as He,a as be,T as he}from"./index-34056eca.js";import"./index-30749bf5.js";import{A as me}from"./AzPopup-b04fec03.js";import{lL as re,d as O,r as I,xr as ke,c as F,y as j,i$ as Fe,bx as Ve,w6 as Se,xu as Pe,i as _,xw as te,lN as se,w4 as Re,aT as Te,w2 as fe,xv as je,lK as ee,lO as ue,bK as Be,xF as Ke,lU as Je,lW as Ie,xn as qe,lT as Ce,wa as _e,I as de,gk as Ge,B as l,gW as ae,o as p,f as T,l as D,k as L,t as le,p as Q,b as P,lS as ce,_ as W,bJ as oe,h as A,bI as $e,eK as Oe,w as b,cR as we,cS as ze,AZ as Ye,cC as Xe,m as E,F as H,g as K,bc as Ze,dj as U,hd as Qe,ka as el,A_ as ll,C as $,A$ as tl,B0 as al,B1 as nl,B2 as sl,B3 as ol,B4 as il,v as rl,B5 as ul,B6 as dl,B7 as cl,B8 as De,is as N,gV as pl,B9 as ml,Ba as fl,ad as _l,a2 as ve}from"./index-b80d5ef5.js";import{C as Le,T as vl,u as yl}from"./useIncreaseCustomFieldValue-c1159fdb.js";import{E as gl}from"./index-0e679d15.js";import{u as bl}from"./use-id-d3187131.js";import{B as hl}from"./index-ae93b8ef.js";const[kl,G,Vl]=re("list"),Sl={error:Boolean,offset:te(300),loading:Boolean,disabled:Boolean,finished:Boolean,scroller:Object,errorText:String,direction:se("down"),loadingText:String,finishedText:String,immediateCheck:Re};var Pl=O({name:kl,props:Sl,emits:["load","update:error","update:loading"],setup(n,{emit:c,slots:i}){const r=I(n.loading),s=I(),u=I(),f=He(),e=ke(s),t=F(()=>n.scroller||e.value),a=()=>{Te(()=>{if(r.value||n.finished||n.disabled||n.error||(f==null?void 0:f.value)===!1)return;const{direction:S}=n,R=+n.offset,C=fe(t);if(!C.height||je(s))return;let B=!1;const m=fe(u);S==="up"?B=C.top-m.top<=R:B=m.bottom-C.bottom<=R,B&&(r.value=!0,c("update:loading",!0),c("load"))})},V=()=>{if(n.finished){const S=i.finished?i.finished():n.finishedText;if(S)return _("div",{class:G("finished-text")},[S])}},h=()=>{c("update:error",!1),a()},g=()=>{if(n.error){const S=i.error?i.error():n.errorText;if(S)return _("div",{role:"button",class:G("error-text"),tabindex:0,onClick:h},[S])}},y=()=>{if(r.value&&!n.finished&&!n.disabled)return _("div",{class:G("loading")},[i.loading?i.loading():_(ee,{class:G("loading-icon")},{default:()=>[n.loadingText||Vl("loading")]})])};return j(()=>[n.loading,n.finished,n.error],a),f&&j(f,S=>{S&&a()}),Fe(()=>{r.value=n.loading}),Ve(()=>{n.immediateCheck&&a()}),Se({check:a}),Pe("scroll",a,{target:t,passive:!0}),()=>{var S;const R=(S=i.default)==null?void 0:S.call(i),C=_("div",{ref:u,class:G("placeholder")},null);return _("div",{ref:s,role:"feed",class:G(),"aria-busy":r.value},[n.direction==="down"?R:C,y(),V(),g(),n.direction==="up"?R:C])}}});const Rl=ue(Pl),[Tl,X,Bl]=re("pull-refresh"),Ue=50,Il=["pulling","loosing","success"],Cl={disabled:Boolean,modelValue:Boolean,headHeight:te(Ue),successText:String,pullingText:String,loosingText:String,loadingText:String,pullDistance:Je,successDuration:te(500),animationDuration:te(300)};var $l=O({name:Tl,props:Cl,emits:["change","refresh","update:modelValue"],setup(n,{emit:c,slots:i}){let r;const s=I(),u=I(),f=ke(s),e=Be({status:"normal",distance:0,duration:0}),t=Ke(),a=()=>{if(n.headHeight!==Ue)return{height:`${n.headHeight}px`}},V=()=>e.status!=="loading"&&e.status!=="success"&&!n.disabled,h=d=>{const o=+(n.pullDistance||n.headHeight);return d>o&&(d<o*2?d=o+(d-o)/2:d=o*1.5+(d-o*2)/4),Math.round(d)},g=(d,o)=>{const k=+(n.pullDistance||n.headHeight);e.distance=d,o?e.status="loading":d===0?e.status="normal":d<k?e.status="pulling":e.status="loosing",c("change",{status:e.status,distance:d})},y=()=>{const{status:d}=e;return d==="normal"?"":n[`${d}Text`]||Bl(d)},S=()=>{const{status:d,distance:o}=e;if(i[d])return i[d]({distance:o});const k=[];return Il.includes(d)&&k.push(_("div",{class:X("text")},[y()])),d==="loading"&&k.push(_(ee,{class:X("loading")},{default:y})),k},R=()=>{e.status="success",setTimeout(()=>{g(0)},+n.successDuration)},C=d=>{r=qe(f.value)===0,r&&(e.duration=0,t.start(d))},B=d=>{V()&&C(d)},m=d=>{if(V()){r||C(d);const{deltaY:o}=t;t.move(d),r&&o.value>=0&&t.isVertical()&&(Ie(d),g(h(o.value)))}},v=()=>{r&&t.deltaY.value&&V()&&(e.duration=+n.animationDuration,e.status==="loosing"?(g(+n.headHeight,!0),c("update:modelValue",!0),Te(()=>c("refresh"))):g(0))};return j(()=>n.modelValue,d=>{e.duration=+n.animationDuration,d?g(+n.headHeight,!0):i.success||n.successText?R():g(0,!1)}),Pe("touchmove",m,{target:u}),()=>{var d;const o={transitionDuration:`${e.duration}ms`,transform:e.distance?`translate3d(0,${e.distance}px, 0)`:""};return _("div",{ref:s,class:X()},[_("div",{ref:u,class:X("track"),style:o,onTouchstartPassive:B,onTouchend:v,onTouchcancel:v},[_("div",{class:X("head"),style:a()},[S()]),(d=i.default)==null?void 0:d.call(i)])])}}});const Ol=ue($l),[wl,Z,zl]=re("search"),Dl=Ce({},ge,{label:String,shape:se("square"),leftIcon:se("search"),clearable:Re,actionText:String,background:String,showAction:Boolean});var Ll=O({name:wl,props:Dl,emits:["blur","focus","clear","search","cancel","clickInput","clickLeftIcon","clickRightIcon","update:modelValue"],setup(n,{emit:c,slots:i,attrs:r}){const s=bl(),u=I(),f=()=>{i.action||(c("update:modelValue",""),c("cancel"))},e=o=>{o.keyCode===13&&(Ie(o),c("search",n.modelValue))},t=()=>n.id||`${s}-input`,a=()=>{if(i.label||n.label)return _("label",{class:Z("label"),for:t()},[i.label?i.label():n.label])},V=()=>{if(n.showAction){const o=n.actionText||zl("cancel");return _("div",{class:Z("action"),role:"button",tabindex:0,onClick:f},[i.action?i.action():o])}},h=()=>{var o;return(o=u.value)==null?void 0:o.blur()},g=()=>{var o;return(o=u.value)==null?void 0:o.focus()},y=o=>c("blur",o),S=o=>c("focus",o),R=o=>c("clear",o),C=o=>c("clickInput",o),B=o=>c("clickLeftIcon",o),m=o=>c("clickRightIcon",o),v=Object.keys(ge),d=()=>{const o=Ce({},r,_e(n,v),{id:t()}),k=z=>c("update:modelValue",z);return _(Ne,de({ref:u,type:"search",class:Z("field",{"with-message":o.errorMessage}),border:!1,onBlur:y,onFocus:S,onClear:R,onKeypress:e,onClickInput:C,onClickLeftIcon:B,onClickRightIcon:m,"onUpdate:modelValue":k},o),_e(i,["left-icon","right-icon"]))};return Se({focus:g,blur:h}),()=>{var o;return _("div",{class:Z({"show-action":n.showAction}),style:{background:n.background}},[(o=i.left)==null?void 0:o.call(i),_("div",{class:Z("content",n.shape)},[a(),d()]),V()])}}});const Ul=ue(Ll);const xl=O({__name:"SelectItemDisplay",props:{isIcon:{type:Boolean,default:!0},id:{},type:{},dynamicOptions:{},isMobile:{type:Boolean,default:!1},isLock:{type:Boolean},otherOptions:{}},setup(n){const c=n,{imgSrc:i,label:r,selectInfo:s}=Ge(c);return(u,f)=>{const e=ce;return l(s).__status__!==l(ae).loading?(p(),T("span",{key:0,class:"select-display"},[l(i)&&u.isIcon?(p(),T("img",{key:0,class:"select-img",src:l(i),alt:""},null,8,["src"])):D("",!0),L("span",{class:Q(["select-display-label van-ellipsis",{"remove-text":l(s).__status__===l(ae).remove}])},le(l(r)),3),u.isLock?(p(),P(e,{key:1,style:{"margin-left":"3px"},name:"lock"})):D("",!0)])):D("",!0)}}});const M=W(xl,[["__scopeId","data-v-094ddb50"]]),xe=Symbol("移动端.面包屑"),Al=O({__name:"AzBreadcrumb",props:{separator:{default:">"}},setup(n){return oe(xe,n),(i,r)=>(p(),T("div",{class:"az_breadcrumb"},[A(i.$slots,"default",{},void 0,!0)]))}});const El=W(Al,[["__scopeId","data-v-e753c602"]]),Wl=O({__name:"AzBreadcrumbItem",props:{link:{type:Boolean,default:!0}},emits:["click"],setup(n,{emit:c}){const i=n,r=c,s=$e(xe,void 0),{separator:u}=Oe(s),f=()=>{i.link&&r("click")};return(e,t)=>(p(),T("span",{class:"az_breadcrumb-item"},[L("span",{onClick:f,class:Q({"text-theme-primary":e.link})},[A(e.$slots,"default",{},void 0,!0)],2),L("span",{class:"az_breadcrumb-separator"},le(l(u)),1)]))}});const ye=W(Wl,[["__scopeId","data-v-c4954cd3"]]),Ml={};function Nl(n,c){const i=gl;return p(),P(i,we(ze(n.$attrs)),{default:b(()=>[A(n.$slots,"default")]),_:3},16)}const Ae=W(Ml,[["render",Nl]]),Ee=Symbol("移动端.部门面包屑相关信息"),Hl=O({__name:"OrgTabPane",props:{modelValue:{},expandOrgId:{},multiple:{type:Boolean},name:{},selectRange:{},onlyInstitution:{type:Boolean},customStrictly:{type:Boolean},isSelect:{type:Boolean,default:!0},onlyExistVal:{type:Boolean},selectRangeChildOrg:{type:[Boolean,null],default:null},isStatistics:{type:Boolean},countMap:{},topTree:{},bottomTree:{},noRemove:{type:Boolean}},emits:["update:modelValue","update:expandOrgId"],setup(n,{expose:c,emit:i}){const r=n,s=i,u=F(()=>{var m;return((m=r.name)==null?void 0:m.trim())??""}),{loading:f,normlTreeData:e,otherOptions:t}=Ye(r),a=I("");j(()=>r.expandOrgId,m=>{m!=null&&m===a.value&&(a.value=m)},{immediate:!0}),j(a,m=>{s("update:expandOrgId",m)},{immediate:!0});const V=(m,v,d=[])=>{for(const o of v){if(o.id===m)return[...d,o];if(o.children){const k=V(m,o.children,[...d,o]);if(k)return k}}},h=F(()=>V(a.value,e.value)??[]),g=m=>{a.value=(m==null?void 0:m.id)??""},y=F(()=>{var m;if(u.value){const v=[],d=[...e.value];for(const o of d)o.name.includes(u.value)&&v.push(o),o.children&&d.push(...o.children);return v}return a.value?((m=h.value[h.value.length-1])==null?void 0:m.children)??[]:e.value}),S=m=>{var v;((v=m.children)!=null&&v.length||!r.isSelect)&&(a.value=m.id)},R=m=>{var v;return!!(m.customStrictly||(v=r.modelValue)!=null&&v.includes(m.id))},C=(m,v)=>{const d=new Set([...r.modelValue??[]]);r.noRemove&&!r.multiple&&d.has(v.id)||(r.multiple||d.clear(),m?d.add(v.id):d.delete(v.id),s("update:modelValue",[...d]))},B=$e(Ee,void 0);return Ve(()=>{B==null||B.addOrgPane({backExpand(){if(h.value.length)return g(h.value[h.value.length-2]),!1}})}),Xe(()=>{B==null||B.deleteOrgPane()}),c({treeData:e}),(m,v)=>{const d=ee,o=Le,k=ie;return p(),T("div",{class:"az_org"},[h.value.length&&!u.value?(p(),P(El,{key:0,class:"p-10"},{default:b(()=>[_(ye,{key:"org",link:"",onClick:v[0]||(v[0]=z=>g())},{default:b(()=>[E(" 部门 ")]),_:1}),(p(!0),T(H,null,K(h.value,(z,q)=>(p(),P(ye,{key:z.id,link:q!==h.value.length-1,onClick:Y=>g(z)},{default:b(()=>[E(le(z.name),1)]),_:2},1032,["link","onClick"]))),128))]),_:1})):D("",!0),r.isSelect||y.value.length?(p(),T("div",{key:1,class:"az-space"})):D("",!0),L("div",{class:"az_org-region"},[l(f)?(p(),T("div",{key:0,class:"pt-10 pb-10 az_org-loading"},[_(d,{color:"#0094ff",size:"14px"},{default:b(()=>[E("加载中...")]),_:1})])):!y.value.length&&r.isSelect?(p(),P(Ae,{key:1,class:"az_org-empty",description:u.value?"搜索无结果":"没有数据"},null,8,["description"])):D("",!0),(p(!0),T(H,null,K(y.value,z=>{var q;return p(),T("div",{key:z.id},[_(k,{onClick:Y=>S(z),class:"az-bg-feedback","is-link":!u.value&&!!((q=z.children)!=null&&q.length)||!m.isSelect},{title:b(()=>[L("div",{class:"az_org-item"},[m.isSelect&&!z.noRange?(p(),P(o,{key:0,disabled:z.disabled,onClick:v[1]||(v[1]=Ze(()=>{},["stop"])),"model-value":R(z),"onUpdate:modelValue":Y=>C(Y,z)},{default:b(()=>[E("   ")]),_:2},1032,["disabled","model-value","onUpdate:modelValue"])):D("",!0),_(M,{class:"az-flex-width",type:l(U).org,id:z.id,otherOptions:{[l(U).org]:l(t)}},null,8,["type","id","otherOptions"])])]),_:2},1032,["onClick","is-link"])])}),128))])])}}});const ne=W(Hl,[["__scopeId","data-v-7d091834"]]);const Fl=O({__name:"AzPullRefresh",props:{minHeight:{}},setup(n){return Qe(c=>({"5a39d1d2":c.minHeight})),(c,i)=>{const r=ee,s=Ol;return p(),P(s,de({class:"az_pull_refresh"},c.$attrs),{loading:b(()=>[A(c.$slots,"loading",{},()=>[_(r,{color:"#0094ff",size:"14px"},{default:b(()=>[E("加载中...")]),_:1})],!0)]),default:b(()=>[A(c.$slots,"default",{},void 0,!0)]),_:3},16)}}});const jl=W(Fl,[["__scopeId","data-v-2bbcea37"]]),Kl=O({__name:"AzPullList",props:{limit:{default:10},load:{},emptyText:{default:"没有数据"},isRefresh:{type:Boolean,default:!0}},setup(n,{expose:c}){const i=n,r=I([]),s=I(i.limit),u=I(0),f=I(!1),e=I(!1),t=I(!1),a=I(0),V=F(()=>f.value&&!(R.value&&e.value));let h=0;const g=async(m,v="load")=>{f.value=!0,t.value=!1;const d=h;try{const o=await i.load(m,s.value);if(d!==h)return;a.value=el(+o.total)?+o.total:0,u.value=m,e.value=u.value*s.value>=a.value,r.value=u.value===1?o.records??[]:[...r.value,...o.records??[]]}catch{if(d!==h)return;v!=="refresh"&&(t.value=!0,e.value=!1)}finally{d===h&&(f.value=!1,R.value=!1)}},y=()=>{g(u.value+1)},S=F(()=>i.isRefresh?u.value===1&&(f.value||t.value):!0),R=I(!1),C=()=>{h++,g(1,"refresh")},B=F(()=>!f.value&&!t.value&&!r.value.length);return c({list:r,limit:s,current:u,refresh(){e.value=!1,r.value=[],u.value=0,g(u.value+1)}}),(m,v)=>{const d=ee,o=Rl;return p(),P(jl,{modelValue:R.value,"onUpdate:modelValue":v[1]||(v[1]=k=>R.value=k),onRefresh:C,disabled:S.value},{default:b(()=>[_(o,{error:t.value,"onUpdate:error":v[0]||(v[0]=k=>t.value=k),loading:V.value,finished:e.value,"finished-text":B.value?"":"没有更多了","error-text":"请求失败，点击重新加载",class:Q({"is-refreshing":R.value}),onLoad:y},{loading:b(()=>[A(m.$slots,"loading",{},()=>[_(d,{color:"#0094ff",size:"14px"},{default:b(()=>[E("加载中...")]),_:1})],!0)]),error:b(()=>[A(m.$slots,"loading",{},()=>[L("span",{class:"text-theme-danger"},"加载失败，点击重新加载")],!0)]),default:b(()=>[B.value?A(m.$slots,"empty",{key:0},()=>[_(Ae,{description:m.emptyText},null,8,["description"])],!0):r.value.length?A(m.$slots,"default",{key:1,list:r.value},void 0,!0):D("",!0)]),_:3},8,["error","loading","finished","finished-text","class"])]),_:3},8,["modelValue","disabled"])}}});const Jl=W(Kl,[["__scopeId","data-v-8ee692f8"]]),ql=O({__name:"TabPaneWrapper",props:{modelValue:{},multiple:{type:Boolean},load:{type:Function},isSearch:{type:Boolean},type:{}},emits:["update:modelValue"],setup(n,{expose:c,emit:i}){const r=n,s=i,{list:u,checkAll:f,isIndeterminate:e,getValue:t,setValue:a}=ll(r,s),V=I(0),h=async(y,S)=>{const R=await r.load(y,S);return V.value=Number(R.total)||0,{total:String(R.total),records:R.records,current:String(y),limit:String(S)}},g=I();return j(()=>{var y;return(y=g.value)==null?void 0:y.list},()=>{var y;u.value=((y=g.value)==null?void 0:y.list)??[]}),c({freshen(){var y;(y=g.value)==null||y.refresh()}}),(y,S)=>{var B;const R=Le,C=ie;return p(),T("div",{class:"tabpane_wrapper"},[L("div",{class:"az-space"}),y.multiple&&l(u).length?(p(),T(H,{key:0},[_(C,{value:`已选 ${l(u).filter(m=>(r.modelValue??[]).includes(m.__id__)).length}/${Math.max(((B=l(u))==null?void 0:B.length)??0,V.value??0)}`},{title:b(()=>[_(R,{modelValue:l(f),"onUpdate:modelValue":S[0]||(S[0]=m=>$(f)?f.value=m:null),indeterminate:l(e)},{default:b(()=>[E(" 全选 ")]),_:1},8,["modelValue","indeterminate"])]),_:1},8,["value"]),L("div",{class:"az-space"})],64)):D("",!0),L("div",{class:"tabpane_wrapper-body az-flex-height"},[_(Jl,{load:h,isRefresh:!1,limit:100,ref_key:"azPullListRef",ref:g,"empty-text":y.isSearch?"搜索无结果":"没有数据"},{default:b(({list:m})=>[(p(!0),T(H,null,K(m,v=>(p(),P(C,{key:v.__id__,class:"az-bg-feedback",onClick:d=>l(a)(v,!l(t)(v))},{title:b(()=>[L("div",{class:"tabpane_wrapper-item"},[_(R,{disabled:y.multiple&&v.__lock__&&l(t)(v),"model-value":l(t)(v)},{default:b(()=>[E("   ")]),_:2},1032,["disabled","model-value"]),L("span",{class:"az-flex-width tabpane_wrapper-label"},[A(y.$slots,"item",{item:v},()=>[E(le(v.__label__),1)],!0)])])]),_:2},1032,["onClick"]))),128))]),_:3},8,["empty-text"])])])}}});const J=W(ql,[["__scopeId","data-v-b6f56648"]]),Gl=O({__name:"MemberTabPane",props:{modelValue:{},multiple:{type:Boolean,default:!1},orgId:{},name:{},selectRange:{}},emits:["update:modelValue"],setup(n,{emit:c}){const i=n,r=c,{list:s,handleLoad:u,tabPaneWrapperRef:f}=tl(i,r);return(e,t)=>(p(),P(J,{modelValue:l(s),"onUpdate:modelValue":t[0]||(t[0]=a=>$(s)?s.value=a:null),multiple:e.multiple,load:l(u),isSearch:!!e.name,ref_key:"tabPaneWrapperRef",ref:f,type:l(U).member},{item:b(({item:a})=>[_(M,{style:{width:"100%"},type:l(U).member,id:a.__id__,isMobile:""},null,8,["type","id"])]),_:1},8,["modelValue","multiple","load","isSearch","type"]))}}),Yl=O({__name:"RoleTabPane",props:{modelValue:{},multiple:{type:Boolean,default:!1},name:{},selectRange:{}},emits:["update:modelValue"],setup(n,{emit:c}){const i=n,r=c,{list:s,handleLoad:u,tabPaneWrapperRef:f}=al(i,r);return(e,t)=>(p(),P(J,{modelValue:l(s),"onUpdate:modelValue":t[0]||(t[0]=a=>$(s)?s.value=a:null),multiple:e.multiple,load:l(u),isSearch:!!e.name,ref_key:"tabPaneWrapperRef",ref:f,type:l(U).role},{item:b(({item:a})=>[_(M,{style:{width:"100%"},type:l(U).role,id:a.__id__,isMobile:""},null,8,["type","id"])]),_:1},8,["modelValue","multiple","load","isSearch","type"]))}}),Xl=O({__name:"JobTabPane",props:{modelValue:{},multiple:{type:Boolean,default:!1},orgId:{},name:{},selectRange:{}},emits:["update:modelValue"],setup(n,{emit:c}){const i=n,r=c,{list:s,handleLoad:u,tabPaneWrapperRef:f}=nl(i,r);return(e,t)=>(p(),P(J,{modelValue:l(s),"onUpdate:modelValue":t[0]||(t[0]=a=>$(s)?s.value=a:null),multiple:e.multiple,load:l(u),isSearch:!!e.name,ref_key:"tabPaneWrapperRef",ref:f,type:l(U).job},{item:b(({item:a})=>[_(M,{style:{width:"100%"},type:l(U).job,id:a.__id__,isMobile:""},null,8,["type","id"])]),_:1},8,["modelValue","multiple","load","isSearch","type"]))}}),Zl=O({__name:"CorpCooperationTabPane",props:{modelValue:{},multiple:{type:Boolean,default:!1},name:{}},emits:["update:modelValue"],setup(n,{emit:c}){const i=n,r=c,{list:s,handleLoad:u,tabPaneWrapperRef:f}=sl(i,r);return(e,t)=>(p(),P(J,{ref_key:"tabPaneWrapperRef",ref:f,modelValue:l(s),"onUpdate:modelValue":t[0]||(t[0]=a=>$(s)?s.value=a:null),multiple:e.multiple,load:l(u),type:l(U).corpCooperation},{item:b(({item:a})=>[_(M,{type:l(U).corpCooperation,id:a.__id__},null,8,["type","id"])]),_:1},8,["modelValue","multiple","load","type"]))}}),Ql=O({__name:"UserCooperationTabPane",props:{modelValue:{},multiple:{type:Boolean,default:!1},name:{}},emits:["update:modelValue"],setup(n,{emit:c}){const i=n,r=c,{list:s,handleLoad:u,tabPaneWrapperRef:f}=ol(i,r);return(e,t)=>(p(),P(J,{ref_key:"tabPaneWrapperRef",ref:f,modelValue:l(s),"onUpdate:modelValue":t[0]||(t[0]=a=>$(s)?s.value=a:null),multiple:e.multiple,load:l(u),type:l(U).userCooperation},{item:b(({item:a})=>[_(M,{type:l(U).userCooperation,id:a.__id__},null,8,["type","id"])]),_:1},8,["modelValue","multiple","load","type"]))}}),et=O({__name:"DynamicDataTabPane",props:{multiple:{type:Boolean,default:!1},name:{}},setup(n){const c=n,{list:i,handleLoad:r,tabPaneWrapperRef:s,context:u,groupActive:f,selectType:e}=il(c);return(t,a)=>{const V=be,h=he;return p(),T("div",{style:{height:"100%"}},[l(u).dynaminDataOptions.length>1?(p(),P(h,{key:0,active:l(f),"onUpdate:active":a[0]||(a[0]=g=>$(f)?f.value=g:null),class:"select_pane-tabs"},{default:b(()=>[(p(!0),T(H,null,K(l(u).dynaminDataOptions,g=>(p(),P(V,{key:g.value,title:g.label,name:g.value},null,8,["title","name"]))),128))]),_:1},8,["active"])):D("",!0),(p(),T("div",{key:l(f),style:{height:"calc(100% - 50px)"}},[_(J,{modelValue:l(i),"onUpdate:modelValue":a[1]||(a[1]=g=>$(i)?i.value=g:null),style:{height:"100%"},multiple:t.multiple,load:l(r),isSearch:!!t.name,ref_key:"tabPaneWrapperRef",ref:s,type:l(e)},{item:b(({item:g})=>[_(M,{style:{width:"100%"},type:l(e),id:g.__id__,isMobile:""},null,8,["type","id"])]),_:1},8,["modelValue","multiple","load","isSearch","type"])]))])}}}),lt=O({__name:"DynamicTabPane",props:{modelValue:{},multiple:{type:Boolean,default:!1},name:{}},emits:["update:modelValue"],setup(n,{emit:c}){const i=n,s=rl(i,"modelValue",c),u=ul(),f=I();j([()=>i.name],()=>{var t;(t=f.value)==null||t.freshen()});const e=async()=>({total:0,records:u.value.filter(t=>!dl.includes(t.id)).map(t=>({...t,__id__:String(t.id),__label__:t.name})).filter(t=>{var a,V,h;return(a=i.name)!=null&&a.trim()?(h=t.__label__)==null?void 0:h.includes((V=i.name)==null?void 0:V.trim()):!0})});return(t,a)=>(p(),P(J,{modelValue:l(s),"onUpdate:modelValue":a[0]||(a[0]=V=>$(s)?s.value=V:null),style:{height:"100%"},multiple:t.multiple,load:e,isSearch:!!t.name,ref_key:"tabPaneWrapperRef",ref:f,type:l(U).dynamic},{item:b(({item:V})=>[_(M,{style:{width:"100%"},type:l(U).dynamic,id:V.__id__,isMobile:""},null,8,["type","id"])]),_:1},8,["modelValue","multiple","isSearch","type"]))}}),tt=O({__name:"SelectTabPane",props:{modelValue:{},type:{},multiple:{type:Boolean},name:{},selectRange:{},onlyInstitution:{type:Boolean},customStrictly:{type:Boolean}},emits:["update:modelValue"],setup(n,{emit:c}){const i=n,r=c,{list:s}=cl(i,r),u=I(""),f=De();return(e,t)=>(p(),T("div",{class:"select-tab"},[e.type===l(N).org?(p(),P(ne,de({key:0,modelValue:l(s),"onUpdate:modelValue":t[0]||(t[0]=a=>$(s)?s.value=a:null),class:"select-tab-content",multiple:e.multiple,name:e.name,selectRange:e.selectRange,onlyInstitution:e.onlyInstitution,customStrictly:e.customStrictly,selectRangeChildOrg:"",noRemove:l(f).noRemove},l(f).orgProp),null,16,["modelValue","multiple","name","selectRange","onlyInstitution","customStrictly","noRemove"])):e.type===l(N).memberByOrg?(p(),T("div",{key:1,class:"select-tab-cascade"},[_(ne,{expandOrgId:u.value,"onUpdate:expandOrgId":t[1]||(t[1]=a=>u.value=a),class:"select-tab-org",isSelect:!1,selectRange:e.selectRange},null,8,["expandOrgId","selectRange"]),_(Gl,{modelValue:l(s),"onUpdate:modelValue":t[2]||(t[2]=a=>$(s)?s.value=a:null),class:"az-flex-height",multiple:e.multiple,orgId:u.value,name:e.name,selectRange:e.selectRange},null,8,["modelValue","multiple","orgId","name","selectRange"])])):e.type===l(N).role?(p(),P(Yl,{key:2,modelValue:l(s),"onUpdate:modelValue":t[3]||(t[3]=a=>$(s)?s.value=a:null),class:"select-tab-content",multiple:e.multiple,orgId:u.value,name:e.name,selectRange:e.selectRange},null,8,["modelValue","multiple","orgId","name","selectRange"])):e.type===l(N).jobByOrg?(p(),T("div",{key:3,class:"select-tab-cascade"},[_(ne,{expandOrgId:u.value,"onUpdate:expandOrgId":t[4]||(t[4]=a=>u.value=a),class:"select-tab-org",selectRange:e.selectRange,isSelect:!1},null,8,["expandOrgId","selectRange"]),_(Xl,{modelValue:l(s),"onUpdate:modelValue":t[5]||(t[5]=a=>$(s)?s.value=a:null),class:"az-flex-height",multiple:e.multiple,orgId:u.value,name:e.name,selectRange:e.selectRange},null,8,["modelValue","multiple","orgId","name","selectRange"])])):e.type===l(N).corpCooperation?(p(),P(Zl,{key:4,modelValue:l(s),"onUpdate:modelValue":t[6]||(t[6]=a=>$(s)?s.value=a:null),class:"select-tab-content",multiple:e.multiple,name:e.name},null,8,["modelValue","multiple","name"])):e.type===l(N).userCooperation?(p(),P(Ql,{key:5,modelValue:l(s),"onUpdate:modelValue":t[7]||(t[7]=a=>$(s)?s.value=a:null),class:"select-tab-content",multiple:e.multiple,name:e.name},null,8,["modelValue","multiple","name"])):e.type===l(N).dynamic?A(e.$slots,"dynamic",{key:6,modelValue:l(s),updateValue:a=>s.value=a,searchName:e.name,multiple:e.multiple},()=>[_(lt,{modelValue:l(s),"onUpdate:modelValue":t[8]||(t[8]=a=>$(s)?s.value=a:null),class:"select-tab-content",multiple:e.multiple,name:e.name,selectRange:e.selectRange},null,8,["modelValue","multiple","name","selectRange"])],!0):e.type===l(N).dynamicData?(p(),P(et,{key:7,class:"select-tab-content",multiple:e.multiple,name:e.name},null,8,["multiple","name"])):D("",!0)]))}});const at=W(tt,[["__scopeId","data-v-7d728cdb"]]),nt=O({__name:"SelectedDisplay",props:{list:{},readonly:{type:Boolean},disabled:{type:Boolean}},emits:["remove","open"],setup(n,{emit:c}){const i=n,r=c,s=De(),u=()=>{i.disabled||r("open")},f=pl(),e=a=>{const V=f(a,{otherOptions:s.otherOptions});return V.__status__===ae.loading?void 0:V.__status__===ae.remove?"danger":"primary"},t=a=>!i.readonly&&!i.disabled&&!s.handleLock(a)&&(s.multiple||!s.noRemove);return(a,V)=>{const h=vl,g=ce;return p(),T("span",{class:"select_display"},[(p(!0),T(H,null,K(a.list,(y,S)=>(p(),T("span",{class:"select_display-item",key:y.id},[_(h,{round:"",plain:"",type:e(y),size:"large",class:Q(["select_display-tag",{"tag-close":t(y)}]),closeable:t(y),onClose:R=>r("remove",S)},{default:b(()=>[_(M,{type:y.type,id:y.id,"is-lock":l(s).handleLock(y),otherOptions:l(s).otherOptions},null,8,["type","id","is-lock","otherOptions"])]),_:2},1032,["type","class","closeable","onClose"])]))),128)),a.readonly?D("",!0):(p(),P(g,{key:0,onClick:u,class:Q({"select_pane-disabled":a.disabled,"ml-5":a.list.length}),name:"add-o",size:"24px"},null,8,["class"]))])}}});const st=W(nt,[["__scopeId","data-v-6ffeaca3"]]),ot=O({inheritAttrs:!1,__name:"SelectPane",props:{modelValue:{},placeholder:{default:"请选择"},dialogTitle:{default:"选择"},miniTitle:{},tabsList:{},tabs:{},multiple:{type:Boolean,default:!1},selectRange:{},onlyInstitution:{type:Boolean},customStrictly:{type:Boolean},dynamic:{},dynamicOptions:{},dynamicOptionsPlus:{},readonly:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},isAll:{type:Boolean,default:!1},isCooperation:{type:Boolean,default:!1},isDynamicData:{type:Boolean},isCorp:{type:Boolean,default:!1},isAuth:{type:Boolean},searchPlaceholder:{default:"搜索"},visible:{type:[Boolean,null],default:null},preview:{type:Boolean},drag:{type:Boolean},isChildOrg:{type:Boolean},childOrg:{type:Boolean},roleProp:{},lock:{},lockTip:{},initOptions:{},confirmBefore:{},orgProp:{},noRemove:{type:Boolean},clear:{type:Boolean}},emits:["update:modelValue","update:visible","change","confirm"],setup(n,{emit:c}){const i=n,r=c,{selectedList:s,handleRemoveSelected:u,handleDialogVisible:f,dialogVisible:e,dialogSelectedList:t,handleDialogRemove:a,handleConfirm:V,activeName:h,tabsList:g,name:y,dynamicOptions:S,dynaminDataList:R,dynaminDataOptions:C,handleLock:B,otherOptions:m}=ml(i,r),v=I();oe(Ee,{addOrgPane(o){v.value=o},deleteOrgPane(){v.value=void 0}});const d=I(!1);return yl(()=>s.value),oe(fl,Be({...Oe(i),handleLock:B,dialogSelectedList:t,dynamicOptions:S,dynaminDataList:R,dynaminDataOptions:C,otherOptions:m})),(o,k)=>{const z=be,q=he,Y=Ul,We=ce,pe=hl,Me=ie;return p(),T("div",{class:"select_pane"},[o.$slots.trigger?(p(),T("span",{key:0,onClick:k[0]||(k[0]=(...w)=>l(f)&&l(f)(...w))},[A(o.$slots,"trigger",{},void 0,!0)])):o.visible==null?(p(),P(st,{key:1,list:l(s),onRemove:l(u),onOpen:l(f),readonly:o.readonly,disabled:o.disabled},null,8,["list","onRemove","onOpen","readonly","disabled"])):D("",!0),_(me,{show:l(e),"onUpdate:show":k[5]||(k[5]=w=>$(e)?e.value=w:null),class:"select_pane--popup",overlay:!1,position:"right",title:o.dialogTitle,style:ve({width:"100vw",height:"calc(var(--vh) * 100)"}),beforeBlock:()=>{var w;return((w=v.value)==null?void 0:w.backExpand())!==!1},router:""},{footer:b(()=>[L("div",{class:"select_pane-footer az-shadow"},[L("div",{class:"select_pane-footer--left",onClick:k[4]||(k[4]=w=>d.value=!0)},[L("span",{class:"mr-5"},"已选择 "+le(l(t).length)+" 个",1),_(We,{name:"arrow-up"})]),_(pe,{type:"primary",onClick:l(V)},{default:b(()=>[E("确定")]),_:1},8,["onClick"])])]),default:b(()=>{var w;return[l(e)?(p(),T("div",{key:0,class:"select_pane-body"},[l(g).length>1?(p(),P(q,{key:0,active:l(h),"onUpdate:active":k[1]||(k[1]=x=>$(h)?h.value=x:null),class:"select_pane-tabs"},{default:b(()=>[(p(!0),T(H,null,K(l(g),x=>(p(),P(z,{key:x.name,title:x.label,name:x.name},null,8,["title","name"]))),128))]),_:1},8,["active"])):D("",!0),_(Y,{modelValue:l(y),"onUpdate:modelValue":k[2]||(k[2]=x=>$(y)?y.value=x:null),placeholder:o.searchPlaceholder,"label-align":"right"},null,8,["modelValue","placeholder"]),_(at,{modelValue:l(t),"onUpdate:modelValue":k[3]||(k[3]=x=>$(t)?t.value=x:null),ref:"selectTabPaneRef",class:"select_pane-container",type:l(h),multiple:o.multiple,name:(w=l(y))==null?void 0:w.trim(),selectRange:o.selectRange,onlyInstitution:o.onlyInstitution,customStrictly:o.customStrictly},_l({_:2},[o.$slots.dynamic?{name:"dynamic",fn:b(x=>[A(o.$slots,"dynamic",we(ze(x)),void 0,!0)]),key:"0"}:void 0]),1032,["modelValue","type","multiple","name","selectRange","onlyInstitution","customStrictly"])])):D("",!0)]}),_:3},8,["show","title","style","beforeBlock"]),_(me,{show:d.value,"onUpdate:show":k[6]||(k[6]=w=>d.value=w),position:"bottom",style:ve({width:"100vw",height:"calc(var(--vh) * 50)"}),title:`已选择 ${l(t).length} 个`},{default:b(()=>[(p(!0),T(H,null,K(l(t),(w,x)=>(p(),P(Me,{onClick:it=>l(a)(x),class:"az-bg-feedback",key:w.id},{title:b(()=>[L("div",{class:"select_pane-selected-item"},[_(M,{class:"az-flex-width",type:w.type,id:w.id,"is-lock":l(B)(w),otherOptions:l(m)},null,8,["type","id","is-lock","otherOptions"]),!l(B)(w)&&(o.multiple||!o.noRemove)?(p(),P(pe,{key:0,type:"danger",size:"small"},{default:b(()=>[E(" 移除 ")]),_:1})):D("",!0)])]),_:2},1032,["onClick"]))),128))]),_:1},8,["show","style","title"])])}}});const bt=W(ot,[["__scopeId","data-v-a0bdb14f"]]);export{bt as S};
