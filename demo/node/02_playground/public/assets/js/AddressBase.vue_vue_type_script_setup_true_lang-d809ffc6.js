import{d as S,jS as h,c as m,v as g,k4 as B,o as c,b as f,I as k,bt as _,B as u,C as v,k5 as A,z as C,k6 as y,k7 as V,k8 as w,a9 as P,f as b,i as $,k as z,a2 as D,l as E,F,Q as N}from"./index-b80d5ef5.js";import{_ as R}from"./AzCascader.vue_vue_type_style_index_0_lang-adc6a4ab.js";import{u as U}from"./useFieldMaxWidth-d82f063e.js";const I=S({__name:"address",props:{props:{},type:{default:h.provinceCityArea},modelValue:{}},emits:["update:modelValue"],setup(t,{emit:d}){const a=t,r=d,e=m(()=>({...{label:"name",value:"id"},...a.props})),l=g(a,"modelValue",r),s=m(()=>B(a.type)),o=async()=>{await A()};return(n,p)=>s.value.length<=0?(c(),f(_,k({key:0,style:{width:"100%"}},n.$attrs,{load:o}),null,16)):(c(),f(R,k({key:1,modelValue:u(l),"onUpdate:modelValue":p[0]||(p[0]=i=>v(l)?l.value=i:null)},n.$attrs,{filterable:"",style:{width:"100%"},props:e.value,options:s.value}),null,16,["modelValue","props","options"]))}});function M(t,d){C(()=>{const e=y(t.modelValue),l=w(t.modelValue,t.field.options.type,!t.checkStrictly);P(e,l)||d("update:modelValue",V(l))});const a=m({get(){var e,l;return((l=(e=y(t.modelValue))==null?void 0:e.splice(0,3))==null?void 0:l.filter(s=>!!s))??null},set(e){t.field.options.type===h.provinceCityAreaDetailed&&r.value&&(e=[...e??["","",""],r.value]),d("update:modelValue",V(e))}}),r=m({get(){var e;return((e=y(t.modelValue))==null?void 0:e[3])??""},set(e){var s;let l=[...((s=a.value)==null?void 0:s.length)===3?[...a.value]:["","",""]];e&&l.push(e),l.every(o=>!o)&&(l=null),d("update:modelValue",V(l))}});return{addressVal:a,detailed:r}}const j=S({__name:"AddressBase",props:{field:{},modelValue:{},checkStrictly:{type:Boolean}},emits:["update:modelValue"],setup(t,{emit:d}){const a=t,r=d,{addressVal:e,detailed:l}=M(a,r),{maxWidthStyle:s}=U(a.field);return(o,n)=>{const p=N;return c(),b(F,null,[$(I,k({modelValue:u(e),"onUpdate:modelValue":n[0]||(n[0]=i=>v(e)?e.value=i:null),type:o.field.options.type,clearable:"",props:{checkStrictly:o.checkStrictly}},o.$attrs,{style:u(s)}),null,16,["modelValue","type","props","style"]),z("div",{class:"w100"},[o.field.options.type===u(h).provinceCityAreaDetailed?(c(),f(p,{key:0,modelValue:u(l),"onUpdate:modelValue":n[1]||(n[1]=i=>v(l)?l.value=i:null),class:"mt-5",style:D(u(s)),type:"textarea",rows:4,placeholder:"请输入详细地址",resize:"none"},null,8,["modelValue","style"])):E("",!0)])],64)}}});export{j as _};
