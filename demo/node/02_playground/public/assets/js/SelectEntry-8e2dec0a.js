import{d as L,c as A,o as p,b as h,q as H,v as I,r as f,w as V,i as m,B as b,J as K,U as O,Q as P,k as D,f as x,F as U,g as $,p as T,bc as z,j as N,m as w,t as B,C as j,L as F,fs as W,di as M,c3 as q,y as Y,a2 as Z,vX as ee,e as le,by as ae,ca as te,_ as G}from"./index-b80d5ef5.js";import{A as J}from"./AppIcon-5727720b.js";import{f as se}from"./createDesigner-82222fc7.js";const Q=L({__name:"Checkbox",props:{modelValue:{},values:{}},emits:["update:values"],setup(v,{emit:_}){const n=v,r=_,d=A({get(){return n.values.some(l=>l===n.modelValue)},set(l){l?r("update:values",[...n.values,n.modelValue]):r("update:values",[...n.values.filter(a=>a!==n.modelValue)])}});return(l,a)=>{const t=H;return p(),h(t,{modelValue:d.value,"onUpdate:modelValue":a[0]||(a[0]=u=>d.value=u)},null,8,["modelValue"])}}}),X=L({__name:"Search",props:{oldList:{},searchList:{},placeholder:{}},emits:["update:searchList"],setup(v,{emit:_}){const n=v,d=I(n,"searchList",_),l=f(""),a=()=>{l.value?d.value=n.oldList.filter(t=>t.name.includes(l.value)):d.value=n.oldList};return(t,u)=>{const i=O,g=P;return p(),h(g,{modelValue:l.value,"onUpdate:modelValue":u[0]||(u[0]=c=>l.value=c),style:{width:"100%"},placeholder:t.placeholder,class:"input-with-select"},{append:V(()=>[m(i,{onClick:a,icon:b(K)},null,8,["icon"])]),_:1},8,["modelValue","placeholder"])}}});const oe=L({__name:"AppList",props:{appId:{},modelValue:{}},emits:["update:appId","update:modelValue"],setup(v,{expose:_,emit:n}){const r=v,d=n,l=I(r,"modelValue",d),a=f([]),t=async()=>{const e=await W({appId:"",name:"",orgIds:[]});e&&e.length>=1?(a.value=e,i.value=e):a.value=[]},u=I(r,"appId",d),i=f([]),g=e=>{u.value=e.id},c=f();return _({refresh:async()=>{var e;(e=c.value)==null||e.load()}}),(e,y)=>{const E=M,C=q;return p(),h(F,{ref_key:"LoadingDataRef",ref:c,load:t,class:"app-box"},{default:V(()=>[m(X,{"search-list":i.value,"onUpdate:searchList":y[0]||(y[0]=o=>i.value=o),"old-list":a.value,placeholder:"请输入应用名称"},null,8,["search-list","old-list"]),a.value.length>=1?(p(),h(E,{key:0,height:"450px"},{default:V(()=>[D("ul",{class:"app-cell"},[(p(!0),x(U,null,$(i.value,(o,S)=>(p(),x("li",{class:T({active:b(u)===o.id}),key:S,onClick:z(k=>g(o),["stop"])},[m(J,{"bg-color":o.color,icon:o.icon,class:"card_icon",style:{color:"#ffffff"},"is-gradient":!0,type:"link"},null,8,["bg-color","icon"]),m(N,{style:{flex:"1","margin-left":"6px"}},{default:V(()=>[w(B(o.name),1)]),_:2},1024),m(Q,{"model-value":o.id,values:b(l),"onUpdate:values":y[1]||(y[1]=k=>j(l)?l.value=k:null)},null,8,["model-value","values"])],10,["onClick"]))),128))])]),_:1})):(p(),h(C,{key:1,description:"暂无应用"}))]),_:1},512)}}}),R=L({__name:"EntryList",props:{appId:{},modelValue:{}},emits:["update:modelValue"],setup(v,{expose:_,emit:n}){const r=v,l=I(r,"modelValue",n),a=f([]),t=f([]),u=f(""),i=f();Y(()=>r.appId,()=>{s()});const g=async()=>{const e=await ee({appId:r.appId,isGroup:1,name:""});e&&e.length>=1?(a.value=e,t.value=e):a.value=[]},c=e=>{u.value=e.id},s=async()=>{var e;(e=i.value)==null||e.reload()};return _({refresh:s}),(e,y)=>{const E=M,C=q;return p(),h(F,{ref_key:"LoadingDataRef",ref:i,load:g,class:"app-box"},{default:V(()=>[m(X,{"search-list":t.value,"onUpdate:searchList":y[0]||(y[0]=o=>t.value=o),"old-list":a.value,placeholder:"请输入条目名称"},null,8,["search-list","old-list"]),a.value.length>=1?(p(),h(E,{key:0,height:"450px"},{default:V(()=>[D("ul",{class:"app-cell"},[(p(!0),x(U,null,$(t.value,(o,S)=>(p(),x("li",{class:T({active:u.value===o.id}),key:S,onClick:z(k=>c(o),["stop"])},[m(J,{"bg-color":o.color,icon:o.icon,class:"card_icon",style:Z({color:o.color}),"is-gradient":!1,type:"link"},null,8,["bg-color","icon","style"]),m(N,{style:{flex:"1","margin-left":"6px"}},{default:V(()=>[w(B(o.name),1)]),_:2},1024),m(Q,{"model-value":`${r.appId}.${o.id}`,values:b(l),"onUpdate:values":y[1]||(y[1]=k=>j(l)?l.value=k:null)},null,8,["model-value","values"])],10,["onClick"]))),128))])]),_:1})):(p(),h(C,{key:1,description:"暂无条目"}))]),_:1},512)}}}),ne=L({__name:"SelectedArea",props:{modelValue:{}},emits:["update:modelValue"],setup(v,{emit:_}){const d=I(v,"modelValue",_),l=se(),a=A(()=>l.getInfoListByIds(d.value)??[]),t=u=>{d.value=d.value.filter(i=>i!==l.obj2Id(u))};return(u,i)=>{const g=ae,c=te;return le((p(),x("div",{class:"select-area"},[(p(!0),x(U,null,$(a.value,(s,e)=>(p(),h(g,{style:{"margin-bottom":"8px","margin-right":"8px"},key:e,closable:"",effect:"plain",onClose:y=>t(s)},{default:V(()=>[w(B(s.name),1)]),_:2},1032,["onClose"]))),128))])),[[c,b(l).loading]])}}});const ue=G(ne,[["__scopeId","data-v-d19a84b9"]]),ce=L({__name:"SelectEntry",props:{modelValue:{},appId:{},hideApp:{type:Boolean,default:!0},hideEntry:{type:Boolean,default:!0}},emits:["update:modelValue"],setup(v,{expose:_,emit:n}){const r=v,d=n,l=f(""),a=A({get(){return r.appId??l.value},set(c){l.value=c}}),t=A({get(){return r.modelValue},set(c){d("update:modelValue",c)}}),u=f(),i=f();return _({refresh:()=>{var c,s;(c=u.value)==null||c.refresh(),(s=R.value)==null||s.refresh()}}),(c,s)=>(p(),x("div",{class:"select-entry-layout"},[m(ue,{modelValue:t.value,"onUpdate:modelValue":s[0]||(s[0]=e=>t.value=e)},null,8,["modelValue"]),D("div",{class:"data-area"},[m(oe,{ref_key:"AppListRef",ref:u,modelValue:t.value,"onUpdate:modelValue":s[1]||(s[1]=e=>t.value=e),appId:a.value,"onUpdate:appId":s[2]||(s[2]=e=>a.value=e)},null,8,["modelValue","appId"]),m(R,{ref_key:"EntryListRef",ref:i,modelValue:t.value,"onUpdate:modelValue":s[3]||(s[3]=e=>t.value=e),"app-id":a.value},null,8,["modelValue","app-id"])])]))}});const ie=G(ce,[["__scopeId","data-v-c6894f8e"]]);export{ie as S};
