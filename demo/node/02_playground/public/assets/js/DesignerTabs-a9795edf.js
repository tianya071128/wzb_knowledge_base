import{d as P,v as U,r as m,y as F,o as r,f,i as l,w as n,F as g,g as q,b as k,ad as A,B as _,ae as M,l as O,I as j,C as G,k as v,a_ as H,e as h,S as C,bz as w,a2 as S,aR as J,aS as Q,aq as W,t as X,h as T,cE as Y,aT as Z,P as ee,av as ae,N as te,O as se,aU as le,_ as ne}from"./index-b80d5ef5.js";const oe=P({__name:"DesignerTabs",props:{modelValue:{},tabs:{},entryDetails:{}},emits:["update:modelValue","update:entryDetails","back"],setup(z,{emit:B}){const s=z,V=B,b=U(s,"modelValue",V),o=m(""),d=m(!1),E=m();F(()=>{var e,t;return(t=(e=s.entryDetails)==null?void 0:e.appEntryVO)==null?void 0:t.name},()=>{var e,t;o.value=((t=(e=s.entryDetails)==null?void 0:e.appEntryVO)==null?void 0:t.name)??""});const c=m(!1),I=async()=>{var e,t;if((e=s.entryDetails)!=null&&e.appEntryVO&&o.value!==((t=s.entryDetails.appEntryVO)==null?void 0:t.name)){d.value=!0;try{await Y({id:s.entryDetails.appEntryVO.id,name:o.value,type:s.entryDetails.appEntryVO.type}),V("update:entryDetails",{...s.entryDetails,appEntryVO:{...s.entryDetails.appEntryVO,name:o.value}})}catch{o.value=s.entryDetails.appEntryVO.name}finally{d.value=!1}}c.value=!1},N=()=>{var e;(e=E.value)==null||e.blur()},R=()=>{c.value=!0,Z(()=>{var e;(e=E.value)==null||e.focus()})};return(e,t)=>{var D;const y=ee,x=ae,$=te,K=se,L=le;return r(),f("div",{class:"designer_page"},[l(K,j({modelValue:_(b),"onUpdate:modelValue":t[0]||(t[0]=a=>G(b)?b.value=a:null),class:"az_tabs-custom designer_page-tabs"},e.$attrs),{default:n(()=>[(r(!0),f(g,null,q(e.tabs,a=>(r(),f(g,{key:a.name},[a.show?O("",!0):(r(),k($,{key:0,label:a.label,name:a.name},A({_:2},[a.label==="</>"?{name:"label",fn:n(()=>[l(x,{underline:!1},{icon:n(()=>[l(y,{style:{"font-size":"20px"}},{default:n(()=>[l(_(M))]),_:1})]),_:1})]),key:"0"}:void 0]),1032,["label","name"]))],64))),128))]),_:1},16,["modelValue"]),v("div",{class:"designer-other"},[l(y,{class:"designer-back",onClick:t[1]||(t[1]=a=>V("back"))},{default:n(()=>[l(_(H))]),_:1}),(D=s.entryDetails)!=null&&D.appEntryVO?(r(),f("div",{key:0,class:"designer-rename"},[h(l(W,{class:"ml-5 rename-input",modelValue:o.value,"onUpdate:modelValue":t[2]||(t[2]=a=>o.value=a),isBlurCache:"",placeholder:"请输入名称",onBlur:I,readonly:d.value,onKeyup:Q(N,["enter"]),ref_key:"renameInputRef",ref:E,maxlength:"10",title:"重命名"},{prefix:n(()=>{var a,i,p,u;return[l(w,{iconClass:((i=(a=e.entryDetails)==null?void 0:a.appEntryVO)==null?void 0:i.icon)??"",style:S({fontSize:"16px",color:((u=(p=e.entryDetails)==null?void 0:p.appEntryVO)==null?void 0:u.color)??""})},null,8,["iconClass","style"])]}),suffix:n(()=>[d.value?(r(),k(y,{key:0,class:"is-loading"},{default:n(()=>[l(_(J))]),_:1})):O("",!0)]),_:1},8,["modelValue","readonly","onKeyup"]),[[C,c.value]]),l(L,{effect:"dark",content:"重命名",placement:"bottom","show-after":200},{default:n(()=>{var a,i,p,u;return[h(v("div",{class:"rename-display",onClick:R},[l(w,{class:"mr-7",iconClass:((i=(a=e.entryDetails)==null?void 0:a.appEntryVO)==null?void 0:i.icon)??"",style:S({fontSize:"16px",color:((u=(p=e.entryDetails)==null?void 0:p.appEntryVO)==null?void 0:u.color)??""})},null,8,["iconClass","style"]),v("span",{class:"rename-name az-ellipsis"},X(o.value),1)],512),[[C,!c.value]])]}),_:1})])):T(e.$slots,"tabsName",{key:1},void 0,!0)]),v("div",{class:"designer-right"},[T(e.$slots,"default",{},void 0,!0)])])}}});const ie=ne(oe,[["__scopeId","data-v-708ee415"]]);export{ie as D};
