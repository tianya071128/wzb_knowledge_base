var _s=Object.defineProperty;var Ss=(t,e,n)=>e in t?_s(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var Ce=(t,e,n)=>(Ss(t,typeof e!="symbol"?e+"":e,n),n),Is=(t,e,n)=>{if(!e.has(t))throw TypeError("Cannot "+n)};var Dn=(t,e,n)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,n)};var Kt=(t,e,n)=>(Is(t,e,"access private method"),n);import{d8 as ge,d as be,o as G,f as ie,i as F,B as N,bF as Da,fo as Na,j as Qe,av as Ge,_ as Le,bI as Ra,bJ as $a,bK as Zt,ef as Et,fp as Ht,fq as Gr,ea as Ua,fr as Ts,r as Q,y as Ze,c as ve,m as ue,bh as Fa,as as Ps,fs as Vs,aN as Ke,Y as De,a9 as er,aa as Ba,a1 as ht,v as Be,b as ae,w as M,k as te,bz as mt,a2 as $n,t as _e,F as Ve,g as Me,l as ce,L as tr,cI as La,q as Nt,c3 as nr,d5 as Os,J as Es,C as Se,Q as Fe,N as rr,O as ja,U as tt,bn as pn,p as ar,bc as Gt,aq as As,ft as Wr,ac as fn,ao as Ma,ap as Cs,ds as Un,bm as dn,R as qa,bu as hn,bv as ir,dO as Ds,a as xt,fu as Ns,bp as Rs,dC as za,dD as Ka,fv as $s,fw as Us,bt as Fs,E as sr,ab as or,aT as Qt,h as Ha,ba as Bs,cC as Ls,z as js,cR as Yr,I as Zr,ad as Ms,cj as qs,a5 as lr,ev as zs,fx as Ks,dQ as Qr,eI as Hs,aU as Js,bi as Gs,d4 as Ja,fy as Ws,fz as Ys,cf as Ga,eJ as Zs,bC as Qs,bx as Xs,fA as Wa,bA as eo,by as to,bB as no,cc as ro}from"./index-b80d5ef5.js";import{T as ao}from"./Tabs-69fb071c.js";import{i as mn,_ as io,a as so,b as oo,c as Rt,d as lo}from"./cloneDeep-dc1c677b.js";import{_ as Ya,i as Za,a as uo,b as co}from"./isTypedArray-10beecc7.js";import{g as po}from"./homePage-3523f56f.js";import{a as Qa}from"./LoadingData-195d0581.js";import{E as fo}from"./el-input-number-c15b1cc7.js";import{C as Nn}from"./ConditionWrapper-43da1676.js";import{_ as Xa}from"./RenderTable.vue_vue_type_script_setup_true_lang-928d6d63.js";import{C as ho}from"./CodeBlockEdit-23586d14.js";import{s as mo}from"./sortBy-f189de5d.js";import{G as wt,a as pt,f as Te}from"./apiKey-ec70038f.js";import{_ as yo}from"./TableOperation.vue_vue_type_script_setup_true_lang-4afbb2cb.js";import{A as go}from"./AzConfirmSwitch-689fcef9.js";import"./useQueryTab-05fa7456.js";import"./useExtractQuery-f96f705c.js";import"./AutoJump.vue_vue_type_script_setup_true_lang-a3aa2601.js";import"./FieldCondition-1c72aa9d.js";import"./SelectEntryAndOther-76a65b2d.js";import"./Base.vue_vue_type_script_setup_true_lang-03820366.js";import"./useFieldMaxWidth-d82f063e.js";import"./AddressBase.vue_vue_type_script_setup_true_lang-d809ffc6.js";import"./AzCascader.vue_vue_type_style_index_0_lang-adc6a4ab.js";import"./AzDatePicker.vue_vue_type_style_index_0_lang-c5632a92.js";import"./index-318b68f4.js";import"./AzInputNumber-d6212644.js";import"./AzTimePicker.vue_vue_type_style_index_0_lang-3726374e.js";import"./useMultipleVal-904406c1.js";import"./CascaderBase.vue_vue_type_style_index_0_lang-83862970.js";import"./el-dropdown-item-455a6589.js";import"./CardShowFieldItem-fd24f218.js";import"./ButtonState-cb54910b.js";var vo=Ya,bo=Za,xo="[object Number]";function wo(t){return typeof t=="number"||bo(t)&&vo(t)==xo}var ko=wo;const _o=t=>ge.value.request.post(`${ge.value.SYSTEMURL}/op/serviceInfo/listPage`,t);var Oe=(t=>(t.insert="insert",t.query="query",t.update="update",t.delete="delete",t.detail="detail",t.saveOrUpdated="saveOrUpdated",t))(Oe||{});const So=[{label:"新增",value:"insert"},{label:"查询",value:"query"},{label:"更新",value:"update"},{label:"删除",value:"delete"},{label:"详情",value:"detail"},{label:"新增或更新",value:"saveOrUpdated",disabled:!0}],Io=t=>ge.value.request.post(`${ge.value.SYSTEMURL}/op/serviceInfo/add`,t),To=t=>ge.value.request.post(`${ge.value.SYSTEMURL}/op/serviceInfo/edit`,t),Po=t=>ge.value.request.post(`${ge.value.SYSTEMURL}/op/secret/list`,t),Vo=t=>ge.value.request.delete(`${ge.value.SYSTEMURL}/op/serviceInfo/delete/${t}`),Oo=(t,e)=>ge.value.request.post(`${ge.value.SYSTEMURL}/op/serviceInfo/updateStatus/${t}?status=${e}`),Eo=t=>ge.value.request.get(`${ge.value.SYSTEMURL}/op/serviceInfo/getById/${t}`),Ao=t=>ge.value.request.post(`${ge.value.SYSTEMURL}/op/serviceInfo/queryCustomClassInfo`,t),Co=t=>ge.value.request.post(`${ge.value.SYSTEMURL}/op/serviceextinfo/getSourceDataList`,t);var Fn=(t=>(t[t.on=0]="on",t[t.off=1]="off",t))(Fn||{}),Bn=(t=>(t[t.page=0]="page",t[t.noPage=1]="noPage",t))(Bn||{}),Ee=(t=>(t[t.paramConvert=1]="paramConvert",t[t.javascript=2]="javascript",t[t.codeLib=3]="codeLib",t))(Ee||{}),ei=(t=>(t[t.system=0]="system",t[t.general=1]="general",t))(ei||{});const Do=t=>ge.value.request.get(`${ge.value.SYSTEMURL}/op/serviceextinfo/getByServiceId/${t}`),No=t=>ge.value.request.post(`${ge.value.SYSTEMURL}/op/serviceextinfo/save`,t),Ro=t=>ge.value.request.post(`${ge.value.SYSTEMURL}/appForm/getFieldAttribute`,t),$o=t=>ge.value.request.post(`${ge.value.SYSTEMURL}/op/serviceInfo/docSwagger/${t}`),Uo=(t,e)=>ge.value.request.post(`${ge.value.SYSTEMURL}/op/serviceextinfo/testConvert/${e}`,t),Fo=be({__name:"ServiceUrl",props:{row:{}},setup(t){return(e,n)=>{const r=Ge;return G(),ie("div",{class:"service-url"},[F(r,{underline:!1,icon:N(Da),type:"primary",class:"mr-4",onClick:n[0]||(n[0]=i=>N(Na)(encodeURI(e.row.url)))},null,8,["icon"]),F(Qe,{content:e.row.url},null,8,["content"])])}}});const Bo=Le(Fo,[["__scopeId","data-v-ff71a8cb"]]),Xr=Symbol("id");function Lo(){return{id:"",title:void 0,formId:"",custom_loading:!1}}function ot(){const t=Ra(Xr,void 0);if(t)return t;{const e=Lo();return $a(Xr,Zt(e)),e}}var Xt=(t=>(t.base="1",t.config="2",t))(Xt||{}),ft=(t=>(t.add="新增服务",t.edit="编辑服务",t.view="查看服务",t))(ft||{}),Ln={},jo={get exports(){return Ln},set exports(t){Ln=t}};/*!
    localForage -- Offline Storage, Improved
    Version 1.10.0
    https://localforage.github.io/localForage
    (c) 2013-2017 Mozilla, Apache License 2.0
*/(function(t,e){(function(n){t.exports=n()})(function(){return function n(r,i,a){function s(u,f){if(!i[u]){if(!r[u]){var g=typeof Ht=="function"&&Ht;if(!f&&g)return g(u,!0);if(o)return o(u,!0);var p=new Error("Cannot find module '"+u+"'");throw p.code="MODULE_NOT_FOUND",p}var v=i[u]={exports:{}};r[u][0].call(v.exports,function(S){var A=r[u][1][S];return s(A||S)},v,v.exports,n,r,i,a)}return i[u].exports}for(var o=typeof Ht=="function"&&Ht,l=0;l<a.length;l++)s(a[l]);return s}({1:[function(n,r,i){(function(a){var s=a.MutationObserver||a.WebKitMutationObserver,o;if(s){var l=0,u=new s(S),f=a.document.createTextNode("");u.observe(f,{characterData:!0}),o=function(){f.data=l=++l%2}}else if(!a.setImmediate&&typeof a.MessageChannel<"u"){var g=new a.MessageChannel;g.port1.onmessage=S,o=function(){g.port2.postMessage(0)}}else"document"in a&&"onreadystatechange"in a.document.createElement("script")?o=function(){var P=a.document.createElement("script");P.onreadystatechange=function(){S(),P.onreadystatechange=null,P.parentNode.removeChild(P),P=null},a.document.documentElement.appendChild(P)}:o=function(){setTimeout(S,0)};var p,v=[];function S(){p=!0;for(var P,O,_=v.length;_;){for(O=v,v=[],P=-1;++P<_;)O[P]();_=v.length}p=!1}r.exports=A;function A(P){v.push(P)===1&&!p&&o()}}).call(this,typeof Et<"u"?Et:typeof self<"u"?self:typeof window<"u"?window:{})},{}],2:[function(n,r,i){var a=n(1);function s(){}var o={},l=["REJECTED"],u=["FULFILLED"],f=["PENDING"];r.exports=g;function g(y){if(typeof y!="function")throw new TypeError("resolver must be a function");this.state=f,this.queue=[],this.outcome=void 0,y!==s&&A(this,y)}g.prototype.catch=function(y){return this.then(null,y)},g.prototype.then=function(y,h){if(typeof y!="function"&&this.state===u||typeof h!="function"&&this.state===l)return this;var V=new this.constructor(s);if(this.state!==f){var E=this.state===u?y:h;v(V,E,this.outcome)}else this.queue.push(new p(V,y,h));return V};function p(y,h,V){this.promise=y,typeof h=="function"&&(this.onFulfilled=h,this.callFulfilled=this.otherCallFulfilled),typeof V=="function"&&(this.onRejected=V,this.callRejected=this.otherCallRejected)}p.prototype.callFulfilled=function(y){o.resolve(this.promise,y)},p.prototype.otherCallFulfilled=function(y){v(this.promise,this.onFulfilled,y)},p.prototype.callRejected=function(y){o.reject(this.promise,y)},p.prototype.otherCallRejected=function(y){v(this.promise,this.onRejected,y)};function v(y,h,V){a(function(){var E;try{E=h(V)}catch(C){return o.reject(y,C)}E===y?o.reject(y,new TypeError("Cannot resolve promise with itself")):o.resolve(y,E)})}o.resolve=function(y,h){var V=P(S,h);if(V.status==="error")return o.reject(y,V.value);var E=V.value;if(E)A(y,E);else{y.state=u,y.outcome=h;for(var C=-1,j=y.queue.length;++C<j;)y.queue[C].callFulfilled(h)}return y},o.reject=function(y,h){y.state=l,y.outcome=h;for(var V=-1,E=y.queue.length;++V<E;)y.queue[V].callRejected(h);return y};function S(y){var h=y&&y.then;if(y&&(typeof y=="object"||typeof y=="function")&&typeof h=="function")return function(){h.apply(y,arguments)}}function A(y,h){var V=!1;function E(d){V||(V=!0,o.reject(y,d))}function C(d){V||(V=!0,o.resolve(y,d))}function j(){h(C,E)}var ee=P(j);ee.status==="error"&&E(ee.value)}function P(y,h){var V={};try{V.value=y(h),V.status="success"}catch(E){V.status="error",V.value=E}return V}g.resolve=O;function O(y){return y instanceof this?y:o.resolve(new this(s),y)}g.reject=_;function _(y){var h=new this(s);return o.reject(h,y)}g.all=m;function m(y){var h=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var V=y.length,E=!1;if(!V)return this.resolve([]);for(var C=new Array(V),j=0,ee=-1,d=new this(s);++ee<V;)x(y[ee],ee);return d;function x(k,T){h.resolve(k).then(z,function(B){E||(E=!0,o.reject(d,B))});function z(B){C[T]=B,++j===V&&!E&&(E=!0,o.resolve(d,C))}}}g.race=w;function w(y){var h=this;if(Object.prototype.toString.call(y)!=="[object Array]")return this.reject(new TypeError("must be an array"));var V=y.length,E=!1;if(!V)return this.resolve([]);for(var C=-1,j=new this(s);++C<V;)ee(y[C]);return j;function ee(d){h.resolve(d).then(function(x){E||(E=!0,o.resolve(j,x))},function(x){E||(E=!0,o.reject(j,x))})}}},{1:1}],3:[function(n,r,i){(function(a){typeof a.Promise!="function"&&(a.Promise=n(2))}).call(this,typeof Et<"u"?Et:typeof self<"u"?self:typeof window<"u"?window:{})},{2:2}],4:[function(n,r,i){var a=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(b){return typeof b}:function(b){return b&&typeof Symbol=="function"&&b.constructor===Symbol&&b!==Symbol.prototype?"symbol":typeof b};function s(b,D){if(!(b instanceof D))throw new TypeError("Cannot call a class as a function")}function o(){try{if(typeof indexedDB<"u")return indexedDB;if(typeof webkitIndexedDB<"u")return webkitIndexedDB;if(typeof mozIndexedDB<"u")return mozIndexedDB;if(typeof OIndexedDB<"u")return OIndexedDB;if(typeof msIndexedDB<"u")return msIndexedDB}catch{return}}var l=o();function u(){try{if(!l||!l.open)return!1;var b=typeof openDatabase<"u"&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),D=typeof fetch=="function"&&fetch.toString().indexOf("[native code")!==-1;return(!b||D)&&typeof indexedDB<"u"&&typeof IDBKeyRange<"u"}catch{return!1}}function f(b,D){b=b||[],D=D||{};try{return new Blob(b,D)}catch(R){if(R.name!=="TypeError")throw R;for(var I=typeof BlobBuilder<"u"?BlobBuilder:typeof MSBlobBuilder<"u"?MSBlobBuilder:typeof MozBlobBuilder<"u"?MozBlobBuilder:WebKitBlobBuilder,$=new I,U=0;U<b.length;U+=1)$.append(b[U]);return $.getBlob(D.type)}}typeof Promise>"u"&&n(3);var g=Promise;function p(b,D){D&&b.then(function(I){D(null,I)},function(I){D(I)})}function v(b,D,I){typeof D=="function"&&b.then(D),typeof I=="function"&&b.catch(I)}function S(b){return typeof b!="string"&&(console.warn(b+" used as a key, but it is not a string."),b=String(b)),b}function A(){if(arguments.length&&typeof arguments[arguments.length-1]=="function")return arguments[arguments.length-1]}var P="local-forage-detect-blob-support",O=void 0,_={},m=Object.prototype.toString,w="readonly",y="readwrite";function h(b){for(var D=b.length,I=new ArrayBuffer(D),$=new Uint8Array(I),U=0;U<D;U++)$[U]=b.charCodeAt(U);return I}function V(b){return new g(function(D){var I=b.transaction(P,y),$=f([""]);I.objectStore(P).put($,"key"),I.onabort=function(U){U.preventDefault(),U.stopPropagation(),D(!1)},I.oncomplete=function(){var U=navigator.userAgent.match(/Chrome\/(\d+)/),R=navigator.userAgent.match(/Edge\//);D(R||!U||parseInt(U[1],10)>=43)}}).catch(function(){return!1})}function E(b){return typeof O=="boolean"?g.resolve(O):V(b).then(function(D){return O=D,O})}function C(b){var D=_[b.name],I={};I.promise=new g(function($,U){I.resolve=$,I.reject=U}),D.deferredOperations.push(I),D.dbReady?D.dbReady=D.dbReady.then(function(){return I.promise}):D.dbReady=I.promise}function j(b){var D=_[b.name],I=D.deferredOperations.pop();if(I)return I.resolve(),I.promise}function ee(b,D){var I=_[b.name],$=I.deferredOperations.pop();if($)return $.reject(D),$.promise}function d(b,D){return new g(function(I,$){if(_[b.name]=_[b.name]||pe(),b.db)if(D)C(b),b.db.close();else return I(b.db);var U=[b.name];D&&U.push(b.version);var R=l.open.apply(l,U);D&&(R.onupgradeneeded=function(q){var K=R.result;try{K.createObjectStore(b.storeName),q.oldVersion<=1&&K.createObjectStore(P)}catch(H){if(H.name==="ConstraintError")console.warn('The database "'+b.name+'" has been upgraded from version '+q.oldVersion+" to version "+q.newVersion+', but the storage "'+b.storeName+'" already exists.');else throw H}}),R.onerror=function(q){q.preventDefault(),$(R.error)},R.onsuccess=function(){var q=R.result;q.onversionchange=function(K){K.target.close()},I(q),j(b)}})}function x(b){return d(b,!1)}function k(b){return d(b,!0)}function T(b,D){if(!b.db)return!0;var I=!b.db.objectStoreNames.contains(b.storeName),$=b.version<b.db.version,U=b.version>b.db.version;if($&&(b.version!==D&&console.warn('The database "'+b.name+`" can't be downgraded from version `+b.db.version+" to version "+b.version+"."),b.version=b.db.version),U||I){if(I){var R=b.db.version+1;R>b.version&&(b.version=R)}return!0}return!1}function z(b){return new g(function(D,I){var $=new FileReader;$.onerror=I,$.onloadend=function(U){var R=btoa(U.target.result||"");D({__local_forage_encoded_blob:!0,data:R,type:b.type})},$.readAsBinaryString(b)})}function B(b){var D=h(atob(b.data));return f([D],{type:b.type})}function L(b){return b&&b.__local_forage_encoded_blob}function Z(b){var D=this,I=D._initReady().then(function(){var $=_[D._dbInfo.name];if($&&$.dbReady)return $.dbReady});return v(I,b,b),I}function de(b){C(b);for(var D=_[b.name],I=D.forages,$=0;$<I.length;$++){var U=I[$];U._dbInfo.db&&(U._dbInfo.db.close(),U._dbInfo.db=null)}return b.db=null,x(b).then(function(R){return b.db=R,T(b)?k(b):R}).then(function(R){b.db=D.db=R;for(var q=0;q<I.length;q++)I[q]._dbInfo.db=R}).catch(function(R){throw ee(b,R),R})}function xe(b,D,I,$){$===void 0&&($=1);try{var U=b.db.transaction(b.storeName,D);I(null,U)}catch(R){if($>0&&(!b.db||R.name==="InvalidStateError"||R.name==="NotFoundError"))return g.resolve().then(function(){if(!b.db||R.name==="NotFoundError"&&!b.db.objectStoreNames.contains(b.storeName)&&b.version<=b.db.version)return b.db&&(b.version=b.db.version+1),k(b)}).then(function(){return de(b).then(function(){xe(b,D,I,$-1)})}).catch(I);I(R)}}function pe(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function wn(b){var D=this,I={db:null};if(b)for(var $ in b)I[$]=b[$];var U=_[I.name];U||(U=pe(),_[I.name]=U),U.forages.push(D),D._initReady||(D._initReady=D.ready,D.ready=Z);var R=[];function q(){return g.resolve()}for(var K=0;K<U.forages.length;K++){var H=U.forages[K];H!==D&&R.push(H._initReady().catch(q))}var J=U.forages.slice(0);return g.all(R).then(function(){return I.db=U.db,x(I)}).then(function(W){return I.db=W,T(I,D._defaultConfig.version)?k(I):W}).then(function(W){I.db=U.db=W,D._dbInfo=I;for(var ne=0;ne<J.length;ne++){var oe=J[ne];oe!==D&&(oe._dbInfo.db=I.db,oe._dbInfo.version=I.version)}})}function kn(b,D){var I=this;b=S(b);var $=new g(function(U,R){I.ready().then(function(){xe(I._dbInfo,w,function(q,K){if(q)return R(q);try{var H=K.objectStore(I._dbInfo.storeName),J=H.get(b);J.onsuccess=function(){var W=J.result;W===void 0&&(W=null),L(W)&&(W=B(W)),U(W)},J.onerror=function(){R(J.error)}}catch(W){R(W)}})}).catch(R)});return p($,D),$}function Pt(b,D){var I=this,$=new g(function(U,R){I.ready().then(function(){xe(I._dbInfo,w,function(q,K){if(q)return R(q);try{var H=K.objectStore(I._dbInfo.storeName),J=H.openCursor(),W=1;J.onsuccess=function(){var ne=J.result;if(ne){var oe=ne.value;L(oe)&&(oe=B(oe));var he=b(oe,ne.key,W++);he!==void 0?U(he):ne.continue()}else U()},J.onerror=function(){R(J.error)}}catch(ne){R(ne)}})}).catch(R)});return p($,D),$}function vt(b,D,I){var $=this;b=S(b);var U=new g(function(R,q){var K;$.ready().then(function(){return K=$._dbInfo,m.call(D)==="[object Blob]"?E(K.db).then(function(H){return H?D:z(D)}):D}).then(function(H){xe($._dbInfo,y,function(J,W){if(J)return q(J);try{var ne=W.objectStore($._dbInfo.storeName);H===null&&(H=void 0);var oe=ne.put(H,b);W.oncomplete=function(){H===void 0&&(H=null),R(H)},W.onabort=W.onerror=function(){var he=oe.error?oe.error:oe.transaction.error;q(he)}}catch(he){q(he)}})}).catch(q)});return p(U,I),U}function _n(b,D){var I=this;b=S(b);var $=new g(function(U,R){I.ready().then(function(){xe(I._dbInfo,y,function(q,K){if(q)return R(q);try{var H=K.objectStore(I._dbInfo.storeName),J=H.delete(b);K.oncomplete=function(){U()},K.onerror=function(){R(J.error)},K.onabort=function(){var W=J.error?J.error:J.transaction.error;R(W)}}catch(W){R(W)}})}).catch(R)});return p($,D),$}function Ai(b){var D=this,I=new g(function($,U){D.ready().then(function(){xe(D._dbInfo,y,function(R,q){if(R)return U(R);try{var K=q.objectStore(D._dbInfo.storeName),H=K.clear();q.oncomplete=function(){$()},q.onabort=q.onerror=function(){var J=H.error?H.error:H.transaction.error;U(J)}}catch(J){U(J)}})}).catch(U)});return p(I,b),I}function Ci(b){var D=this,I=new g(function($,U){D.ready().then(function(){xe(D._dbInfo,w,function(R,q){if(R)return U(R);try{var K=q.objectStore(D._dbInfo.storeName),H=K.count();H.onsuccess=function(){$(H.result)},H.onerror=function(){U(H.error)}}catch(J){U(J)}})}).catch(U)});return p(I,b),I}function Di(b,D){var I=this,$=new g(function(U,R){if(b<0){U(null);return}I.ready().then(function(){xe(I._dbInfo,w,function(q,K){if(q)return R(q);try{var H=K.objectStore(I._dbInfo.storeName),J=!1,W=H.openKeyCursor();W.onsuccess=function(){var ne=W.result;if(!ne){U(null);return}b===0||J?U(ne.key):(J=!0,ne.advance(b))},W.onerror=function(){R(W.error)}}catch(ne){R(ne)}})}).catch(R)});return p($,D),$}function Ni(b){var D=this,I=new g(function($,U){D.ready().then(function(){xe(D._dbInfo,w,function(R,q){if(R)return U(R);try{var K=q.objectStore(D._dbInfo.storeName),H=K.openKeyCursor(),J=[];H.onsuccess=function(){var W=H.result;if(!W){$(J);return}J.push(W.key),W.continue()},H.onerror=function(){U(H.error)}}catch(W){U(W)}})}).catch(U)});return p(I,b),I}function Ri(b,D){D=A.apply(this,arguments);var I=this.config();b=typeof b!="function"&&b||{},b.name||(b.name=b.name||I.name,b.storeName=b.storeName||I.storeName);var $=this,U;if(!b.name)U=g.reject("Invalid arguments");else{var R=b.name===I.name&&$._dbInfo.db,q=R?g.resolve($._dbInfo.db):x(b).then(function(K){var H=_[b.name],J=H.forages;H.db=K;for(var W=0;W<J.length;W++)J[W]._dbInfo.db=K;return K});b.storeName?U=q.then(function(K){if(K.objectStoreNames.contains(b.storeName)){var H=K.version+1;C(b);var J=_[b.name],W=J.forages;K.close();for(var ne=0;ne<W.length;ne++){var oe=W[ne];oe._dbInfo.db=null,oe._dbInfo.version=H}var he=new g(function(ye,ke){var we=l.open(b.name,H);we.onerror=function(je){var Ot=we.result;Ot.close(),ke(je)},we.onupgradeneeded=function(){var je=we.result;je.deleteObjectStore(b.storeName)},we.onsuccess=function(){var je=we.result;je.close(),ye(je)}});return he.then(function(ye){J.db=ye;for(var ke=0;ke<W.length;ke++){var we=W[ke];we._dbInfo.db=ye,j(we._dbInfo)}}).catch(function(ye){throw(ee(b,ye)||g.resolve()).catch(function(){}),ye})}}):U=q.then(function(K){C(b);var H=_[b.name],J=H.forages;K.close();for(var W=0;W<J.length;W++){var ne=J[W];ne._dbInfo.db=null}var oe=new g(function(he,ye){var ke=l.deleteDatabase(b.name);ke.onerror=function(){var we=ke.result;we&&we.close(),ye(ke.error)},ke.onblocked=function(){console.warn('dropInstance blocked for database "'+b.name+'" until all open connections are closed')},ke.onsuccess=function(){var we=ke.result;we&&we.close(),he(we)}});return oe.then(function(he){H.db=he;for(var ye=0;ye<J.length;ye++){var ke=J[ye];j(ke._dbInfo)}}).catch(function(he){throw(ee(b,he)||g.resolve()).catch(function(){}),he})})}return p(U,D),U}var $i={_driver:"asyncStorage",_initStorage:wn,_support:u(),iterate:Pt,getItem:kn,setItem:vt,removeItem:_n,clear:Ai,length:Ci,key:Di,keys:Ni,dropInstance:Ri};function Ui(){return typeof openDatabase=="function"}var at="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Fi="~~local_forage_type~",Or=/^~~local_forage_type~([^~]+)~/,qt="__lfsc__:",Sn=qt.length,In="arbf",Tn="blob",Er="si08",Ar="ui08",Cr="uic8",Dr="si16",Nr="si32",Rr="ur16",$r="ui32",Ur="fl32",Fr="fl64",Br=Sn+In.length,Lr=Object.prototype.toString;function jr(b){var D=b.length*.75,I=b.length,$,U=0,R,q,K,H;b[b.length-1]==="="&&(D--,b[b.length-2]==="="&&D--);var J=new ArrayBuffer(D),W=new Uint8Array(J);for($=0;$<I;$+=4)R=at.indexOf(b[$]),q=at.indexOf(b[$+1]),K=at.indexOf(b[$+2]),H=at.indexOf(b[$+3]),W[U++]=R<<2|q>>4,W[U++]=(q&15)<<4|K>>2,W[U++]=(K&3)<<6|H&63;return J}function Pn(b){var D=new Uint8Array(b),I="",$;for($=0;$<D.length;$+=3)I+=at[D[$]>>2],I+=at[(D[$]&3)<<4|D[$+1]>>4],I+=at[(D[$+1]&15)<<2|D[$+2]>>6],I+=at[D[$+2]&63];return D.length%3===2?I=I.substring(0,I.length-1)+"=":D.length%3===1&&(I=I.substring(0,I.length-2)+"=="),I}function Bi(b,D){var I="";if(b&&(I=Lr.call(b)),b&&(I==="[object ArrayBuffer]"||b.buffer&&Lr.call(b.buffer)==="[object ArrayBuffer]")){var $,U=qt;b instanceof ArrayBuffer?($=b,U+=In):($=b.buffer,I==="[object Int8Array]"?U+=Er:I==="[object Uint8Array]"?U+=Ar:I==="[object Uint8ClampedArray]"?U+=Cr:I==="[object Int16Array]"?U+=Dr:I==="[object Uint16Array]"?U+=Rr:I==="[object Int32Array]"?U+=Nr:I==="[object Uint32Array]"?U+=$r:I==="[object Float32Array]"?U+=Ur:I==="[object Float64Array]"?U+=Fr:D(new Error("Failed to get type for BinaryArray"))),D(U+Pn($))}else if(I==="[object Blob]"){var R=new FileReader;R.onload=function(){var q=Fi+b.type+"~"+Pn(this.result);D(qt+Tn+q)},R.readAsArrayBuffer(b)}else try{D(JSON.stringify(b))}catch(q){console.error("Couldn't convert value into a JSON string: ",b),D(null,q)}}function Li(b){if(b.substring(0,Sn)!==qt)return JSON.parse(b);var D=b.substring(Br),I=b.substring(Sn,Br),$;if(I===Tn&&Or.test(D)){var U=D.match(Or);$=U[1],D=D.substring(U[0].length)}var R=jr(D);switch(I){case In:return R;case Tn:return f([R],{type:$});case Er:return new Int8Array(R);case Ar:return new Uint8Array(R);case Cr:return new Uint8ClampedArray(R);case Dr:return new Int16Array(R);case Rr:return new Uint16Array(R);case Nr:return new Int32Array(R);case $r:return new Uint32Array(R);case Ur:return new Float32Array(R);case Fr:return new Float64Array(R);default:throw new Error("Unkown type: "+I)}}var Vn={serialize:Bi,deserialize:Li,stringToBuffer:jr,bufferToString:Pn};function Mr(b,D,I,$){b.executeSql("CREATE TABLE IF NOT EXISTS "+D.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],I,$)}function ji(b){var D=this,I={db:null};if(b)for(var $ in b)I[$]=typeof b[$]!="string"?b[$].toString():b[$];var U=new g(function(R,q){try{I.db=openDatabase(I.name,String(I.version),I.description,I.size)}catch(K){return q(K)}I.db.transaction(function(K){Mr(K,I,function(){D._dbInfo=I,R()},function(H,J){q(J)})},q)});return I.serializer=Vn,U}function it(b,D,I,$,U,R){b.executeSql(I,$,U,function(q,K){K.code===K.SYNTAX_ERR?q.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name = ?",[D.storeName],function(H,J){J.rows.length?R(H,K):Mr(H,D,function(){H.executeSql(I,$,U,R)},R)},R):R(q,K)},R)}function Mi(b,D){var I=this;b=S(b);var $=new g(function(U,R){I.ready().then(function(){var q=I._dbInfo;q.db.transaction(function(K){it(K,q,"SELECT * FROM "+q.storeName+" WHERE key = ? LIMIT 1",[b],function(H,J){var W=J.rows.length?J.rows.item(0).value:null;W&&(W=q.serializer.deserialize(W)),U(W)},function(H,J){R(J)})})}).catch(R)});return p($,D),$}function qi(b,D){var I=this,$=new g(function(U,R){I.ready().then(function(){var q=I._dbInfo;q.db.transaction(function(K){it(K,q,"SELECT * FROM "+q.storeName,[],function(H,J){for(var W=J.rows,ne=W.length,oe=0;oe<ne;oe++){var he=W.item(oe),ye=he.value;if(ye&&(ye=q.serializer.deserialize(ye)),ye=b(ye,he.key,oe+1),ye!==void 0){U(ye);return}}U()},function(H,J){R(J)})})}).catch(R)});return p($,D),$}function qr(b,D,I,$){var U=this;b=S(b);var R=new g(function(q,K){U.ready().then(function(){D===void 0&&(D=null);var H=D,J=U._dbInfo;J.serializer.serialize(D,function(W,ne){ne?K(ne):J.db.transaction(function(oe){it(oe,J,"INSERT OR REPLACE INTO "+J.storeName+" (key, value) VALUES (?, ?)",[b,W],function(){q(H)},function(he,ye){K(ye)})},function(oe){if(oe.code===oe.QUOTA_ERR){if($>0){q(qr.apply(U,[b,H,I,$-1]));return}K(oe)}})})}).catch(K)});return p(R,I),R}function zi(b,D,I){return qr.apply(this,[b,D,I,1])}function Ki(b,D){var I=this;b=S(b);var $=new g(function(U,R){I.ready().then(function(){var q=I._dbInfo;q.db.transaction(function(K){it(K,q,"DELETE FROM "+q.storeName+" WHERE key = ?",[b],function(){U()},function(H,J){R(J)})})}).catch(R)});return p($,D),$}function Hi(b){var D=this,I=new g(function($,U){D.ready().then(function(){var R=D._dbInfo;R.db.transaction(function(q){it(q,R,"DELETE FROM "+R.storeName,[],function(){$()},function(K,H){U(H)})})}).catch(U)});return p(I,b),I}function Ji(b){var D=this,I=new g(function($,U){D.ready().then(function(){var R=D._dbInfo;R.db.transaction(function(q){it(q,R,"SELECT COUNT(key) as c FROM "+R.storeName,[],function(K,H){var J=H.rows.item(0).c;$(J)},function(K,H){U(H)})})}).catch(U)});return p(I,b),I}function Gi(b,D){var I=this,$=new g(function(U,R){I.ready().then(function(){var q=I._dbInfo;q.db.transaction(function(K){it(K,q,"SELECT key FROM "+q.storeName+" WHERE id = ? LIMIT 1",[b+1],function(H,J){var W=J.rows.length?J.rows.item(0).key:null;U(W)},function(H,J){R(J)})})}).catch(R)});return p($,D),$}function Wi(b){var D=this,I=new g(function($,U){D.ready().then(function(){var R=D._dbInfo;R.db.transaction(function(q){it(q,R,"SELECT key FROM "+R.storeName,[],function(K,H){for(var J=[],W=0;W<H.rows.length;W++)J.push(H.rows.item(W).key);$(J)},function(K,H){U(H)})})}).catch(U)});return p(I,b),I}function Yi(b){return new g(function(D,I){b.transaction(function($){$.executeSql("SELECT name FROM sqlite_master WHERE type='table' AND name <> '__WebKitDatabaseInfoTable__'",[],function(U,R){for(var q=[],K=0;K<R.rows.length;K++)q.push(R.rows.item(K).name);D({db:b,storeNames:q})},function(U,R){I(R)})},function($){I($)})})}function Zi(b,D){D=A.apply(this,arguments);var I=this.config();b=typeof b!="function"&&b||{},b.name||(b.name=b.name||I.name,b.storeName=b.storeName||I.storeName);var $=this,U;return b.name?U=new g(function(R){var q;b.name===I.name?q=$._dbInfo.db:q=openDatabase(b.name,"","",0),b.storeName?R({db:q,storeNames:[b.storeName]}):R(Yi(q))}).then(function(R){return new g(function(q,K){R.db.transaction(function(H){function J(he){return new g(function(ye,ke){H.executeSql("DROP TABLE IF EXISTS "+he,[],function(){ye()},function(we,je){ke(je)})})}for(var W=[],ne=0,oe=R.storeNames.length;ne<oe;ne++)W.push(J(R.storeNames[ne]));g.all(W).then(function(){q()}).catch(function(he){K(he)})},function(H){K(H)})})}):U=g.reject("Invalid arguments"),p(U,D),U}var Qi={_driver:"webSQLStorage",_initStorage:ji,_support:Ui(),iterate:qi,getItem:Mi,setItem:zi,removeItem:Ki,clear:Hi,length:Ji,key:Gi,keys:Wi,dropInstance:Zi};function Xi(){try{return typeof localStorage<"u"&&"setItem"in localStorage&&!!localStorage.setItem}catch{return!1}}function zr(b,D){var I=b.name+"/";return b.storeName!==D.storeName&&(I+=b.storeName+"/"),I}function es(){var b="_localforage_support_test";try{return localStorage.setItem(b,!0),localStorage.removeItem(b),!1}catch{return!0}}function ts(){return!es()||localStorage.length>0}function ns(b){var D=this,I={};if(b)for(var $ in b)I[$]=b[$];return I.keyPrefix=zr(b,D._defaultConfig),ts()?(D._dbInfo=I,I.serializer=Vn,g.resolve()):g.reject()}function rs(b){var D=this,I=D.ready().then(function(){for(var $=D._dbInfo.keyPrefix,U=localStorage.length-1;U>=0;U--){var R=localStorage.key(U);R.indexOf($)===0&&localStorage.removeItem(R)}});return p(I,b),I}function as(b,D){var I=this;b=S(b);var $=I.ready().then(function(){var U=I._dbInfo,R=localStorage.getItem(U.keyPrefix+b);return R&&(R=U.serializer.deserialize(R)),R});return p($,D),$}function is(b,D){var I=this,$=I.ready().then(function(){for(var U=I._dbInfo,R=U.keyPrefix,q=R.length,K=localStorage.length,H=1,J=0;J<K;J++){var W=localStorage.key(J);if(W.indexOf(R)===0){var ne=localStorage.getItem(W);if(ne&&(ne=U.serializer.deserialize(ne)),ne=b(ne,W.substring(q),H++),ne!==void 0)return ne}}});return p($,D),$}function ss(b,D){var I=this,$=I.ready().then(function(){var U=I._dbInfo,R;try{R=localStorage.key(b)}catch{R=null}return R&&(R=R.substring(U.keyPrefix.length)),R});return p($,D),$}function os(b){var D=this,I=D.ready().then(function(){for(var $=D._dbInfo,U=localStorage.length,R=[],q=0;q<U;q++){var K=localStorage.key(q);K.indexOf($.keyPrefix)===0&&R.push(K.substring($.keyPrefix.length))}return R});return p(I,b),I}function ls(b){var D=this,I=D.keys().then(function($){return $.length});return p(I,b),I}function us(b,D){var I=this;b=S(b);var $=I.ready().then(function(){var U=I._dbInfo;localStorage.removeItem(U.keyPrefix+b)});return p($,D),$}function cs(b,D,I){var $=this;b=S(b);var U=$.ready().then(function(){D===void 0&&(D=null);var R=D;return new g(function(q,K){var H=$._dbInfo;H.serializer.serialize(D,function(J,W){if(W)K(W);else try{localStorage.setItem(H.keyPrefix+b,J),q(R)}catch(ne){(ne.name==="QuotaExceededError"||ne.name==="NS_ERROR_DOM_QUOTA_REACHED")&&K(ne),K(ne)}})})});return p(U,I),U}function ps(b,D){if(D=A.apply(this,arguments),b=typeof b!="function"&&b||{},!b.name){var I=this.config();b.name=b.name||I.name,b.storeName=b.storeName||I.storeName}var $=this,U;return b.name?U=new g(function(R){b.storeName?R(zr(b,$._defaultConfig)):R(b.name+"/")}).then(function(R){for(var q=localStorage.length-1;q>=0;q--){var K=localStorage.key(q);K.indexOf(R)===0&&localStorage.removeItem(K)}}):U=g.reject("Invalid arguments"),p(U,D),U}var fs={_driver:"localStorageWrapper",_initStorage:ns,_support:Xi(),iterate:is,getItem:as,setItem:cs,removeItem:us,clear:rs,length:ls,key:ss,keys:os,dropInstance:ps},ds=function(D,I){return D===I||typeof D=="number"&&typeof I=="number"&&isNaN(D)&&isNaN(I)},hs=function(D,I){for(var $=D.length,U=0;U<$;){if(ds(D[U],I))return!0;U++}return!1},Kr=Array.isArray||function(b){return Object.prototype.toString.call(b)==="[object Array]"},Vt={},Hr={},bt={INDEXEDDB:$i,WEBSQL:Qi,LOCALSTORAGE:fs},ms=[bt.INDEXEDDB._driver,bt.WEBSQL._driver,bt.LOCALSTORAGE._driver],zt=["dropInstance"],On=["clear","getItem","iterate","key","keys","length","removeItem","setItem"].concat(zt),ys={description:"",driver:ms.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};function gs(b,D){b[D]=function(){var I=arguments;return b.ready().then(function(){return b[D].apply(b,I)})}}function En(){for(var b=1;b<arguments.length;b++){var D=arguments[b];if(D)for(var I in D)D.hasOwnProperty(I)&&(Kr(D[I])?arguments[0][I]=D[I].slice():arguments[0][I]=D[I])}return arguments[0]}var vs=function(){function b(D){s(this,b);for(var I in bt)if(bt.hasOwnProperty(I)){var $=bt[I],U=$._driver;this[I]=U,Vt[U]||this.defineDriver($)}this._defaultConfig=En({},ys),this._config=En({},this._defaultConfig,D),this._driverSet=null,this._initDriver=null,this._ready=!1,this._dbInfo=null,this._wrapLibraryMethodsWithReady(),this.setDriver(this._config.driver).catch(function(){})}return b.prototype.config=function(I){if((typeof I>"u"?"undefined":a(I))==="object"){if(this._ready)return new Error("Can't call config() after localforage has been used.");for(var $ in I){if($==="storeName"&&(I[$]=I[$].replace(/\W/g,"_")),$==="version"&&typeof I[$]!="number")return new Error("Database version must be a number.");this._config[$]=I[$]}return"driver"in I&&I.driver?this.setDriver(this._config.driver):!0}else return typeof I=="string"?this._config[I]:this._config},b.prototype.defineDriver=function(I,$,U){var R=new g(function(q,K){try{var H=I._driver,J=new Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(!I._driver){K(J);return}for(var W=On.concat("_initStorage"),ne=0,oe=W.length;ne<oe;ne++){var he=W[ne],ye=!hs(zt,he);if((ye||I[he])&&typeof I[he]!="function"){K(J);return}}var ke=function(){for(var Ot=function(ws){return function(){var ks=new Error("Method "+ws+" is not implemented by the current driver"),Jr=g.reject(ks);return p(Jr,arguments[arguments.length-1]),Jr}},An=0,xs=zt.length;An<xs;An++){var Cn=zt[An];I[Cn]||(I[Cn]=Ot(Cn))}};ke();var we=function(Ot){Vt[H]&&console.info("Redefining LocalForage driver: "+H),Vt[H]=I,Hr[H]=Ot,q()};"_support"in I?I._support&&typeof I._support=="function"?I._support().then(we,K):we(!!I._support):we(!0)}catch(je){K(je)}});return v(R,$,U),R},b.prototype.driver=function(){return this._driver||null},b.prototype.getDriver=function(I,$,U){var R=Vt[I]?g.resolve(Vt[I]):g.reject(new Error("Driver not found."));return v(R,$,U),R},b.prototype.getSerializer=function(I){var $=g.resolve(Vn);return v($,I),$},b.prototype.ready=function(I){var $=this,U=$._driverSet.then(function(){return $._ready===null&&($._ready=$._initDriver()),$._ready});return v(U,I,I),U},b.prototype.setDriver=function(I,$,U){var R=this;Kr(I)||(I=[I]);var q=this._getSupportedDrivers(I);function K(){R._config.driver=R.driver()}function H(ne){return R._extend(ne),K(),R._ready=R._initStorage(R._config),R._ready}function J(ne){return function(){var oe=0;function he(){for(;oe<ne.length;){var ye=ne[oe];return oe++,R._dbInfo=null,R._ready=null,R.getDriver(ye).then(H).catch(he)}K();var ke=new Error("No available storage method found.");return R._driverSet=g.reject(ke),R._driverSet}return he()}}var W=this._driverSet!==null?this._driverSet.catch(function(){return g.resolve()}):g.resolve();return this._driverSet=W.then(function(){var ne=q[0];return R._dbInfo=null,R._ready=null,R.getDriver(ne).then(function(oe){R._driver=oe._driver,K(),R._wrapLibraryMethodsWithReady(),R._initDriver=J(q)})}).catch(function(){K();var ne=new Error("No available storage method found.");return R._driverSet=g.reject(ne),R._driverSet}),v(this._driverSet,$,U),this._driverSet},b.prototype.supports=function(I){return!!Hr[I]},b.prototype._extend=function(I){En(this,I)},b.prototype._getSupportedDrivers=function(I){for(var $=[],U=0,R=I.length;U<R;U++){var q=I[U];this.supports(q)&&$.push(q)}return $},b.prototype._wrapLibraryMethodsWithReady=function(){for(var I=0,$=On.length;I<$;I++)gs(this,On[I])},b.prototype.createInstance=function(I){return new b(I)},b}(),bs=new vs;r.exports=bs},{3:3}]},{},[4])(4)})})(jo);const qe=Ln,Mo={getItem(t){return new Promise((e,n)=>{qe.getItem(t).then(r=>{e(r)}).catch(r=>{n(r)})})},setItem(t,e){return new Promise((n,r)=>{e=JSON.parse(JSON.stringify(e)),qe.setItem(t,e).then(i=>{n(i)}).catch(i=>{r(i)})})},removeItem(t){return new Promise((e,n)=>{qe.removeItem(t).then(()=>{e()}).catch(r=>{n(r)})})},clear(){return new Promise((t,e)=>{qe.clear().then(()=>{t()}).catch(n=>{e(n)})})},length(){return new Promise((t,e)=>{qe.length().then(n=>{t(n)}).catch(n=>{e(n)})})},key(t){return new Promise((e,n)=>{qe.key(t).then(r=>{e(r)}).catch(r=>{n(r)})})},keys(){return new Promise((t,e)=>{qe.keys().then(n=>{t(n)}).catch(n=>{e(n)})})},iterate(){return new Promise((t,e)=>{qe.iterate((n,r,i)=>{t([n,r,i])}).then(n=>{t(n)}).catch(n=>{e(n)})})},setDriver(t){return new Promise((e,n)=>{e(qe.setDriver(t))})},config(t){return new Promise((e,n)=>{e(qe.config(t))})},createInstance(t){return new Promise((e,n)=>{e(qe.createInstance(t))})}};function qo(t,...e){return(...n)=>t(...e,...n)}function Bt(t){return function(...e){var n=e.pop();return t.call(this,e,n)}}var zo=typeof queueMicrotask=="function"&&queueMicrotask,ti=typeof setImmediate=="function"&&setImmediate,ni=typeof process=="object"&&typeof process.nextTick=="function";function ri(t){setTimeout(t,0)}function ai(t){return(e,...n)=>t(()=>e(...n))}var At;zo?At=queueMicrotask:ti?At=setImmediate:ni?At=process.nextTick:At=ri;var dt=ai(At);function jn(t){return Lt(t)?function(...e){const n=e.pop(),r=t.apply(this,e);return ea(r,n)}:Bt(function(e,n){var r;try{r=t.apply(this,e)}catch(i){return n(i)}if(r&&typeof r.then=="function")return ea(r,n);n(null,r)})}function ea(t,e){return t.then(n=>{ta(e,null,n)},n=>{ta(e,n&&n.message?n:new Error(n))})}function ta(t,e,n){try{t(e,n)}catch(r){dt(i=>{throw i},r)}}function Lt(t){return t[Symbol.toStringTag]==="AsyncFunction"}function Ko(t){return t[Symbol.toStringTag]==="AsyncGenerator"}function Ho(t){return typeof t[Symbol.asyncIterator]=="function"}function le(t){if(typeof t!="function")throw new Error("expected a function");return Lt(t)?jn(t):t}function se(t,e=t.length){if(!e)throw new Error("arity is undefined");function n(...r){return typeof r[e-1]=="function"?t.apply(this,r):new Promise((i,a)=>{r[e-1]=(s,...o)=>{if(s)return a(s);i(o.length>1?o:o[0])},t.apply(this,r)})}return n}function ii(t){return function(n,...r){return se(function(a){var s=this;return t(n,(o,l)=>{le(o).apply(s,r.concat(l))},a)})}}function ur(t,e,n,r){e=e||[];var i=[],a=0,s=le(n);return t(e,(o,l,u)=>{var f=a++;s(o,(g,p)=>{i[f]=p,u(g)})},o=>{r(o,i)})}function yn(t){return t&&typeof t.length=="number"&&t.length>=0&&t.length%1===0}const gn={};function lt(t){function e(...n){if(t!==null){var r=t;t=null,r.apply(this,n)}}return Object.assign(e,t),e}function Jo(t){return t[Symbol.iterator]&&t[Symbol.iterator]()}function Go(t){var e=-1,n=t.length;return function(){return++e<n?{value:t[e],key:e}:null}}function Wo(t){var e=-1;return function(){var r=t.next();return r.done?null:(e++,{value:r.value,key:e})}}function Yo(t){var e=t?Object.keys(t):[],n=-1,r=e.length;return function i(){var a=e[++n];return a==="__proto__"?i():n<r?{value:t[a],key:a}:null}}function Zo(t){if(yn(t))return Go(t);var e=Jo(t);return e?Wo(e):Yo(t)}function ut(t){return function(...e){if(t===null)throw new Error("Callback was already called.");var n=t;t=null,n.apply(this,e)}}function na(t,e,n,r){let i=!1,a=!1,s=!1,o=0,l=0;function u(){o>=e||s||i||(s=!0,t.next().then(({value:p,done:v})=>{if(!(a||i)){if(s=!1,v){i=!0,o<=0&&r(null);return}o++,n(p,l,f),l++,u()}}).catch(g))}function f(p,v){if(o-=1,!a){if(p)return g(p);if(p===!1){i=!0,a=!0;return}if(v===gn||i&&o<=0)return i=!0,r(null);u()}}function g(p){a||(s=!1,i=!0,r(p))}u()}var Je=t=>(e,n,r)=>{if(r=lt(r),t<=0)throw new RangeError("concurrency limit cannot be less than 1");if(!e)return r(null);if(Ko(e))return na(e,t,n,r);if(Ho(e))return na(e[Symbol.asyncIterator](),t,n,r);var i=Zo(e),a=!1,s=!1,o=0,l=!1;function u(g,p){if(!s)if(o-=1,g)a=!0,r(g);else if(g===!1)a=!0,s=!0;else{if(p===gn||a&&o<=0)return a=!0,r(null);l||f()}}function f(){for(l=!0;o<t&&!a;){var g=i();if(g===null){a=!0,o<=0&&r(null);return}o+=1,n(g.value,g.key,ut(u))}l=!1}f()};function Qo(t,e,n,r){return Je(e)(t,le(n),r)}var en=se(Qo,4);function Xo(t,e,n){n=lt(n);var r=0,i=0,{length:a}=t,s=!1;a===0&&n(null);function o(l,u){l===!1&&(s=!0),s!==!0&&(l?n(l):(++i===a||u===gn)&&n(null))}for(;r<a;r++)e(t[r],r,ut(o))}function el(t,e,n){return en(t,1/0,e,n)}function tl(t,e,n){var r=yn(t)?Xo:el;return r(t,le(e),n)}var He=se(tl,3);function nl(t,e,n){return ur(He,t,e,n)}var cr=se(nl,3),rl=ii(cr);function al(t,e,n){return en(t,1,e,n)}var Xe=se(al,3);function il(t,e,n){return ur(Xe,t,e,n)}var si=se(il,3),sl=ii(si);const Tt=Symbol("promiseCallback");function _t(){let t,e;function n(r,...i){if(r)return e(r);t(i.length>1?i:i[0])}return n[Tt]=new Promise((r,i)=>{t=r,e=i}),n}function oi(t,e,n){typeof e!="number"&&(n=e,e=null),n=lt(n||_t());var r=Object.keys(t).length;if(!r)return n(null);e||(e=r);var i={},a=0,s=!1,o=!1,l=Object.create(null),u=[],f=[],g={};Object.keys(t).forEach(m=>{var w=t[m];if(!Array.isArray(w)){p(m,[w]),f.push(m);return}var y=w.slice(0,w.length-1),h=y.length;if(h===0){p(m,w),f.push(m);return}g[m]=h,y.forEach(V=>{if(!t[V])throw new Error("async.auto task `"+m+"` has a non-existent dependency `"+V+"` in "+y.join(", "));S(V,()=>{h--,h===0&&p(m,w)})})}),O(),v();function p(m,w){u.push(()=>P(m,w))}function v(){if(!s){if(u.length===0&&a===0)return n(null,i);for(;u.length&&a<e;){var m=u.shift();m()}}}function S(m,w){var y=l[m];y||(y=l[m]=[]),y.push(w)}function A(m){var w=l[m]||[];w.forEach(y=>y()),v()}function P(m,w){if(!o){var y=ut((V,...E)=>{if(a--,V===!1){s=!0;return}if(E.length<2&&([E]=E),V){var C={};if(Object.keys(i).forEach(j=>{C[j]=i[j]}),C[m]=E,o=!0,l=Object.create(null),s)return;n(V,C)}else i[m]=E,A(m)});a++;var h=le(w[w.length-1]);w.length>1?h(i,y):h(y)}}function O(){for(var m,w=0;f.length;)m=f.pop(),w++,_(m).forEach(y=>{--g[y]===0&&f.push(y)});if(w!==r)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}function _(m){var w=[];return Object.keys(t).forEach(y=>{const h=t[y];Array.isArray(h)&&h.indexOf(m)>=0&&w.push(y)}),w}return n[Tt]}var ol=/^(?:async\s+)?(?:function)?\s*\w*\s*\(\s*([^)]+)\s*\)(?:\s*{)/,ll=/^(?:async\s+)?\(?\s*([^)=]+)\s*\)?(?:\s*=>)/,ul=/,/,cl=/(=.+)?(\s*)$/;function pl(t){let e="",n=0,r=t.indexOf("*/");for(;n<t.length;)if(t[n]==="/"&&t[n+1]==="/"){let i=t.indexOf(`
`,n);n=i===-1?t.length:i}else if(r!==-1&&t[n]==="/"&&t[n+1]==="*"){let i=t.indexOf("*/",n);i!==-1?(n=i+2,r=t.indexOf("*/",n)):(e+=t[n],n++)}else e+=t[n],n++;return e}function fl(t){const e=pl(t.toString());let n=e.match(ol);if(n||(n=e.match(ll)),!n)throw new Error(`could not parse args in autoInject
Source:
`+e);let[,r]=n;return r.replace(/\s/g,"").split(ul).map(i=>i.replace(cl,"").trim())}function dl(t,e){var n={};return Object.keys(t).forEach(r=>{var i=t[r],a,s=Lt(i),o=!s&&i.length===1||s&&i.length===0;if(Array.isArray(i))a=[...i],i=a.pop(),n[r]=a.concat(a.length>0?l:i);else if(o)n[r]=i;else{if(a=fl(i),i.length===0&&!s&&a.length===0)throw new Error("autoInject task functions require explicit parameters.");s||a.pop(),n[r]=a.concat(l)}function l(u,f){var g=a.map(p=>u[p]);g.push(f),le(i)(...g)}}),oi(n,e)}class hl{constructor(){this.head=this.tail=null,this.length=0}removeLink(e){return e.prev?e.prev.next=e.next:this.head=e.next,e.next?e.next.prev=e.prev:this.tail=e.prev,e.prev=e.next=null,this.length-=1,e}empty(){for(;this.head;)this.shift();return this}insertAfter(e,n){n.prev=e,n.next=e.next,e.next?e.next.prev=n:this.tail=n,e.next=n,this.length+=1}insertBefore(e,n){n.prev=e.prev,n.next=e,e.prev?e.prev.next=n:this.head=n,e.prev=n,this.length+=1}unshift(e){this.head?this.insertBefore(this.head,e):ra(this,e)}push(e){this.tail?this.insertAfter(this.tail,e):ra(this,e)}shift(){return this.head&&this.removeLink(this.head)}pop(){return this.tail&&this.removeLink(this.tail)}toArray(){return[...this]}*[Symbol.iterator](){for(var e=this.head;e;)yield e.data,e=e.next}remove(e){for(var n=this.head;n;){var{next:r}=n;e(n)&&this.removeLink(n),n=r}return this}}function ra(t,e){t.length=1,t.head=t.tail=e}function pr(t,e,n){if(e==null)e=1;else if(e===0)throw new RangeError("Concurrency must not be zero");var r=le(t),i=0,a=[];const s={error:[],drain:[],saturated:[],unsaturated:[],empty:[]};function o(_,m){s[_].push(m)}function l(_,m){const w=(...y)=>{u(_,w),m(...y)};s[_].push(w)}function u(_,m){if(!_)return Object.keys(s).forEach(w=>s[w]=[]);if(!m)return s[_]=[];s[_]=s[_].filter(w=>w!==m)}function f(_,...m){s[_].forEach(w=>w(...m))}var g=!1;function p(_,m,w,y){if(y!=null&&typeof y!="function")throw new Error("task callback must be a function");O.started=!0;var h,V;function E(j,...ee){if(j)return w?V(j):h();if(ee.length<=1)return h(ee[0]);h(ee)}var C=O._createTaskItem(_,w?E:y||E);if(m?O._tasks.unshift(C):O._tasks.push(C),g||(g=!0,dt(()=>{g=!1,O.process()})),w||!y)return new Promise((j,ee)=>{h=j,V=ee})}function v(_){return function(m,...w){i-=1;for(var y=0,h=_.length;y<h;y++){var V=_[y],E=a.indexOf(V);E===0?a.shift():E>0&&a.splice(E,1),V.callback(m,...w),m!=null&&f("error",m,V.data)}i<=O.concurrency-O.buffer&&f("unsaturated"),O.idle()&&f("drain"),O.process()}}function S(_){return _.length===0&&O.idle()?(dt(()=>f("drain")),!0):!1}const A=_=>m=>{if(!m)return new Promise((w,y)=>{l(_,(h,V)=>{if(h)return y(h);w(V)})});u(_),o(_,m)};var P=!1,O={_tasks:new hl,_createTaskItem(_,m){return{data:_,callback:m}},*[Symbol.iterator](){yield*O._tasks[Symbol.iterator]()},concurrency:e,payload:n,buffer:e/4,started:!1,paused:!1,push(_,m){return Array.isArray(_)?S(_)?void 0:_.map(w=>p(w,!1,!1,m)):p(_,!1,!1,m)},pushAsync(_,m){return Array.isArray(_)?S(_)?void 0:_.map(w=>p(w,!1,!0,m)):p(_,!1,!0,m)},kill(){u(),O._tasks.empty()},unshift(_,m){return Array.isArray(_)?S(_)?void 0:_.map(w=>p(w,!0,!1,m)):p(_,!0,!1,m)},unshiftAsync(_,m){return Array.isArray(_)?S(_)?void 0:_.map(w=>p(w,!0,!0,m)):p(_,!0,!0,m)},remove(_){O._tasks.remove(_)},process(){if(!P){for(P=!0;!O.paused&&i<O.concurrency&&O._tasks.length;){var _=[],m=[],w=O._tasks.length;O.payload&&(w=Math.min(w,O.payload));for(var y=0;y<w;y++){var h=O._tasks.shift();_.push(h),a.push(h),m.push(h.data)}i+=1,O._tasks.length===0&&f("empty"),i===O.concurrency&&f("saturated");var V=ut(v(_));r(m,V)}P=!1}},length(){return O._tasks.length},running(){return i},workersList(){return a},idle(){return O._tasks.length+i===0},pause(){O.paused=!0},resume(){O.paused!==!1&&(O.paused=!1,dt(O.process))}};return Object.defineProperties(O,{saturated:{writable:!1,value:A("saturated")},unsaturated:{writable:!1,value:A("unsaturated")},empty:{writable:!1,value:A("empty")},drain:{writable:!1,value:A("drain")},error:{writable:!1,value:A("error")}}),O}function ml(t,e){return pr(t,1,e)}function yl(t,e,n){return pr(t,e,n)}function gl(t,e,n,r){r=lt(r);var i=le(n);return Xe(t,(a,s,o)=>{i(e,a,(l,u)=>{e=u,o(l)})},a=>r(a,e))}var Ct=se(gl,4);function li(...t){var e=t.map(le);return function(...n){var r=this,i=n[n.length-1];return typeof i=="function"?n.pop():i=_t(),Ct(e,n,(a,s,o)=>{s.apply(r,a.concat((l,...u)=>{o(l,u)}))},(a,s)=>i(a,...s)),i[Tt]}}function vl(...t){return li(...t.reverse())}function bl(t,e,n,r){return ur(Je(e),t,n,r)}var vn=se(bl,4);function xl(t,e,n,r){var i=le(n);return vn(t,e,(a,s)=>{i(a,(o,...l)=>o?s(o):s(o,l))},(a,s)=>{for(var o=[],l=0;l<s.length;l++)s[l]&&(o=o.concat(...s[l]));return r(a,o)})}var tn=se(xl,4);function wl(t,e,n){return tn(t,1/0,e,n)}var aa=se(wl,3);function kl(t,e,n){return tn(t,1,e,n)}var ia=se(kl,3);function _l(...t){return function(...e){var n=e.pop();return n(null,...t)}}function nt(t,e){return(n,r,i,a)=>{var s=!1,o;const l=le(i);n(r,(u,f,g)=>{l(u,(p,v)=>{if(p||p===!1)return g(p);if(t(v)&&!o)return s=!0,o=e(!0,u),g(null,gn);g()})},u=>{if(u)return a(u);a(null,s?o:e(!1))})}}function Sl(t,e,n){return nt(r=>r,(r,i)=>i)(He,t,e,n)}var sa=se(Sl,3);function Il(t,e,n,r){return nt(i=>i,(i,a)=>a)(Je(e),t,n,r)}var oa=se(Il,4);function Tl(t,e,n){return nt(r=>r,(r,i)=>i)(Je(1),t,e,n)}var la=se(Tl,3);function ui(t){return(e,...n)=>le(e)(...n,(r,...i)=>{typeof console=="object"&&(r?console.error&&console.error(r):console[t]&&i.forEach(a=>console[t](a)))})}var Pl=ui("dir");function Vl(t,e,n){n=ut(n);var r=le(t),i=le(e),a;function s(l,...u){if(l)return n(l);l!==!1&&(a=u,i(...u,o))}function o(l,u){if(l)return n(l);if(l!==!1){if(!u)return n(null,...a);r(s)}}return o(null,!0)}var Mn=se(Vl,3);function Ol(t,e,n){const r=le(e);return Mn(t,(...i)=>{const a=i.pop();r(...i,(s,o)=>a(s,!o))},n)}function ci(t){return(e,n,r)=>t(e,r)}function El(t,e,n){return He(t,ci(le(e)),n)}var ua=se(El,3);function Al(t,e,n,r){return Je(e)(t,ci(le(n)),r)}var qn=se(Al,4);function Cl(t,e,n){return qn(t,1,e,n)}var zn=se(Cl,3);function pi(t){return Lt(t)?t:function(...e){var n=e.pop(),r=!0;e.push((...i)=>{r?dt(()=>n(...i)):n(...i)}),t.apply(this,e),r=!1}}function Dl(t,e,n){return nt(r=>!r,r=>!r)(He,t,e,n)}var ca=se(Dl,3);function Nl(t,e,n,r){return nt(i=>!i,i=>!i)(Je(e),t,n,r)}var pa=se(Nl,4);function Rl(t,e,n){return nt(r=>!r,r=>!r)(Xe,t,e,n)}var fa=se(Rl,3);function $l(t,e,n,r){var i=new Array(e.length);t(e,(a,s,o)=>{n(a,(l,u)=>{i[s]=!!u,o(l)})},a=>{if(a)return r(a);for(var s=[],o=0;o<e.length;o++)i[o]&&s.push(e[o]);r(null,s)})}function Ul(t,e,n,r){var i=[];t(e,(a,s,o)=>{n(a,(l,u)=>{if(l)return o(l);u&&i.push({index:s,value:a}),o(l)})},a=>{if(a)return r(a);r(null,i.sort((s,o)=>s.index-o.index).map(s=>s.value))})}function bn(t,e,n,r){var i=yn(e)?$l:Ul;return i(t,e,le(n),r)}function Fl(t,e,n){return bn(He,t,e,n)}var da=se(Fl,3);function Bl(t,e,n,r){return bn(Je(e),t,n,r)}var ha=se(Bl,4);function Ll(t,e,n){return bn(Xe,t,e,n)}var ma=se(Ll,3);function jl(t,e){var n=ut(e),r=le(pi(t));function i(a){if(a)return n(a);a!==!1&&r(i)}return i()}var Ml=se(jl,2);function ql(t,e,n,r){var i=le(n);return vn(t,e,(a,s)=>{i(a,(o,l)=>o?s(o):s(o,{key:l,val:a}))},(a,s)=>{for(var o={},{hasOwnProperty:l}=Object.prototype,u=0;u<s.length;u++)if(s[u]){var{key:f}=s[u],{val:g}=s[u];l.call(o,f)?o[f].push(g):o[f]=[g]}return r(a,o)})}var fr=se(ql,4);function zl(t,e,n){return fr(t,1/0,e,n)}function Kl(t,e,n){return fr(t,1,e,n)}var Hl=ui("log");function Jl(t,e,n,r){r=lt(r);var i={},a=le(n);return Je(e)(t,(s,o,l)=>{a(s,o,(u,f)=>{if(u)return l(u);i[o]=f,l(u)})},s=>r(s,i))}var dr=se(Jl,4);function Gl(t,e,n){return dr(t,1/0,e,n)}function Wl(t,e,n){return dr(t,1,e,n)}function Yl(t,e=n=>n){var n=Object.create(null),r=Object.create(null),i=le(t),a=Bt((s,o)=>{var l=e(...s);l in n?dt(()=>o(null,...n[l])):l in r?r[l].push(o):(r[l]=[o],i(...s,(u,...f)=>{u||(n[l]=f);var g=r[l];delete r[l];for(var p=0,v=g.length;p<v;p++)g[p](u,...f)}))});return a.memo=n,a.unmemoized=t,a}var Wt;ni?Wt=process.nextTick:ti?Wt=setImmediate:Wt=ri;var Zl=ai(Wt),hr=se((t,e,n)=>{var r=yn(e)?[]:{};t(e,(i,a,s)=>{le(i)((o,...l)=>{l.length<2&&([l]=l),r[a]=l,s(o)})},i=>n(i,r))},3);function Ql(t,e){return hr(He,t,e)}function Xl(t,e,n){return hr(Je(e),t,n)}function fi(t,e){var n=le(t);return pr((r,i)=>{n(r[0],i)},e,1)}class eu{constructor(){this.heap=[],this.pushCount=Number.MIN_SAFE_INTEGER}get length(){return this.heap.length}empty(){return this.heap=[],this}percUp(e){let n;for(;e>0&&Rn(this.heap[e],this.heap[n=ya(e)]);){let r=this.heap[e];this.heap[e]=this.heap[n],this.heap[n]=r,e=n}}percDown(e){let n;for(;(n=tu(e))<this.heap.length&&(n+1<this.heap.length&&Rn(this.heap[n+1],this.heap[n])&&(n=n+1),!Rn(this.heap[e],this.heap[n]));){let r=this.heap[e];this.heap[e]=this.heap[n],this.heap[n]=r,e=n}}push(e){e.pushCount=++this.pushCount,this.heap.push(e),this.percUp(this.heap.length-1)}unshift(e){return this.heap.push(e)}shift(){let[e]=this.heap;return this.heap[0]=this.heap[this.heap.length-1],this.heap.pop(),this.percDown(0),e}toArray(){return[...this]}*[Symbol.iterator](){for(let e=0;e<this.heap.length;e++)yield this.heap[e].data}remove(e){let n=0;for(let r=0;r<this.heap.length;r++)e(this.heap[r])||(this.heap[n]=this.heap[r],n++);this.heap.splice(n);for(let r=ya(this.heap.length-1);r>=0;r--)this.percDown(r);return this}}function tu(t){return(t<<1)+1}function ya(t){return(t+1>>1)-1}function Rn(t,e){return t.priority!==e.priority?t.priority<e.priority:t.pushCount<e.pushCount}function nu(t,e){var n=fi(t,e),{push:r,pushAsync:i}=n;n._tasks=new eu,n._createTaskItem=({data:s,priority:o},l)=>({data:s,priority:o,callback:l});function a(s,o){return Array.isArray(s)?s.map(l=>({data:l,priority:o})):{data:s,priority:o}}return n.push=function(s,o=0,l){return r(a(s,o),l)},n.pushAsync=function(s,o=0,l){return i(a(s,o),l)},delete n.unshift,delete n.unshiftAsync,n}function ru(t,e){if(e=lt(e),!Array.isArray(t))return e(new TypeError("First argument to race must be an array of functions"));if(!t.length)return e();for(var n=0,r=t.length;n<r;n++)le(t[n])(e)}var au=se(ru,2);function ga(t,e,n,r){var i=[...t].reverse();return Ct(i,e,n,r)}function Kn(t){var e=le(t);return Bt(function(r,i){return r.push((a,...s)=>{let o={};if(a&&(o.error=a),s.length>0){var l=s;s.length<=1&&([l]=s),o.value=l}i(null,o)}),e.apply(this,r)})}function iu(t){var e;return Array.isArray(t)?e=t.map(Kn):(e={},Object.keys(t).forEach(n=>{e[n]=Kn.call(this,t[n])})),e}function mr(t,e,n,r){const i=le(n);return bn(t,e,(a,s)=>{i(a,(o,l)=>{s(o,!l)})},r)}function su(t,e,n){return mr(He,t,e,n)}var ou=se(su,3);function lu(t,e,n,r){return mr(Je(e),t,n,r)}var uu=se(lu,4);function cu(t,e,n){return mr(Xe,t,e,n)}var pu=se(cu,3);function di(t){return function(){return t}}const Hn=5,hi=0;function Jn(t,e,n){var r={times:Hn,intervalFunc:di(hi)};if(arguments.length<3&&typeof t=="function"?(n=e||_t(),e=t):(fu(r,t),n=n||_t()),typeof e!="function")throw new Error("Invalid arguments for async.retry");var i=le(e),a=1;function s(){i((o,...l)=>{o!==!1&&(o&&a++<r.times&&(typeof r.errorFilter!="function"||r.errorFilter(o))?setTimeout(s,r.intervalFunc(a-1)):n(o,...l))})}return s(),n[Tt]}function fu(t,e){if(typeof e=="object")t.times=+e.times||Hn,t.intervalFunc=typeof e.interval=="function"?e.interval:di(+e.interval||hi),t.errorFilter=e.errorFilter;else if(typeof e=="number"||typeof e=="string")t.times=+e||Hn;else throw new Error("Invalid arguments for async.retry")}function du(t,e){e||(e=t,t=null);let n=t&&t.arity||e.length;Lt(e)&&(n+=1);var r=le(e);return Bt((i,a)=>{(i.length<n-1||a==null)&&(i.push(a),a=_t());function s(o){r(...i,o)}return t?Jn(t,s,a):Jn(s,a),a[Tt]})}function hu(t,e){return hr(Xe,t,e)}function mu(t,e,n){return nt(Boolean,r=>r)(He,t,e,n)}var va=se(mu,3);function yu(t,e,n,r){return nt(Boolean,i=>i)(Je(e),t,n,r)}var ba=se(yu,4);function gu(t,e,n){return nt(Boolean,r=>r)(Xe,t,e,n)}var xa=se(gu,3);function vu(t,e,n){var r=le(e);return cr(t,(a,s)=>{r(a,(o,l)=>{if(o)return s(o);s(o,{value:a,criteria:l})})},(a,s)=>{if(a)return n(a);n(null,s.sort(i).map(o=>o.value))});function i(a,s){var o=a.criteria,l=s.criteria;return o<l?-1:o>l?1:0}}var bu=se(vu,3);function xu(t,e,n){var r=le(t);return Bt((i,a)=>{var s=!1,o;function l(){var u=t.name||"anonymous",f=new Error('Callback function "'+u+'" timed out.');f.code="ETIMEDOUT",n&&(f.info=n),s=!0,a(f)}i.push((...u)=>{s||(a(...u),clearTimeout(o))}),o=setTimeout(l,e),r(...i)})}function wu(t){for(var e=Array(t);t--;)e[t]=t;return e}function yr(t,e,n,r){var i=le(n);return vn(wu(t),e,i,r)}function ku(t,e,n){return yr(t,1/0,e,n)}function _u(t,e,n){return yr(t,1,e,n)}function Su(t,e,n,r){arguments.length<=3&&typeof e=="function"&&(r=n,n=e,e=Array.isArray(t)?[]:{}),r=lt(r||_t());var i=le(n);return He(t,(a,s,o)=>{i(e,a,s,o)},a=>r(a,e)),r[Tt]}function Iu(t,e){var n=null,r;return zn(t,(i,a)=>{le(i)((s,...o)=>{if(s===!1)return a(s);o.length<2?[r]=o:r=o,n=s,a(s?null:{})})},()=>e(n,r))}var Tu=se(Iu);function Pu(t){return(...e)=>(t.unmemoized||t)(...e)}function Vu(t,e,n){n=ut(n);var r=le(e),i=le(t),a=[];function s(l,...u){if(l)return n(l);a=u,l!==!1&&i(o)}function o(l,u){if(l)return n(l);if(l!==!1){if(!u)return n(null,...a);r(s)}}return i(o)}var Gn=se(Vu,3);function Ou(t,e,n){const r=le(t);return Gn(i=>r((a,s)=>i(a,!s)),e,n)}function Eu(t,e){if(e=lt(e),!Array.isArray(t))return e(new Error("First argument to waterfall must be an array of functions"));if(!t.length)return e();var n=0;function r(a){var s=le(t[n++]);s(...a,ut(i))}function i(a,...s){if(a!==!1){if(a||n===t.length)return e(a,...s);r(s)}}r([])}var Au=se(Eu),Cu={apply:qo,applyEach:rl,applyEachSeries:sl,asyncify:jn,auto:oi,autoInject:dl,cargo:ml,cargoQueue:yl,compose:vl,concat:aa,concatLimit:tn,concatSeries:ia,constant:_l,detect:sa,detectLimit:oa,detectSeries:la,dir:Pl,doUntil:Ol,doWhilst:Mn,each:ua,eachLimit:qn,eachOf:He,eachOfLimit:en,eachOfSeries:Xe,eachSeries:zn,ensureAsync:pi,every:ca,everyLimit:pa,everySeries:fa,filter:da,filterLimit:ha,filterSeries:ma,forever:Ml,groupBy:zl,groupByLimit:fr,groupBySeries:Kl,log:Hl,map:cr,mapLimit:vn,mapSeries:si,mapValues:Gl,mapValuesLimit:dr,mapValuesSeries:Wl,memoize:Yl,nextTick:Zl,parallel:Ql,parallelLimit:Xl,priorityQueue:nu,queue:fi,race:au,reduce:Ct,reduceRight:ga,reflect:Kn,reflectAll:iu,reject:ou,rejectLimit:uu,rejectSeries:pu,retry:Jn,retryable:du,seq:li,series:hu,setImmediate:dt,some:va,someLimit:ba,someSeries:xa,sortBy:bu,timeout:xu,times:ku,timesLimit:yr,timesSeries:_u,transform:Su,tryEach:Tu,unmemoize:Pu,until:Ou,waterfall:Au,whilst:Gn,all:ca,allLimit:pa,allSeries:fa,any:va,anyLimit:ba,anySeries:xa,find:sa,findLimit:oa,findSeries:la,flatMap:aa,flatMapLimit:tn,flatMapSeries:ia,forEach:ua,forEachSeries:zn,forEachLimit:qn,forEachOf:He,forEachOfSeries:Xe,forEachOfLimit:en,inject:Ct,foldl:Ct,foldr:ga,select:da,selectLimit:ha,selectSeries:ma,wrapSync:jn,during:Gn,doDuring:Mn},Wn={},Du={get exports(){return Wn},set exports(t){Wn=t}};/**
 * [js-md5]{@link https://github.com/emn178/js-md5}
 *
 * @namespace md5
 * @version 0.8.3
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2014-2023
 * @license MIT
 */(function(t){(function(){var e="input is invalid type",n="finalize already called",r=typeof window=="object",i=r?window:{};i.JS_MD5_NO_WINDOW&&(r=!1);var a=!r&&typeof self=="object",s=!i.JS_MD5_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;s?i=Et:a&&(i=self);var o=!i.JS_MD5_NO_COMMON_JS&&!0&&t.exports,l=!i.JS_MD5_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),f=[128,32768,8388608,-2147483648],g=[0,8,16,24],p=["hex","array","digest","buffer","arrayBuffer","base64"],v="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split(""),S=[],A;if(l){var P=new ArrayBuffer(68);A=new Uint8Array(P),S=new Uint32Array(P)}var O=Array.isArray;(i.JS_MD5_NO_NODE_JS||!O)&&(O=function(d){return Object.prototype.toString.call(d)==="[object Array]"});var _=ArrayBuffer.isView;l&&(i.JS_MD5_NO_ARRAY_BUFFER_IS_VIEW||!_)&&(_=function(d){return typeof d=="object"&&d.buffer&&d.buffer.constructor===ArrayBuffer});var m=function(d){var x=typeof d;if(x==="string")return[d,!0];if(x!=="object"||d===null)throw new Error(e);if(l&&d.constructor===ArrayBuffer)return[new Uint8Array(d),!1];if(!O(d)&&!_(d))throw new Error(e);return[d,!1]},w=function(d){return function(x){return new C(!0).update(x)[d]()}},y=function(){var d=w("hex");s&&(d=h(d)),d.create=function(){return new C},d.update=function(T){return d.create().update(T)};for(var x=0;x<p.length;++x){var k=p[x];d[k]=w(k)}return d},h=function(d){var x=Gr,k=Gr.Buffer,T;k.from&&!i.JS_MD5_NO_BUFFER_FROM?T=k.from:T=function(B){return new k(B)};var z=function(B){if(typeof B=="string")return x.createHash("md5").update(B,"utf8").digest("hex");if(B==null)throw new Error(e);return B.constructor===ArrayBuffer&&(B=new Uint8Array(B)),O(B)||_(B)||B.constructor===k?x.createHash("md5").update(T(B)).digest("hex"):d(B)};return z},V=function(d){return function(x,k){return new j(x,!0).update(k)[d]()}},E=function(){var d=V("hex");d.create=function(T){return new j(T)},d.update=function(T,z){return d.create(T).update(z)};for(var x=0;x<p.length;++x){var k=p[x];d[k]=V(k)}return d};function C(d){if(d)S[0]=S[16]=S[1]=S[2]=S[3]=S[4]=S[5]=S[6]=S[7]=S[8]=S[9]=S[10]=S[11]=S[12]=S[13]=S[14]=S[15]=0,this.blocks=S,this.buffer8=A;else if(l){var x=new ArrayBuffer(68);this.buffer8=new Uint8Array(x),this.blocks=new Uint32Array(x)}else this.blocks=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];this.h0=this.h1=this.h2=this.h3=this.start=this.bytes=this.hBytes=0,this.finalized=this.hashed=!1,this.first=!0}C.prototype.update=function(d){if(this.finalized)throw new Error(n);var x=m(d);d=x[0];for(var k=x[1],T,z=0,B,L=d.length,Z=this.blocks,de=this.buffer8;z<L;){if(this.hashed&&(this.hashed=!1,Z[0]=Z[16],Z[16]=Z[1]=Z[2]=Z[3]=Z[4]=Z[5]=Z[6]=Z[7]=Z[8]=Z[9]=Z[10]=Z[11]=Z[12]=Z[13]=Z[14]=Z[15]=0),k)if(l)for(B=this.start;z<L&&B<64;++z)T=d.charCodeAt(z),T<128?de[B++]=T:T<2048?(de[B++]=192|T>>>6,de[B++]=128|T&63):T<55296||T>=57344?(de[B++]=224|T>>>12,de[B++]=128|T>>>6&63,de[B++]=128|T&63):(T=65536+((T&1023)<<10|d.charCodeAt(++z)&1023),de[B++]=240|T>>>18,de[B++]=128|T>>>12&63,de[B++]=128|T>>>6&63,de[B++]=128|T&63);else for(B=this.start;z<L&&B<64;++z)T=d.charCodeAt(z),T<128?Z[B>>>2]|=T<<g[B++&3]:T<2048?(Z[B>>>2]|=(192|T>>>6)<<g[B++&3],Z[B>>>2]|=(128|T&63)<<g[B++&3]):T<55296||T>=57344?(Z[B>>>2]|=(224|T>>>12)<<g[B++&3],Z[B>>>2]|=(128|T>>>6&63)<<g[B++&3],Z[B>>>2]|=(128|T&63)<<g[B++&3]):(T=65536+((T&1023)<<10|d.charCodeAt(++z)&1023),Z[B>>>2]|=(240|T>>>18)<<g[B++&3],Z[B>>>2]|=(128|T>>>12&63)<<g[B++&3],Z[B>>>2]|=(128|T>>>6&63)<<g[B++&3],Z[B>>>2]|=(128|T&63)<<g[B++&3]);else if(l)for(B=this.start;z<L&&B<64;++z)de[B++]=d[z];else for(B=this.start;z<L&&B<64;++z)Z[B>>>2]|=d[z]<<g[B++&3];this.lastByteIndex=B,this.bytes+=B-this.start,B>=64?(this.start=B-64,this.hash(),this.hashed=!0):this.start=B}return this.bytes>4294967295&&(this.hBytes+=this.bytes/4294967296<<0,this.bytes=this.bytes%4294967296),this},C.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var d=this.blocks,x=this.lastByteIndex;d[x>>>2]|=f[x&3],x>=56&&(this.hashed||this.hash(),d[0]=d[16],d[16]=d[1]=d[2]=d[3]=d[4]=d[5]=d[6]=d[7]=d[8]=d[9]=d[10]=d[11]=d[12]=d[13]=d[14]=d[15]=0),d[14]=this.bytes<<3,d[15]=this.hBytes<<3|this.bytes>>>29,this.hash()}},C.prototype.hash=function(){var d,x,k,T,z,B,L=this.blocks;this.first?(d=L[0]-680876937,d=(d<<7|d>>>25)-271733879<<0,T=(-1732584194^d&2004318071)+L[1]-117830708,T=(T<<12|T>>>20)+d<<0,k=(-271733879^T&(d^-271733879))+L[2]-1126478375,k=(k<<17|k>>>15)+T<<0,x=(d^k&(T^d))+L[3]-1316259209,x=(x<<22|x>>>10)+k<<0):(d=this.h0,x=this.h1,k=this.h2,T=this.h3,d+=(T^x&(k^T))+L[0]-680876936,d=(d<<7|d>>>25)+x<<0,T+=(k^d&(x^k))+L[1]-389564586,T=(T<<12|T>>>20)+d<<0,k+=(x^T&(d^x))+L[2]+606105819,k=(k<<17|k>>>15)+T<<0,x+=(d^k&(T^d))+L[3]-1044525330,x=(x<<22|x>>>10)+k<<0),d+=(T^x&(k^T))+L[4]-176418897,d=(d<<7|d>>>25)+x<<0,T+=(k^d&(x^k))+L[5]+1200080426,T=(T<<12|T>>>20)+d<<0,k+=(x^T&(d^x))+L[6]-1473231341,k=(k<<17|k>>>15)+T<<0,x+=(d^k&(T^d))+L[7]-45705983,x=(x<<22|x>>>10)+k<<0,d+=(T^x&(k^T))+L[8]+1770035416,d=(d<<7|d>>>25)+x<<0,T+=(k^d&(x^k))+L[9]-1958414417,T=(T<<12|T>>>20)+d<<0,k+=(x^T&(d^x))+L[10]-42063,k=(k<<17|k>>>15)+T<<0,x+=(d^k&(T^d))+L[11]-1990404162,x=(x<<22|x>>>10)+k<<0,d+=(T^x&(k^T))+L[12]+1804603682,d=(d<<7|d>>>25)+x<<0,T+=(k^d&(x^k))+L[13]-40341101,T=(T<<12|T>>>20)+d<<0,k+=(x^T&(d^x))+L[14]-1502002290,k=(k<<17|k>>>15)+T<<0,x+=(d^k&(T^d))+L[15]+1236535329,x=(x<<22|x>>>10)+k<<0,d+=(k^T&(x^k))+L[1]-165796510,d=(d<<5|d>>>27)+x<<0,T+=(x^k&(d^x))+L[6]-1069501632,T=(T<<9|T>>>23)+d<<0,k+=(d^x&(T^d))+L[11]+643717713,k=(k<<14|k>>>18)+T<<0,x+=(T^d&(k^T))+L[0]-373897302,x=(x<<20|x>>>12)+k<<0,d+=(k^T&(x^k))+L[5]-701558691,d=(d<<5|d>>>27)+x<<0,T+=(x^k&(d^x))+L[10]+38016083,T=(T<<9|T>>>23)+d<<0,k+=(d^x&(T^d))+L[15]-660478335,k=(k<<14|k>>>18)+T<<0,x+=(T^d&(k^T))+L[4]-405537848,x=(x<<20|x>>>12)+k<<0,d+=(k^T&(x^k))+L[9]+568446438,d=(d<<5|d>>>27)+x<<0,T+=(x^k&(d^x))+L[14]-1019803690,T=(T<<9|T>>>23)+d<<0,k+=(d^x&(T^d))+L[3]-187363961,k=(k<<14|k>>>18)+T<<0,x+=(T^d&(k^T))+L[8]+1163531501,x=(x<<20|x>>>12)+k<<0,d+=(k^T&(x^k))+L[13]-1444681467,d=(d<<5|d>>>27)+x<<0,T+=(x^k&(d^x))+L[2]-51403784,T=(T<<9|T>>>23)+d<<0,k+=(d^x&(T^d))+L[7]+1735328473,k=(k<<14|k>>>18)+T<<0,x+=(T^d&(k^T))+L[12]-1926607734,x=(x<<20|x>>>12)+k<<0,z=x^k,d+=(z^T)+L[5]-378558,d=(d<<4|d>>>28)+x<<0,T+=(z^d)+L[8]-2022574463,T=(T<<11|T>>>21)+d<<0,B=T^d,k+=(B^x)+L[11]+1839030562,k=(k<<16|k>>>16)+T<<0,x+=(B^k)+L[14]-35309556,x=(x<<23|x>>>9)+k<<0,z=x^k,d+=(z^T)+L[1]-1530992060,d=(d<<4|d>>>28)+x<<0,T+=(z^d)+L[4]+1272893353,T=(T<<11|T>>>21)+d<<0,B=T^d,k+=(B^x)+L[7]-155497632,k=(k<<16|k>>>16)+T<<0,x+=(B^k)+L[10]-1094730640,x=(x<<23|x>>>9)+k<<0,z=x^k,d+=(z^T)+L[13]+681279174,d=(d<<4|d>>>28)+x<<0,T+=(z^d)+L[0]-358537222,T=(T<<11|T>>>21)+d<<0,B=T^d,k+=(B^x)+L[3]-722521979,k=(k<<16|k>>>16)+T<<0,x+=(B^k)+L[6]+76029189,x=(x<<23|x>>>9)+k<<0,z=x^k,d+=(z^T)+L[9]-640364487,d=(d<<4|d>>>28)+x<<0,T+=(z^d)+L[12]-421815835,T=(T<<11|T>>>21)+d<<0,B=T^d,k+=(B^x)+L[15]+530742520,k=(k<<16|k>>>16)+T<<0,x+=(B^k)+L[2]-995338651,x=(x<<23|x>>>9)+k<<0,d+=(k^(x|~T))+L[0]-198630844,d=(d<<6|d>>>26)+x<<0,T+=(x^(d|~k))+L[7]+1126891415,T=(T<<10|T>>>22)+d<<0,k+=(d^(T|~x))+L[14]-1416354905,k=(k<<15|k>>>17)+T<<0,x+=(T^(k|~d))+L[5]-57434055,x=(x<<21|x>>>11)+k<<0,d+=(k^(x|~T))+L[12]+1700485571,d=(d<<6|d>>>26)+x<<0,T+=(x^(d|~k))+L[3]-1894986606,T=(T<<10|T>>>22)+d<<0,k+=(d^(T|~x))+L[10]-1051523,k=(k<<15|k>>>17)+T<<0,x+=(T^(k|~d))+L[1]-2054922799,x=(x<<21|x>>>11)+k<<0,d+=(k^(x|~T))+L[8]+1873313359,d=(d<<6|d>>>26)+x<<0,T+=(x^(d|~k))+L[15]-30611744,T=(T<<10|T>>>22)+d<<0,k+=(d^(T|~x))+L[6]-1560198380,k=(k<<15|k>>>17)+T<<0,x+=(T^(k|~d))+L[13]+1309151649,x=(x<<21|x>>>11)+k<<0,d+=(k^(x|~T))+L[4]-145523070,d=(d<<6|d>>>26)+x<<0,T+=(x^(d|~k))+L[11]-1120210379,T=(T<<10|T>>>22)+d<<0,k+=(d^(T|~x))+L[2]+718787259,k=(k<<15|k>>>17)+T<<0,x+=(T^(k|~d))+L[9]-343485551,x=(x<<21|x>>>11)+k<<0,this.first?(this.h0=d+1732584193<<0,this.h1=x-271733879<<0,this.h2=k-1732584194<<0,this.h3=T+271733878<<0,this.first=!1):(this.h0=this.h0+d<<0,this.h1=this.h1+x<<0,this.h2=this.h2+k<<0,this.h3=this.h3+T<<0)},C.prototype.hex=function(){this.finalize();var d=this.h0,x=this.h1,k=this.h2,T=this.h3;return u[d>>>4&15]+u[d&15]+u[d>>>12&15]+u[d>>>8&15]+u[d>>>20&15]+u[d>>>16&15]+u[d>>>28&15]+u[d>>>24&15]+u[x>>>4&15]+u[x&15]+u[x>>>12&15]+u[x>>>8&15]+u[x>>>20&15]+u[x>>>16&15]+u[x>>>28&15]+u[x>>>24&15]+u[k>>>4&15]+u[k&15]+u[k>>>12&15]+u[k>>>8&15]+u[k>>>20&15]+u[k>>>16&15]+u[k>>>28&15]+u[k>>>24&15]+u[T>>>4&15]+u[T&15]+u[T>>>12&15]+u[T>>>8&15]+u[T>>>20&15]+u[T>>>16&15]+u[T>>>28&15]+u[T>>>24&15]},C.prototype.toString=C.prototype.hex,C.prototype.digest=function(){this.finalize();var d=this.h0,x=this.h1,k=this.h2,T=this.h3;return[d&255,d>>>8&255,d>>>16&255,d>>>24&255,x&255,x>>>8&255,x>>>16&255,x>>>24&255,k&255,k>>>8&255,k>>>16&255,k>>>24&255,T&255,T>>>8&255,T>>>16&255,T>>>24&255]},C.prototype.array=C.prototype.digest,C.prototype.arrayBuffer=function(){this.finalize();var d=new ArrayBuffer(16),x=new Uint32Array(d);return x[0]=this.h0,x[1]=this.h1,x[2]=this.h2,x[3]=this.h3,d},C.prototype.buffer=C.prototype.arrayBuffer,C.prototype.base64=function(){for(var d,x,k,T="",z=this.array(),B=0;B<15;)d=z[B++],x=z[B++],k=z[B++],T+=v[d>>>2]+v[(d<<4|x>>>4)&63]+v[(x<<2|k>>>6)&63]+v[k&63];return d=z[B],T+=v[d>>>2]+v[d<<4&63]+"==",T};function j(d,x){var k,T=m(d);if(d=T[0],T[1]){var z=[],B=d.length,L=0,Z;for(k=0;k<B;++k)Z=d.charCodeAt(k),Z<128?z[L++]=Z:Z<2048?(z[L++]=192|Z>>>6,z[L++]=128|Z&63):Z<55296||Z>=57344?(z[L++]=224|Z>>>12,z[L++]=128|Z>>>6&63,z[L++]=128|Z&63):(Z=65536+((Z&1023)<<10|d.charCodeAt(++k)&1023),z[L++]=240|Z>>>18,z[L++]=128|Z>>>12&63,z[L++]=128|Z>>>6&63,z[L++]=128|Z&63);d=z}d.length>64&&(d=new C(!0).update(d).array());var de=[],xe=[];for(k=0;k<64;++k){var pe=d[k]||0;de[k]=92^pe,xe[k]=54^pe}C.call(this,x),this.update(xe),this.oKeyPad=de,this.inner=!0,this.sharedMemory=x}j.prototype=new C,j.prototype.finalize=function(){if(C.prototype.finalize.call(this),this.inner){this.inner=!1;var d=this.array();C.call(this,this.sharedMemory),this.update(this.oKeyPad),this.update(d),C.prototype.finalize.call(this)}};var ee=y();ee.md5=ee,ee.md5.hmac=E(),o?t.exports=ee:i.md5=ee})()})(Du);const Ie=Wn;var Nu=Object.prototype,Ru=Nu.hasOwnProperty;function $u(t,e){return t!=null&&Ru.call(t,e)}var Uu=$u,Fu=Ya,Bu=Za,Lu="[object Symbol]";function ju(t){return typeof t=="symbol"||Bu(t)&&Fu(t)==Lu}var gr=ju,Mu=mn,qu=gr,zu=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ku=/^\w*$/;function Hu(t,e){if(Mu(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||qu(t)?!0:Ku.test(t)||!zu.test(t)||e!=null&&t in Object(e)}var Ju=Hu,mi=io,Gu="Expected a function";function vr(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Gu);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],a=n.cache;if(a.has(i))return a.get(i);var s=t.apply(this,r);return n.cache=a.set(i,s)||a,s};return n.cache=new(vr.Cache||mi),n}vr.Cache=mi;var Wu=vr,Yu=Wu,Zu=500;function Qu(t){var e=Yu(t,function(r){return n.size===Zu&&n.clear(),r}),n=e.cache;return e}var Xu=Qu,ec=Xu,tc=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,nc=/\\(\\)?/g,rc=ec(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(tc,function(n,r,i,a){e.push(i?a.replace(nc,"$1"):r||n)}),e}),ac=rc;function ic(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var sc=ic,wa=uo,oc=sc,lc=mn,uc=gr,cc=1/0,ka=wa?wa.prototype:void 0,_a=ka?ka.toString:void 0;function yi(t){if(typeof t=="string")return t;if(lc(t))return oc(t,yi)+"";if(uc(t))return _a?_a.call(t):"";var e=t+"";return e=="0"&&1/t==-cc?"-0":e}var pc=yi,fc=pc;function dc(t){return t==null?"":fc(t)}var gi=dc,hc=mn,mc=Ju,yc=ac,gc=gi;function vc(t,e){return hc(t)?t:mc(t,e)?[t]:yc(gc(t))}var br=vc,bc=gr,xc=1/0;function wc(t){if(typeof t=="string"||bc(t))return t;var e=t+"";return e=="0"&&1/t==-xc?"-0":e}var xr=wc,kc=br,_c=so,Sc=mn,Ic=oo,Tc=co,Pc=xr;function Vc(t,e,n){e=kc(e,t);for(var r=-1,i=e.length,a=!1;++r<i;){var s=Pc(e[r]);if(!(a=t!=null&&n(t,s)))break;t=t[s]}return a||++r!=i?a:(i=t==null?0:t.length,!!i&&Tc(i)&&Ic(s,i)&&(Sc(t)||_c(t)))}var Oc=Vc,Ec=Uu,Ac=Oc;function Cc(t,e){return t!=null&&Ac(t,e,Ec)}var vi=Cc;function Dc(t){return t===null}var nn=Dc;function Nc(t){return t===void 0}var rn=Nc,Rc=gi,$c=0;function Uc(t){var e=++$c;return Rc(t)+e}var Fc=Uc;function Bc(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var Lc=Bc,jc=br,Mc=xr;function qc(t,e){e=jc(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Mc(e[n++])];return n&&n==r?t:void 0}var zc=qc;function Kc(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var a=Array(i);++r<i;)a[r]=t[r+e];return a}var Hc=Kc,Jc=zc,Gc=Hc;function Wc(t,e){return e.length<2?t:Jc(t,Gc(e,0,-1))}var Yc=Wc,Zc=br,Qc=Lc,Xc=Yc,ep=xr;function tp(t,e){return e=Zc(e,t),t=Xc(t,e),t==null||delete t[ep(Qc(e))]}var np=tp,rp=np;function ap(t,e){return t==null?!0:rp(t,e)}var an=ap;function wr(){return{async:!1,baseUrl:null,breaks:!1,extensions:null,gfm:!0,headerIds:!0,headerPrefix:"",highlight:null,hooks:null,langPrefix:"language-",mangle:!0,pedantic:!1,renderer:null,sanitize:!1,sanitizer:null,silent:!1,smartypants:!1,tokenizer:null,walkTokens:null,xhtml:!1}}let ct=wr();function bi(t){ct=t}const xi=/[&<>"']/,ip=new RegExp(xi.source,"g"),wi=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,sp=new RegExp(wi.source,"g"),op={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Sa=t=>op[t];function Ae(t,e){if(e){if(xi.test(t))return t.replace(ip,Sa)}else if(wi.test(t))return t.replace(sp,Sa);return t}const lp=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function ki(t){return t.replace(lp,(e,n)=>(n=n.toLowerCase(),n==="colon"?":":n.charAt(0)==="#"?n.charAt(1)==="x"?String.fromCharCode(parseInt(n.substring(2),16)):String.fromCharCode(+n.substring(1)):""))}const up=/(^|[^\[])\^/g;function me(t,e){t=typeof t=="string"?t:t.source,e=e||"";const n={replace:(r,i)=>(i=i.source||i,i=i.replace(up,"$1"),t=t.replace(r,i),n),getRegex:()=>new RegExp(t,e)};return n}const cp=/[^\w:]/g,pp=/^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;function Ia(t,e,n){if(t){let r;try{r=decodeURIComponent(ki(n)).replace(cp,"").toLowerCase()}catch{return null}if(r.indexOf("javascript:")===0||r.indexOf("vbscript:")===0||r.indexOf("data:")===0)return null}e&&!pp.test(n)&&(n=mp(e,n));try{n=encodeURI(n).replace(/%25/g,"%")}catch{return null}return n}const Jt={},fp=/^[^:]+:\/*[^/]*$/,dp=/^([^:]+:)[\s\S]*$/,hp=/^([^:]+:\/*[^/]*)[\s\S]*$/;function mp(t,e){Jt[" "+t]||(fp.test(t)?Jt[" "+t]=t+"/":Jt[" "+t]=Yt(t,"/",!0)),t=Jt[" "+t];const n=t.indexOf(":")===-1;return e.substring(0,2)==="//"?n?e:t.replace(dp,"$1")+e:e.charAt(0)==="/"?n?e:t.replace(hp,"$1")+e:t+e}const sn={exec:function(){}};function Ta(t,e){const n=t.replace(/\|/g,(a,s,o)=>{let l=!1,u=s;for(;--u>=0&&o[u]==="\\";)l=!l;return l?"|":" |"}),r=n.split(/ \|/);let i=0;if(r[0].trim()||r.shift(),r.length>0&&!r[r.length-1].trim()&&r.pop(),r.length>e)r.splice(e);else for(;r.length<e;)r.push("");for(;i<r.length;i++)r[i]=r[i].trim().replace(/\\\|/g,"|");return r}function Yt(t,e,n){const r=t.length;if(r===0)return"";let i=0;for(;i<r;){const a=t.charAt(r-i-1);if(a===e&&!n)i++;else if(a!==e&&n)i++;else break}return t.slice(0,r-i)}function yp(t,e){if(t.indexOf(e[1])===-1)return-1;const n=t.length;let r=0,i=0;for(;i<n;i++)if(t[i]==="\\")i++;else if(t[i]===e[0])r++;else if(t[i]===e[1]&&(r--,r<0))return i;return-1}function gp(t,e){!t||t.silent||(e&&console.warn("marked(): callback is deprecated since version 5.0.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/using_pro#async"),(t.sanitize||t.sanitizer)&&console.warn("marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options"),(t.highlight||t.langPrefix!=="language-")&&console.warn("marked(): highlight and langPrefix parameters are deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-highlight."),t.mangle&&console.warn("marked(): mangle parameter is enabled by default, but is deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install https://www.npmjs.com/package/marked-mangle, or disable by setting `{mangle: false}`."),t.baseUrl&&console.warn("marked(): baseUrl parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-base-url."),t.smartypants&&console.warn("marked(): smartypants parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-smartypants."),t.xhtml&&console.warn("marked(): xhtml parameter is deprecated since version 5.0.0, should not be used and will be removed in the future. Instead use https://www.npmjs.com/package/marked-xhtml."),(t.headerIds||t.headerPrefix)&&console.warn("marked(): headerIds and headerPrefix parameters enabled by default, but are deprecated since version 5.0.0, and will be removed in the future. To clear this warning, install  https://www.npmjs.com/package/marked-gfm-heading-id, or disable by setting `{headerIds: false}`."))}function Pa(t,e,n,r){const i=e.href,a=e.title?Ae(e.title):null,s=t[1].replace(/\\([\[\]])/g,"$1");if(t[0].charAt(0)!=="!"){r.state.inLink=!0;const o={type:"link",raw:n,href:i,title:a,text:s,tokens:r.inlineTokens(s)};return r.state.inLink=!1,o}return{type:"image",raw:n,href:i,title:a,text:Ae(s)}}function vp(t,e){const n=t.match(/^(\s+)(?:```)/);if(n===null)return e;const r=n[1];return e.split(`
`).map(i=>{const a=i.match(/^\s+/);if(a===null)return i;const[s]=a;return s.length>=r.length?i.slice(r.length):i}).join(`
`)}class on{constructor(e){this.options=e||ct}space(e){const n=this.rules.block.newline.exec(e);if(n&&n[0].length>0)return{type:"space",raw:n[0]}}code(e){const n=this.rules.block.code.exec(e);if(n){const r=n[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:n[0],codeBlockStyle:"indented",text:this.options.pedantic?r:Yt(r,`
`)}}}fences(e){const n=this.rules.block.fences.exec(e);if(n){const r=n[0],i=vp(r,n[3]||"");return{type:"code",raw:r,lang:n[2]?n[2].trim().replace(this.rules.inline._escapes,"$1"):n[2],text:i}}}heading(e){const n=this.rules.block.heading.exec(e);if(n){let r=n[2].trim();if(/#$/.test(r)){const i=Yt(r,"#");(this.options.pedantic||!i||/ $/.test(i))&&(r=i.trim())}return{type:"heading",raw:n[0],depth:n[1].length,text:r,tokens:this.lexer.inline(r)}}}hr(e){const n=this.rules.block.hr.exec(e);if(n)return{type:"hr",raw:n[0]}}blockquote(e){const n=this.rules.block.blockquote.exec(e);if(n){const r=n[0].replace(/^ *>[ \t]?/gm,""),i=this.lexer.state.top;this.lexer.state.top=!0;const a=this.lexer.blockTokens(r);return this.lexer.state.top=i,{type:"blockquote",raw:n[0],tokens:a,text:r}}}list(e){let n=this.rules.block.list.exec(e);if(n){let r,i,a,s,o,l,u,f,g,p,v,S,A=n[1].trim();const P=A.length>1,O={type:"list",raw:"",ordered:P,start:P?+A.slice(0,-1):"",loose:!1,items:[]};A=P?`\\d{1,9}\\${A.slice(-1)}`:`\\${A}`,this.options.pedantic&&(A=P?A:"[*+-]");const _=new RegExp(`^( {0,3}${A})((?:[	 ][^\\n]*)?(?:\\n|$))`);for(;e&&(S=!1,!(!(n=_.exec(e))||this.rules.block.hr.test(e)));){if(r=n[0],e=e.substring(r.length),f=n[2].split(`
`,1)[0].replace(/^\t+/,w=>" ".repeat(3*w.length)),g=e.split(`
`,1)[0],this.options.pedantic?(s=2,v=f.trimLeft()):(s=n[2].search(/[^ ]/),s=s>4?1:s,v=f.slice(s),s+=n[1].length),l=!1,!f&&/^ *$/.test(g)&&(r+=g+`
`,e=e.substring(g.length+1),S=!0),!S){const w=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),y=new RegExp(`^ {0,${Math.min(3,s-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),h=new RegExp(`^ {0,${Math.min(3,s-1)}}(?:\`\`\`|~~~)`),V=new RegExp(`^ {0,${Math.min(3,s-1)}}#`);for(;e&&(p=e.split(`
`,1)[0],g=p,this.options.pedantic&&(g=g.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),!(h.test(g)||V.test(g)||w.test(g)||y.test(e)));){if(g.search(/[^ ]/)>=s||!g.trim())v+=`
`+g.slice(s);else{if(l||f.search(/[^ ]/)>=4||h.test(f)||V.test(f)||y.test(f))break;v+=`
`+g}!l&&!g.trim()&&(l=!0),r+=p+`
`,e=e.substring(p.length+1),f=g.slice(s)}}O.loose||(u?O.loose=!0:/\n *\n *$/.test(r)&&(u=!0)),this.options.gfm&&(i=/^\[[ xX]\] /.exec(v),i&&(a=i[0]!=="[ ] ",v=v.replace(/^\[[ xX]\] +/,""))),O.items.push({type:"list_item",raw:r,task:!!i,checked:a,loose:!1,text:v}),O.raw+=r}O.items[O.items.length-1].raw=r.trimRight(),O.items[O.items.length-1].text=v.trimRight(),O.raw=O.raw.trimRight();const m=O.items.length;for(o=0;o<m;o++)if(this.lexer.state.top=!1,O.items[o].tokens=this.lexer.blockTokens(O.items[o].text,[]),!O.loose){const w=O.items[o].tokens.filter(h=>h.type==="space"),y=w.length>0&&w.some(h=>/\n.*\n/.test(h.raw));O.loose=y}if(O.loose)for(o=0;o<m;o++)O.items[o].loose=!0;return O}}html(e){const n=this.rules.block.html.exec(e);if(n){const r={type:"html",block:!0,raw:n[0],pre:!this.options.sanitizer&&(n[1]==="pre"||n[1]==="script"||n[1]==="style"),text:n[0]};if(this.options.sanitize){const i=this.options.sanitizer?this.options.sanitizer(n[0]):Ae(n[0]);r.type="paragraph",r.text=i,r.tokens=this.lexer.inline(i)}return r}}def(e){const n=this.rules.block.def.exec(e);if(n){const r=n[1].toLowerCase().replace(/\s+/g," "),i=n[2]?n[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline._escapes,"$1"):"",a=n[3]?n[3].substring(1,n[3].length-1).replace(this.rules.inline._escapes,"$1"):n[3];return{type:"def",tag:r,raw:n[0],href:i,title:a}}}table(e){const n=this.rules.block.table.exec(e);if(n){const r={type:"table",header:Ta(n[1]).map(i=>({text:i})),align:n[2].replace(/^ *|\| *$/g,"").split(/ *\| */),rows:n[3]&&n[3].trim()?n[3].replace(/\n[ \t]*$/,"").split(`
`):[]};if(r.header.length===r.align.length){r.raw=n[0];let i=r.align.length,a,s,o,l;for(a=0;a<i;a++)/^ *-+: *$/.test(r.align[a])?r.align[a]="right":/^ *:-+: *$/.test(r.align[a])?r.align[a]="center":/^ *:-+ *$/.test(r.align[a])?r.align[a]="left":r.align[a]=null;for(i=r.rows.length,a=0;a<i;a++)r.rows[a]=Ta(r.rows[a],r.header.length).map(u=>({text:u}));for(i=r.header.length,s=0;s<i;s++)r.header[s].tokens=this.lexer.inline(r.header[s].text);for(i=r.rows.length,s=0;s<i;s++)for(l=r.rows[s],o=0;o<l.length;o++)l[o].tokens=this.lexer.inline(l[o].text);return r}}}lheading(e){const n=this.rules.block.lheading.exec(e);if(n)return{type:"heading",raw:n[0],depth:n[2].charAt(0)==="="?1:2,text:n[1],tokens:this.lexer.inline(n[1])}}paragraph(e){const n=this.rules.block.paragraph.exec(e);if(n){const r=n[1].charAt(n[1].length-1)===`
`?n[1].slice(0,-1):n[1];return{type:"paragraph",raw:n[0],text:r,tokens:this.lexer.inline(r)}}}text(e){const n=this.rules.block.text.exec(e);if(n)return{type:"text",raw:n[0],text:n[0],tokens:this.lexer.inline(n[0])}}escape(e){const n=this.rules.inline.escape.exec(e);if(n)return{type:"escape",raw:n[0],text:Ae(n[1])}}tag(e){const n=this.rules.inline.tag.exec(e);if(n)return!this.lexer.state.inLink&&/^<a /i.test(n[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(n[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(n[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(n[0])&&(this.lexer.state.inRawBlock=!1),{type:this.options.sanitize?"text":"html",raw:n[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:this.options.sanitize?this.options.sanitizer?this.options.sanitizer(n[0]):Ae(n[0]):n[0]}}link(e){const n=this.rules.inline.link.exec(e);if(n){const r=n[2].trim();if(!this.options.pedantic&&/^</.test(r)){if(!/>$/.test(r))return;const s=Yt(r.slice(0,-1),"\\");if((r.length-s.length)%2===0)return}else{const s=yp(n[2],"()");if(s>-1){const l=(n[0].indexOf("!")===0?5:4)+n[1].length+s;n[2]=n[2].substring(0,s),n[0]=n[0].substring(0,l).trim(),n[3]=""}}let i=n[2],a="";if(this.options.pedantic){const s=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(i);s&&(i=s[1],a=s[3])}else a=n[3]?n[3].slice(1,-1):"";return i=i.trim(),/^</.test(i)&&(this.options.pedantic&&!/>$/.test(r)?i=i.slice(1):i=i.slice(1,-1)),Pa(n,{href:i&&i.replace(this.rules.inline._escapes,"$1"),title:a&&a.replace(this.rules.inline._escapes,"$1")},n[0],this.lexer)}}reflink(e,n){let r;if((r=this.rules.inline.reflink.exec(e))||(r=this.rules.inline.nolink.exec(e))){let i=(r[2]||r[1]).replace(/\s+/g," ");if(i=n[i.toLowerCase()],!i){const a=r[0].charAt(0);return{type:"text",raw:a,text:a}}return Pa(r,i,r[0],this.lexer)}}emStrong(e,n,r=""){let i=this.rules.inline.emStrong.lDelim.exec(e);if(!i||i[3]&&r.match(/[\p{L}\p{N}]/u))return;if(!(i[1]||i[2]||"")||!r||this.rules.inline.punctuation.exec(r)){const s=i[0].length-1;let o,l,u=s,f=0;const g=i[0][0]==="*"?this.rules.inline.emStrong.rDelimAst:this.rules.inline.emStrong.rDelimUnd;for(g.lastIndex=0,n=n.slice(-1*e.length+s);(i=g.exec(n))!=null;){if(o=i[1]||i[2]||i[3]||i[4]||i[5]||i[6],!o)continue;if(l=o.length,i[3]||i[4]){u+=l;continue}else if((i[5]||i[6])&&s%3&&!((s+l)%3)){f+=l;continue}if(u-=l,u>0)continue;l=Math.min(l,l+u+f);const p=e.slice(0,s+i.index+l+1);if(Math.min(s,l)%2){const S=p.slice(1,-1);return{type:"em",raw:p,text:S,tokens:this.lexer.inlineTokens(S)}}const v=p.slice(2,-2);return{type:"strong",raw:p,text:v,tokens:this.lexer.inlineTokens(v)}}}}codespan(e){const n=this.rules.inline.code.exec(e);if(n){let r=n[2].replace(/\n/g," ");const i=/[^ ]/.test(r),a=/^ /.test(r)&&/ $/.test(r);return i&&a&&(r=r.substring(1,r.length-1)),r=Ae(r,!0),{type:"codespan",raw:n[0],text:r}}}br(e){const n=this.rules.inline.br.exec(e);if(n)return{type:"br",raw:n[0]}}del(e){const n=this.rules.inline.del.exec(e);if(n)return{type:"del",raw:n[0],text:n[2],tokens:this.lexer.inlineTokens(n[2])}}autolink(e,n){const r=this.rules.inline.autolink.exec(e);if(r){let i,a;return r[2]==="@"?(i=Ae(this.options.mangle?n(r[1]):r[1]),a="mailto:"+i):(i=Ae(r[1]),a=i),{type:"link",raw:r[0],text:i,href:a,tokens:[{type:"text",raw:i,text:i}]}}}url(e,n){let r;if(r=this.rules.inline.url.exec(e)){let i,a;if(r[2]==="@")i=Ae(this.options.mangle?n(r[0]):r[0]),a="mailto:"+i;else{let s;do s=r[0],r[0]=this.rules.inline._backpedal.exec(r[0])[0];while(s!==r[0]);i=Ae(r[0]),r[1]==="www."?a="http://"+r[0]:a=r[0]}return{type:"link",raw:r[0],text:i,href:a,tokens:[{type:"text",raw:i,text:i}]}}}inlineText(e,n){const r=this.rules.inline.text.exec(e);if(r){let i;return this.lexer.state.inRawBlock?i=this.options.sanitize?this.options.sanitizer?this.options.sanitizer(r[0]):Ae(r[0]):r[0]:i=Ae(this.options.smartypants?n(r[0]):r[0]),{type:"text",raw:r[0],text:i}}}}const re={newline:/^(?: *(?:\n|$))+/,code:/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,fences:/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,hr:/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,heading:/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,blockquote:/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/,list:/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/,html:"^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))",def:/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/,table:sn,lheading:/^((?:(?!^bull ).|\n(?!\n|bull ))+?)\n {0,3}(=+|-+) *(?:\n+|$)/,_paragraph:/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,text:/^[^\n]+/};re._label=/(?!\s*\])(?:\\.|[^\[\]\\])+/;re._title=/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/;re.def=me(re.def).replace("label",re._label).replace("title",re._title).getRegex();re.bullet=/(?:[*+-]|\d{1,9}[.)])/;re.listItemStart=me(/^( *)(bull) */).replace("bull",re.bullet).getRegex();re.list=me(re.list).replace(/bull/g,re.bullet).replace("hr","\\n+(?=\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$))").replace("def","\\n+(?="+re.def.source+")").getRegex();re._tag="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul";re._comment=/<!--(?!-?>)[\s\S]*?(?:-->|$)/;re.html=me(re.html,"i").replace("comment",re._comment).replace("tag",re._tag).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex();re.lheading=me(re.lheading).replace(/bull/g,re.bullet).getRegex();re.paragraph=me(re._paragraph).replace("hr",re.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",re._tag).getRegex();re.blockquote=me(re.blockquote).replace("paragraph",re.paragraph).getRegex();re.normal={...re};re.gfm={...re.normal,table:"^ *([^\\n ].*\\|.*)\\n {0,3}(?:\\| *)?(:?-+:? *(?:\\| *:?-+:? *)*)(?:\\| *)?(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)"};re.gfm.table=me(re.gfm.table).replace("hr",re.hr).replace("heading"," {0,3}#{1,6} ").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",re._tag).getRegex();re.gfm.paragraph=me(re._paragraph).replace("hr",re.hr).replace("heading"," {0,3}#{1,6} ").replace("|lheading","").replace("table",re.gfm.table).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",re._tag).getRegex();re.pedantic={...re.normal,html:me(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",re._comment).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:sn,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:me(re.normal._paragraph).replace("hr",re.hr).replace("heading",` *#{1,6} *[^
]`).replace("lheading",re.lheading).replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").getRegex()};const X={escape:/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,autolink:/^<(scheme:[^\s\x00-\x1f<>]*|email)>/,url:sn,tag:"^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>",link:/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/,reflink:/^!?\[(label)\]\[(ref)\]/,nolink:/^!?\[(ref)\](?:\[\])?/,reflinkSearch:"reflink|nolink(?!\\()",emStrong:{lDelim:/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,rDelimAst:/^[^_*]*?__[^_*]*?\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\*)[punct](\*+)(?=[\s]|$)|[^punct\s](\*+)(?!\*)(?=[punct\s]|$)|(?!\*)[punct\s](\*+)(?=[^punct\s])|[\s](\*+)(?!\*)(?=[punct])|(?!\*)[punct](\*+)(?!\*)(?=[punct])|[^punct\s](\*+)(?=[^punct\s])/,rDelimUnd:/^[^_*]*?\*\*[^_*]*?_[^_*]*?(?=\*\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\s]|$)|[^punct\s](_+)(?!_)(?=[punct\s]|$)|(?!_)[punct\s](_+)(?=[^punct\s])|[\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])/},code:/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,br:/^( {2,}|\\)\n(?!\s*$)/,del:sn,text:/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,punctuation:/^((?![*_])[\spunctuation])/};X._punctuation="\\p{P}$+<=>`^|~";X.punctuation=me(X.punctuation,"u").replace(/punctuation/g,X._punctuation).getRegex();X.blockSkip=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g;X.anyPunctuation=/\\[punct]/g;X._escapes=/\\([punct])/g;X._comment=me(re._comment).replace("(?:-->|$)","-->").getRegex();X.emStrong.lDelim=me(X.emStrong.lDelim,"u").replace(/punct/g,X._punctuation).getRegex();X.emStrong.rDelimAst=me(X.emStrong.rDelimAst,"gu").replace(/punct/g,X._punctuation).getRegex();X.emStrong.rDelimUnd=me(X.emStrong.rDelimUnd,"gu").replace(/punct/g,X._punctuation).getRegex();X.anyPunctuation=me(X.anyPunctuation,"gu").replace(/punct/g,X._punctuation).getRegex();X._escapes=me(X._escapes,"gu").replace(/punct/g,X._punctuation).getRegex();X._scheme=/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;X._email=/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;X.autolink=me(X.autolink).replace("scheme",X._scheme).replace("email",X._email).getRegex();X._attribute=/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/;X.tag=me(X.tag).replace("comment",X._comment).replace("attribute",X._attribute).getRegex();X._label=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/;X._href=/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/;X._title=/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/;X.link=me(X.link).replace("label",X._label).replace("href",X._href).replace("title",X._title).getRegex();X.reflink=me(X.reflink).replace("label",X._label).replace("ref",re._label).getRegex();X.nolink=me(X.nolink).replace("ref",re._label).getRegex();X.reflinkSearch=me(X.reflinkSearch,"g").replace("reflink",X.reflink).replace("nolink",X.nolink).getRegex();X.normal={...X};X.pedantic={...X.normal,strong:{start:/^__|\*\*/,middle:/^__(?=\S)([\s\S]*?\S)__(?!_)|^\*\*(?=\S)([\s\S]*?\S)\*\*(?!\*)/,endAst:/\*\*(?!\*)/g,endUnd:/__(?!_)/g},em:{start:/^_|\*/,middle:/^()\*(?=\S)([\s\S]*?\S)\*(?!\*)|^_(?=\S)([\s\S]*?\S)_(?!_)/,endAst:/\*(?!\*)/g,endUnd:/_(?!_)/g},link:me(/^!?\[(label)\]\((.*?)\)/).replace("label",X._label).getRegex(),reflink:me(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",X._label).getRegex()};X.gfm={...X.normal,escape:me(X.escape).replace("])","~|])").getRegex(),_extended_email:/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,url:/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/};X.gfm.url=me(X.gfm.url,"i").replace("email",X.gfm._extended_email).getRegex();X.breaks={...X.gfm,br:me(X.br).replace("{2,}","*").getRegex(),text:me(X.gfm.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()};function bp(t){return t.replace(/---/g,"—").replace(/--/g,"–").replace(/(^|[-\u2014/(\[{"\s])'/g,"$1‘").replace(/'/g,"’").replace(/(^|[-\u2014/(\[{\u2018\s])"/g,"$1“").replace(/"/g,"”").replace(/\.{3}/g,"…")}function Va(t){let e="",n,r;const i=t.length;for(n=0;n<i;n++)r=t.charCodeAt(n),Math.random()>.5&&(r="x"+r.toString(16)),e+="&#"+r+";";return e}class We{constructor(e){this.tokens=[],this.tokens.links=Object.create(null),this.options=e||ct,this.options.tokenizer=this.options.tokenizer||new on,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const n={block:re.normal,inline:X.normal};this.options.pedantic?(n.block=re.pedantic,n.inline=X.pedantic):this.options.gfm&&(n.block=re.gfm,this.options.breaks?n.inline=X.breaks:n.inline=X.gfm),this.tokenizer.rules=n}static get rules(){return{block:re,inline:X}}static lex(e,n){return new We(n).lex(e)}static lexInline(e,n){return new We(n).inlineTokens(e)}lex(e){e=e.replace(/\r\n|\r/g,`
`),this.blockTokens(e,this.tokens);let n;for(;n=this.inlineQueue.shift();)this.inlineTokens(n.src,n.tokens);return this.tokens}blockTokens(e,n=[]){this.options.pedantic?e=e.replace(/\t/g,"    ").replace(/^ +$/gm,""):e=e.replace(/^( *)(\t+)/gm,(o,l,u)=>l+"    ".repeat(u.length));let r,i,a,s;for(;e;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(o=>(r=o.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.space(e)){e=e.substring(r.raw.length),r.raw.length===1&&n.length>0?n[n.length-1].raw+=`
`:n.push(r);continue}if(r=this.tokenizer.code(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(r=this.tokenizer.fences(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.heading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.hr(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.blockquote(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.list(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.html(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.def(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&(i.type==="paragraph"||i.type==="text")?(i.raw+=`
`+r.raw,i.text+=`
`+r.raw,this.inlineQueue[this.inlineQueue.length-1].src=i.text):this.tokens.links[r.tag]||(this.tokens.links[r.tag]={href:r.href,title:r.title});continue}if(r=this.tokenizer.table(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.lheading(e)){e=e.substring(r.raw.length),n.push(r);continue}if(a=e,this.options.extensions&&this.options.extensions.startBlock){let o=1/0;const l=e.slice(1);let u;this.options.extensions.startBlock.forEach(function(f){u=f.call({lexer:this},l),typeof u=="number"&&u>=0&&(o=Math.min(o,u))}),o<1/0&&o>=0&&(a=e.substring(0,o+1))}if(this.state.top&&(r=this.tokenizer.paragraph(a))){i=n[n.length-1],s&&i.type==="paragraph"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r),s=a.length!==e.length,e=e.substring(r.raw.length);continue}if(r=this.tokenizer.text(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&i.type==="text"?(i.raw+=`
`+r.raw,i.text+=`
`+r.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=i.text):n.push(r);continue}if(e){const o="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(o);break}else throw new Error(o)}}return this.state.top=!0,n}inline(e,n=[]){return this.inlineQueue.push({src:e,tokens:n}),n}inlineTokens(e,n=[]){let r,i,a,s=e,o,l,u;if(this.tokens.links){const f=Object.keys(this.tokens.links);if(f.length>0)for(;(o=this.tokenizer.rules.inline.reflinkSearch.exec(s))!=null;)f.includes(o[0].slice(o[0].lastIndexOf("[")+1,-1))&&(s=s.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(o=this.tokenizer.rules.inline.blockSkip.exec(s))!=null;)s=s.slice(0,o.index)+"["+"a".repeat(o[0].length-2)+"]"+s.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(o=this.tokenizer.rules.inline.anyPunctuation.exec(s))!=null;)s=s.slice(0,o.index)+"++"+s.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;e;)if(l||(u=""),l=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(f=>(r=f.call({lexer:this},e,n))?(e=e.substring(r.raw.length),n.push(r),!0):!1))){if(r=this.tokenizer.escape(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.tag(e)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.link(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.reflink(e,this.tokens.links)){e=e.substring(r.raw.length),i=n[n.length-1],i&&r.type==="text"&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(r=this.tokenizer.emStrong(e,s,u)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.codespan(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.br(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.del(e)){e=e.substring(r.raw.length),n.push(r);continue}if(r=this.tokenizer.autolink(e,Va)){e=e.substring(r.raw.length),n.push(r);continue}if(!this.state.inLink&&(r=this.tokenizer.url(e,Va))){e=e.substring(r.raw.length),n.push(r);continue}if(a=e,this.options.extensions&&this.options.extensions.startInline){let f=1/0;const g=e.slice(1);let p;this.options.extensions.startInline.forEach(function(v){p=v.call({lexer:this},g),typeof p=="number"&&p>=0&&(f=Math.min(f,p))}),f<1/0&&f>=0&&(a=e.substring(0,f+1))}if(r=this.tokenizer.inlineText(a,bp)){e=e.substring(r.raw.length),r.raw.slice(-1)!=="_"&&(u=r.raw.slice(-1)),l=!0,i=n[n.length-1],i&&i.type==="text"?(i.raw+=r.raw,i.text+=r.text):n.push(r);continue}if(e){const f="Infinite loop on byte: "+e.charCodeAt(0);if(this.options.silent){console.error(f);break}else throw new Error(f)}}return n}}class ln{constructor(e){this.options=e||ct}code(e,n,r){const i=(n||"").match(/\S*/)[0];if(this.options.highlight){const a=this.options.highlight(e,i);a!=null&&a!==e&&(r=!0,e=a)}return e=e.replace(/\n$/,"")+`
`,i?'<pre><code class="'+this.options.langPrefix+Ae(i)+'">'+(r?e:Ae(e,!0))+`</code></pre>
`:"<pre><code>"+(r?e:Ae(e,!0))+`</code></pre>
`}blockquote(e){return`<blockquote>
${e}</blockquote>
`}html(e,n){return e}heading(e,n,r,i){if(this.options.headerIds){const a=this.options.headerPrefix+i.slug(r);return`<h${n} id="${a}">${e}</h${n}>
`}return`<h${n}>${e}</h${n}>
`}hr(){return this.options.xhtml?`<hr/>
`:`<hr>
`}list(e,n,r){const i=n?"ol":"ul",a=n&&r!==1?' start="'+r+'"':"";return"<"+i+a+`>
`+e+"</"+i+`>
`}listitem(e){return`<li>${e}</li>
`}checkbox(e){return"<input "+(e?'checked="" ':"")+'disabled="" type="checkbox"'+(this.options.xhtml?" /":"")+"> "}paragraph(e){return`<p>${e}</p>
`}table(e,n){return n&&(n=`<tbody>${n}</tbody>`),`<table>
<thead>
`+e+`</thead>
`+n+`</table>
`}tablerow(e){return`<tr>
${e}</tr>
`}tablecell(e,n){const r=n.header?"th":"td";return(n.align?`<${r} align="${n.align}">`:`<${r}>`)+e+`</${r}>
`}strong(e){return`<strong>${e}</strong>`}em(e){return`<em>${e}</em>`}codespan(e){return`<code>${e}</code>`}br(){return this.options.xhtml?"<br/>":"<br>"}del(e){return`<del>${e}</del>`}link(e,n,r){if(e=Ia(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i='<a href="'+e+'"';return n&&(i+=' title="'+n+'"'),i+=">"+r+"</a>",i}image(e,n,r){if(e=Ia(this.options.sanitize,this.options.baseUrl,e),e===null)return r;let i=`<img src="${e}" alt="${r}"`;return n&&(i+=` title="${n}"`),i+=this.options.xhtml?"/>":">",i}text(e){return e}}class kr{strong(e){return e}em(e){return e}codespan(e){return e}del(e){return e}html(e){return e}text(e){return e}link(e,n,r){return""+r}image(e,n,r){return""+r}br(){return""}}class _r{constructor(){this.seen={}}serialize(e){return e.toLowerCase().trim().replace(/<[!\/a-z].*?>/ig,"").replace(/[\u2000-\u206F\u2E00-\u2E7F\\'!"#$%&()*+,./:;<=>?@[\]^`{|}~]/g,"").replace(/\s/g,"-")}getNextSafeSlug(e,n){let r=e,i=0;if(this.seen.hasOwnProperty(r)){i=this.seen[e];do i++,r=e+"-"+i;while(this.seen.hasOwnProperty(r))}return n||(this.seen[e]=i,this.seen[r]=0),r}slug(e,n={}){const r=this.serialize(e);return this.getNextSafeSlug(r,n.dryrun)}}class Ye{constructor(e){this.options=e||ct,this.options.renderer=this.options.renderer||new ln,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new kr,this.slugger=new _r}static parse(e,n){return new Ye(n).parse(e)}static parseInline(e,n){return new Ye(n).parseInline(e)}parse(e,n=!0){let r="",i,a,s,o,l,u,f,g,p,v,S,A,P,O,_,m,w,y,h;const V=e.length;for(i=0;i<V;i++){if(v=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[v.type]&&(h=this.options.extensions.renderers[v.type].call({parser:this},v),h!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(v.type))){r+=h||"";continue}switch(v.type){case"space":continue;case"hr":{r+=this.renderer.hr();continue}case"heading":{r+=this.renderer.heading(this.parseInline(v.tokens),v.depth,ki(this.parseInline(v.tokens,this.textRenderer)),this.slugger);continue}case"code":{r+=this.renderer.code(v.text,v.lang,v.escaped);continue}case"table":{for(g="",f="",o=v.header.length,a=0;a<o;a++)f+=this.renderer.tablecell(this.parseInline(v.header[a].tokens),{header:!0,align:v.align[a]});for(g+=this.renderer.tablerow(f),p="",o=v.rows.length,a=0;a<o;a++){for(u=v.rows[a],f="",l=u.length,s=0;s<l;s++)f+=this.renderer.tablecell(this.parseInline(u[s].tokens),{header:!1,align:v.align[s]});p+=this.renderer.tablerow(f)}r+=this.renderer.table(g,p);continue}case"blockquote":{p=this.parse(v.tokens),r+=this.renderer.blockquote(p);continue}case"list":{for(S=v.ordered,A=v.start,P=v.loose,o=v.items.length,p="",a=0;a<o;a++)_=v.items[a],m=_.checked,w=_.task,O="",_.task&&(y=this.renderer.checkbox(m),P?_.tokens.length>0&&_.tokens[0].type==="paragraph"?(_.tokens[0].text=y+" "+_.tokens[0].text,_.tokens[0].tokens&&_.tokens[0].tokens.length>0&&_.tokens[0].tokens[0].type==="text"&&(_.tokens[0].tokens[0].text=y+" "+_.tokens[0].tokens[0].text)):_.tokens.unshift({type:"text",text:y}):O+=y),O+=this.parse(_.tokens,P),p+=this.renderer.listitem(O,w,m);r+=this.renderer.list(p,S,A);continue}case"html":{r+=this.renderer.html(v.text,v.block);continue}case"paragraph":{r+=this.renderer.paragraph(this.parseInline(v.tokens));continue}case"text":{for(p=v.tokens?this.parseInline(v.tokens):v.text;i+1<V&&e[i+1].type==="text";)v=e[++i],p+=`
`+(v.tokens?this.parseInline(v.tokens):v.text);r+=n?this.renderer.paragraph(p):p;continue}default:{const E='Token with "'+v.type+'" type was not found.';if(this.options.silent){console.error(E);return}else throw new Error(E)}}}return r}parseInline(e,n){n=n||this.renderer;let r="",i,a,s;const o=e.length;for(i=0;i<o;i++){if(a=e[i],this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[a.type]&&(s=this.options.extensions.renderers[a.type].call({parser:this},a),s!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(a.type))){r+=s||"";continue}switch(a.type){case"escape":{r+=n.text(a.text);break}case"html":{r+=n.html(a.text);break}case"link":{r+=n.link(a.href,a.title,this.parseInline(a.tokens,n));break}case"image":{r+=n.image(a.href,a.title,a.text);break}case"strong":{r+=n.strong(this.parseInline(a.tokens,n));break}case"em":{r+=n.em(this.parseInline(a.tokens,n));break}case"codespan":{r+=n.codespan(a.text);break}case"br":{r+=n.br();break}case"del":{r+=n.del(this.parseInline(a.tokens,n));break}case"text":{r+=n.text(a.text);break}default:{const l='Token with "'+a.type+'" type was not found.';if(this.options.silent){console.error(l);return}else throw new Error(l)}}}return r}}class Dt{constructor(e){this.options=e||ct}preprocess(e){return e}postprocess(e){return e}}Ce(Dt,"passThroughHooks",new Set(["preprocess","postprocess"]));var Ft,Yn,cn,_i;class xp{constructor(...e){Dn(this,Ft);Dn(this,cn);Ce(this,"defaults",wr());Ce(this,"options",this.setOptions);Ce(this,"parse",Kt(this,Ft,Yn).call(this,We.lex,Ye.parse));Ce(this,"parseInline",Kt(this,Ft,Yn).call(this,We.lexInline,Ye.parseInline));Ce(this,"Parser",Ye);Ce(this,"parser",Ye.parse);Ce(this,"Renderer",ln);Ce(this,"TextRenderer",kr);Ce(this,"Lexer",We);Ce(this,"lexer",We.lex);Ce(this,"Tokenizer",on);Ce(this,"Slugger",_r);Ce(this,"Hooks",Dt);this.use(...e)}walkTokens(e,n){let r=[];for(const i of e)switch(r=r.concat(n.call(this,i)),i.type){case"table":{for(const a of i.header)r=r.concat(this.walkTokens(a.tokens,n));for(const a of i.rows)for(const s of a)r=r.concat(this.walkTokens(s.tokens,n));break}case"list":{r=r.concat(this.walkTokens(i.items,n));break}default:this.defaults.extensions&&this.defaults.extensions.childTokens&&this.defaults.extensions.childTokens[i.type]?this.defaults.extensions.childTokens[i.type].forEach(a=>{r=r.concat(this.walkTokens(i[a],n))}):i.tokens&&(r=r.concat(this.walkTokens(i.tokens,n)))}return r}use(...e){const n=this.defaults.extensions||{renderers:{},childTokens:{}};return e.forEach(r=>{const i={...r};if(i.async=this.defaults.async||i.async||!1,r.extensions&&(r.extensions.forEach(a=>{if(!a.name)throw new Error("extension name required");if(a.renderer){const s=n.renderers[a.name];s?n.renderers[a.name]=function(...o){let l=a.renderer.apply(this,o);return l===!1&&(l=s.apply(this,o)),l}:n.renderers[a.name]=a.renderer}if(a.tokenizer){if(!a.level||a.level!=="block"&&a.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");n[a.level]?n[a.level].unshift(a.tokenizer):n[a.level]=[a.tokenizer],a.start&&(a.level==="block"?n.startBlock?n.startBlock.push(a.start):n.startBlock=[a.start]:a.level==="inline"&&(n.startInline?n.startInline.push(a.start):n.startInline=[a.start]))}a.childTokens&&(n.childTokens[a.name]=a.childTokens)}),i.extensions=n),r.renderer){const a=this.defaults.renderer||new ln(this.defaults);for(const s in r.renderer){const o=a[s];a[s]=(...l)=>{let u=r.renderer[s].apply(a,l);return u===!1&&(u=o.apply(a,l)),u}}i.renderer=a}if(r.tokenizer){const a=this.defaults.tokenizer||new on(this.defaults);for(const s in r.tokenizer){const o=a[s];a[s]=(...l)=>{let u=r.tokenizer[s].apply(a,l);return u===!1&&(u=o.apply(a,l)),u}}i.tokenizer=a}if(r.hooks){const a=this.defaults.hooks||new Dt;for(const s in r.hooks){const o=a[s];Dt.passThroughHooks.has(s)?a[s]=l=>{if(this.defaults.async)return Promise.resolve(r.hooks[s].call(a,l)).then(f=>o.call(a,f));const u=r.hooks[s].call(a,l);return o.call(a,u)}:a[s]=(...l)=>{let u=r.hooks[s].apply(a,l);return u===!1&&(u=o.apply(a,l)),u}}i.hooks=a}if(r.walkTokens){const a=this.defaults.walkTokens;i.walkTokens=function(s){let o=[];return o.push(r.walkTokens.call(this,s)),a&&(o=o.concat(a.call(this,s))),o}}this.defaults={...this.defaults,...i}}),this}setOptions(e){return this.defaults={...this.defaults,...e},this}}Ft=new WeakSet,Yn=function(e,n){return(r,i,a)=>{typeof i=="function"&&(a=i,i=null);const s={...i};i={...this.defaults,...s};const o=Kt(this,cn,_i).call(this,i.silent,i.async,a);if(typeof r>"u"||r===null)return o(new Error("marked(): input parameter is undefined or null"));if(typeof r!="string")return o(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(r)+", string expected"));if(gp(i,a),i.hooks&&(i.hooks.options=i),a){const l=i.highlight;let u;try{i.hooks&&(r=i.hooks.preprocess(r)),u=e(r,i)}catch(p){return o(p)}const f=p=>{let v;if(!p)try{i.walkTokens&&this.walkTokens(u,i.walkTokens),v=n(u,i),i.hooks&&(v=i.hooks.postprocess(v))}catch(S){p=S}return i.highlight=l,p?o(p):a(null,v)};if(!l||l.length<3||(delete i.highlight,!u.length))return f();let g=0;this.walkTokens(u,p=>{p.type==="code"&&(g++,setTimeout(()=>{l(p.text,p.lang,(v,S)=>{if(v)return f(v);S!=null&&S!==p.text&&(p.text=S,p.escaped=!0),g--,g===0&&f()})},0))}),g===0&&f();return}if(i.async)return Promise.resolve(i.hooks?i.hooks.preprocess(r):r).then(l=>e(l,i)).then(l=>i.walkTokens?Promise.all(this.walkTokens(l,i.walkTokens)).then(()=>l):l).then(l=>n(l,i)).then(l=>i.hooks?i.hooks.postprocess(l):l).catch(o);try{i.hooks&&(r=i.hooks.preprocess(r));const l=e(r,i);i.walkTokens&&this.walkTokens(l,i.walkTokens);let u=n(l,i);return i.hooks&&(u=i.hooks.postprocess(u)),u}catch(l){return o(l)}}},cn=new WeakSet,_i=function(e,n,r){return i=>{if(i.message+=`
Please report this to https://github.com/markedjs/this.`,e){const a="<p>An error occurred:</p><pre>"+Ae(i.message+"",!0)+"</pre>";if(n)return Promise.resolve(a);if(r){r(null,a);return}return a}if(n)return Promise.reject(i);if(r){r(i);return}throw i}};const yt=new xp(ct);function fe(t,e,n){return yt.parse(t,e,n)}fe.options=fe.setOptions=function(t){return yt.setOptions(t),fe.defaults=yt.defaults,bi(fe.defaults),fe};fe.getDefaults=wr;fe.defaults=ct;fe.use=function(...t){return yt.use(...t),fe.defaults=yt.defaults,bi(fe.defaults),fe};fe.walkTokens=function(t,e){return yt.walkTokens(t,e)};fe.parseInline=yt.parseInline;fe.Parser=Ye;fe.parser=Ye.parse;fe.Renderer=ln;fe.TextRenderer=kr;fe.Lexer=We;fe.lexer=We.lex;fe.Tokenizer=on;fe.Slugger=_r;fe.Hooks=Dt;fe.parse=fe;fe.options;fe.setOptions;fe.use;fe.walkTokens;fe.parseInline;Ye.parse;We.lex;const Ne={globalParameter:"Knife4jOfficeParameter",globalParameterTableColumns:[{title:"参数名称",dataIndex:"name",width:"15%",scopedSlots:{customRender:"name"}},{title:"参数值",className:"column-money",dataIndex:"value",width:"65%",scopedSlots:{customRender:"paramContentLabel"}},{title:"参数类型",dataIndex:"in",width:"10%",scopedSlots:{customRender:"paramTypeLable"}},{title:"操作",dataIndex:"operation",scopedSlots:{customRender:"operation"}}],globalSecurityParameters:"Knife4jGlobalSecurityParameters",globalSecurityParameterObject:"Knife4jGlobalSecurityParameterObject",globalSecurityParamPrefix:"Knife4jSecurityParams",globalI18nCache:"Knife4jI18n",globalGitApiVersionCaches:"Knife4jGitApiVersionCaches",globalSettingsKey:"Knife4jGlobalSettings",globalTreeTableModelParams:"Knife4jGlobalTreeTableModelParams",defaultWebSettings:{enableDebug:!0,enableFooter:!0,enableFooterCustom:!1,footerCustomContent:"",enableSearch:!0,enableOpenApi:!0,enableHomeCustom:!1,homeCustomLocation:"",enableGroup:!0,enableResponseCode:!0,enableSwaggerModels:!0,swaggerModelName:"Swagger Models",enableReloadCacheParameter:!1,enableAfterScript:!0,enableDocumentManage:!0,enableVersion:!1,showApiUrl:!1,showTagStatus:!1,enableSwaggerBootstrapUi:!1,treeExplain:!0,language:"zh-CN"},defaultSettings:{enableDebug:!0,enableFooter:!0,enableFooterCustom:!1,footerCustomContent:"",enableSearch:!0,enableOpenApi:!0,enableHomeCustom:!1,homeCustomLocation:"",enableGroup:!0,enableResponseCode:!0,enableSwaggerModels:!0,swaggerModelName:"Swagger Models",enableReloadCacheParameter:!1,enableAfterScript:!0,enableDocumentManage:!0,enableVersion:!1,showApiUrl:!1,showTagStatus:!1,enableSwaggerBootstrapUi:!1,treeExplain:!0,enableDynamicParameter:!1,enableFilterMultipartApis:!1,enableFilterMultipartApiMethodType:"POST",enableRequestCache:!0,enableCacheOpenApiTable:!1,enableHost:!1,enableHostText:"",language:"zh-CN"},defaultPlusSettings:{enableDebug:!0,enableFooter:!0,enableFooterCustom:!1,footerCustomContent:"",enableSearch:!0,enableOpenApi:!0,enableHomeCustom:!1,homeCustomLocation:"",enableGroup:!0,enableSwaggerModels:!0,swaggerModelName:"Swagger Models",enableReloadCacheParameter:!1,enableAfterScript:!0,enableDocumentManage:!0,enableVersion:!1,showApiUrl:!1,showTagStatus:!1,enableSwaggerBootstrapUi:!0,treeExplain:!0,enableDynamicParameter:!1,enableFilterMultipartApis:!1,enableFilterMultipartApiMethodType:"POST",enableRequestCache:!0,enableCacheOpenApiTable:!1,enableHost:!1,enableHostText:"",language:"zh-CN"},debugRequestHeaders:["Accept","Accept-Charset","Accept-Encoding","Accept-Language","Accept-Ranges","Authorization","Cache-Control","Connection","Cookie","Content-Length","Content-Type","Content-MD5","Date","Expect","From","Host","If-Match","If-Modified-Since","If-None-Match","If-Range","If-Unmodified-Since","Max-Forwards","Origin","Pragma","Proxy-Authorization","Range","Referer","TE","Upgrade","User-Agent","Via","Warning"],debugRequestHeaderOptions:[{value:"Accept",label:"Accept"},{value:"Accept-Charset",label:"Accept-Charset"},{value:"Accept-Encoding",label:"Accept-Encoding"},{value:"Accept-Language",label:"Accept-Language"},{value:"Accept-Ranges",label:"Accept-Ranges"},{value:"Authorization",label:"Authorization"},{value:"Cache-Control",label:"Cache-Control"},{value:"Connection",label:"Connection"},{value:"Cookie",label:"Cookie"},{value:"Content-Length",label:"Content-Length"},{value:"Content-Type",label:"Content-Type"},{value:"Content-MD5",label:"Content-MD5"},{value:"Date",label:"Date"},{value:"Expect",label:"Expect"},{value:"From",label:"From"},{value:"Host",label:"Host"},{value:"If-Match",label:"If-Match"},{value:"If-Modified-Since",label:"If-Modified-Since"},{value:"If-None-Match",label:"If-None-Match"},{value:"If-Range",label:"If-Range"},{value:"If-Unmodified-Since",label:"If-Unmodified-Since"},{value:"Max-Forwards",label:"Max-Forwards"},{value:"Origin",label:"Origin"},{value:"Pragma",label:"Pragma"},{value:"Proxy-Authorization",label:"Proxy-Authorization"},{value:"Range",label:"Range"},{value:"Referer",label:"Referer"},{value:"TE",label:"TE"},{value:"Upgrade",label:"Upgrade"},{value:"User-Agent",label:"User-Agent"},{value:"Via",label:"Via"},{value:"Warning",label:"Warning"}],debugRequestHeaderColumn:[{title:"请求头",dataIndex:"name",width:"20%",scopedSlots:{customRender:"headerName"}},{title:"内容",dataIndex:"content",scopedSlots:{customRender:"headerValue"}},{title:"操作",dataIndex:"operation",width:"10%",scopedSlots:{customRender:"operation"}}],debugFormRequestHeader:[{title:"参数名称",dataIndex:"name",width:"20%",scopedSlots:{customRender:"formName"}},{title:"类型",dataIndex:"type",width:"12%",scopedSlots:{customRender:"formType"}},{title:"参数值",dataIndex:"content",scopedSlots:{customRender:"formValue"}},{title:"操作",dataIndex:"operation",width:"10%",scopedSlots:{customRender:"operation"}}],debugUrlFormRequestHeader:[{title:"参数名称",dataIndex:"name",width:"20%",scopedSlots:{customRender:"urlFormName"}},{title:"参数值",dataIndex:"content",scopedSlots:{customRender:"urlFormValue"}},{title:"操作",dataIndex:"operation",width:"10%",scopedSlots:{customRender:"operation"}}],debugCacheApiId:"Knife4jCacheApi"},st=typeof exports=="object"?exports:{};st.parse=function(){var t,e,n,r,i={"'":"'",'"':'"',"\\":"\\","/":"/","\n":"",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},a=[" ","	","\r",`
`,"\v","\f"," ","\uFEFF"],s,o=function(h){return h===""?"EOF":"'"+h+"'"},l=function(h){const V=new SyntaxError;throw V.message=h+" at line "+e+" column "+n+" of the JSON5 data. Still to read: "+JSON.stringify(s.substring(t-1,t+19)),V.at=t,V.lineNumber=e,V.columnNumber=n,V},u=function(h){return h&&h!==r&&l("Expected "+o(h)+" instead of "+o(r)),r=s.charAt(t),t++,n++,(r===`
`||r==="\r"&&f()!==`
`)&&(e++,n=0),r},f=function(){return s.charAt(t)},g=function(){let h=r;for(r!=="_"&&r!=="$"&&(r<"a"||r>"z")&&(r<"A"||r>"Z")&&l("Bad identifier as unquoted key");u()&&(r==="_"||r==="$"||r>="a"&&r<="z"||r>="A"&&r<="Z"||r>="0"&&r<="9");)h+=r;return h},p=function(){let h,V="",E="",C=10;if((r==="-"||r==="+")&&(V=r,u(r)),r==="I")return h=_(),(typeof h!="number"||isNaN(h))&&l("Unexpected word for number"),V==="-"?-h:h;if(r==="N")return h=_(),isNaN(h)||l("expected word to be NaN"),h;switch(r==="0"&&(E+=r,u(),r==="x"||r==="X"?(E+=r,u(),C=16):r>="0"&&r<="9"&&l("Octal literal")),C){case 10:for(;r>="0"&&r<="9";)E+=r,u();if(r===".")for(E+=".";u()&&r>="0"&&r<="9";)E+=r;if(r==="e"||r==="E")for(E+=r,u(),(r==="-"||r==="+")&&(E+=r,u());r>="0"&&r<="9";)E+=r,u();break;case 16:for(;r>="0"&&r<="9"||r>="A"&&r<="F"||r>="a"&&r<="f";)E+=r,u();break}if(V==="-"?h=-E:h=+E,E.length>15&&(h=new Number(E),h.toString=function(){return V+E}),!isFinite(h))l("Bad number");else return h},v=function(){let h,V,E="",C,j;if(r==='"'||r==="'")for(C=r;u();){if(r===C)return u(),E;if(r==="\\")if(u(),r==="u"){for(j=0,V=0;V<4&&(h=parseInt(u(),16),!!isFinite(h));V+=1)j=j*16+h;E+=String.fromCharCode(j)}else if(r==="\r")f()===`
`&&u();else if(typeof i[r]=="string")E+=i[r];else break;else{if(r===`
`)break;E+=r}}l("Bad string")},S=function(){r!=="/"&&l("Not an inline comment");do if(u(),r===`
`||r==="\r"){u();return}while(r)},A=function(){r!=="*"&&l("Not a block comment");do for(u();r==="*";)if(u("*"),r==="/"){u("/");return}while(r);l("Unterminated block comment")},P=function(){r!=="/"&&l("Not a comment"),u("/"),r==="/"?S():r==="*"?A():l("Unrecognized comment")},O=function(){for(;r;)if(r==="/")P();else if(a.indexOf(r)>=0)u();else return},_=function(){switch(r){case"t":return u("t"),u("r"),u("u"),u("e"),!0;case"f":return u("f"),u("a"),u("l"),u("s"),u("e"),!1;case"n":return u("n"),u("u"),u("l"),u("l"),null;case"I":return u("I"),u("n"),u("f"),u("i"),u("n"),u("i"),u("t"),u("y"),1/0;case"N":return u("N"),u("a"),u("N"),NaN}l("Unexpected "+o(r))},m,w=function(){const h=[];if(r==="[")for(u("["),O();r;){if(r==="]"||(r===","?l("Missing array element"):h.push(m()),O(),r!==","))return u("]"),h;u(","),O()}l("Bad array")},y=function(){let h,V={};if(r==="{")for(u("{"),O();r;){if(r==="}"||(r==='"'||r==="'"?h=v():h=g(),O(),u(":"),V[h]=m(),O(),r!==","))return u("}"),V;u(","),O()}l("Bad object")};return m=function(){switch(O(),r){case"{":return y();case"[":return w();case'"':case"'":return v();case"-":case"+":case".":return p();default:return r>="0"&&r<="9"?p():_()}},function(h,V){let E;return s=String(h),t=0,e=1,n=1,r=" ",E=m(),O(),r&&l("Syntax error"),typeof V=="function"?function C(j,ee){let d,x,k=j[ee];if(k&&typeof k=="object")for(d in k)Object.prototype.hasOwnProperty.call(k,d)&&(x=C(k,d),x!==void 0?k[d]=x:delete k[d]);return V.call(j,ee,k)}({"":E},""):E}}();st.stringify=function(t,e,n){if(e&&typeof e!="function"&&!o(e))throw new Error("Replacer must be a function or an array");const r=function(m,w,y){let h=m[w];return h&&h.toJSON&&typeof h.toJSON=="function"&&(h=h.toJSON()),typeof e=="function"?e.call(m,w,h):e?y||o(m)||e.indexOf(w)>=0?h:void 0:h};function i(m){return m>="a"&&m<="z"||m>="A"&&m<="Z"||m>="0"&&m<="9"||m==="_"||m==="$"}function a(m){return m>="a"&&m<="z"||m>="A"&&m<="Z"||m==="_"||m==="$"}function s(m){if(typeof m!="string"||!a(m[0]))return!1;let w=1,y=m.length;for(;w<y;){if(!i(m[w]))return!1;w++}return!0}st.isWord=s;function o(m){return Array.isArray?Array.isArray(m):Object.prototype.toString.call(m)==="[object Array]"}function l(m){return Object.prototype.toString.call(m)==="[object Number]"}function u(m){return Object.prototype.toString.call(m)==="[object Date]"}const f=[];function g(m){for(let w=0;w<f.length;w++)if(f[w]===m)throw new TypeError("Converting circular structure to JSON")}function p(m,w,y){if(!m)return"";m.length>10&&(m=m.substring(0,10));let h=y?"":`
`;for(let V=0;V<w;V++)h+=m;return h}let v;n&&(typeof n=="string"?v=n:typeof n=="number"&&n>=0&&(v=p(" ",n,!0)));const S=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,A={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};function P(m){return S.lastIndex=0,S.test(m)?'"'+m.replace(S,function(w){const y=A[w];return typeof y=="string"?y:"\\u"+("0000"+w.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+m+'"'}function O(m,w,y){let h,V,E=r(m,w,y);switch(E&&!u(E)&&!l(E)&&(E=E.valueOf()),typeof E){case"boolean":return E.toString();case"number":return isNaN(E)||!isFinite(E)?"null":E.toString();case"string":return P(E.toString());case"object":if(E===null)return"null";if(o(E)){g(E),h="[",f.push(E);for(let C=0;C<E.length;C++)V=O(E,C,!1),h+=p(v,f.length),V===null||typeof V>"u"?h+="null":h+=V,C<E.length-1?h+=",":v&&(h+=`
`);f.pop(),E.length&&(h+=p(v,f.length,!0)),h+="]"}else{if(l(E))return E.toString();{g(E),h="{";let C=!1;f.push(E);for(const j in E)if(E.hasOwnProperty(j)){const ee=O(E,j,!1);y=!1,typeof ee<"u"&&ee!==null&&(h+=p(v,f.length),C=!0,st.compatible?w=P(j):w=s(j)?j:P(j),new RegExp('".*?"',"ig").test(w)?h+=w+":"+(v?" ":"")+ee+",":h+='"'+w+'":'+(v?" ":"")+ee+",")}f.pop(),C?h=h.substring(0,h.length-1)+p(v,f.length)+"}":h="{}"}}return h;default:return}}const _={"":t};return t===void 0?r(_,"",!0):O(_,"",!0)};const wp=/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/g,Oa={"application/octet-stream":!0,"application/x-001":!0,"text/h323":!0,"drawing/907":!0,"audio/x-mei-aac":!0,"audio/aiff":!0,"text/asa":!0,"text/asp":!0,"audio/basic":!0,"application/vnd.adobe.workflow":!0,"application/x-bmp":!0,"application/x-c4t":!0,"application/x-cals":!0,"application/x-netcdf":!0,"application/x-cel":!0,"application/x-g4":!0,"application/x-cit":!0,"text/xml":!0,"application/x-cmx":!0,"application/pkix-crl":!0,"application/x-csi":!0,"application/x-cut":!0,"application/x-dbm":!0,"application/x-x509-ca-cert":!0,"application/x-dib":!0,"application/msword":!0,"application/x-drw":!0,"Model/vnd.dwf":!0,"application/x-dwg":!0,"application/x-dxf":!0,"application/x-emf":!0,"application/x-ps":!0,"application/x-ebx":!0,"image/fax":!0,"application/fractals":!0,"application/x-frm":!0,"application/x-gbr":!0,"image/gif":!0,"application/x-gp4":!0,"application/x-hmr":!0,"application/x-hpl":!0,"application/x-hrf":!0,"text/x-component":!0,"text/html":!0,"image/x-icon":!0,"application/x-iff":!0,"application/x-igs":!0,"application/x-img":!0,"application/x-internet-signup":!0,"java/*":!0,"image/jpeg":!0,"application/x-jpg":!0,"application/x-laplayer-reg":!0,"audio/x-liquid-secure":!0,"audio/x-la-lms":!0,"application/x-ltr":!0,"video/x-mpeg":!0,"video/mpeg4":!0,"application/x-troff-man":!0,"application/msaccess":!0,"application/x-shockwave-flash":!0,"message/rfc822":!0,"audio/mid":!0,"application/x-mil":!0,"audio/x-musicnet-download":!0,"application/x-javascript":!0,"audio/mp1":!0,"video/mpeg":!0,"application/vnd.ms-project":!0,"video/mpg":!0,"audio/rn-mpeg":!0,"image/pnetvue":!0,"application/x-out":!0,"application/x-pkcs12":!0,"application/pkcs7-mime":!0,"application/x-pkcs7-certreqresp":!0,"application/x-pc5":!0,"application/x-pcl":!0,"application/pdf":!0,"application/vnd.adobe.pdx":!0,"application/x-pgl":!0,"application/vnd.ms-pki.pko":!0,"application/x-plt":!0,"application/x-png":!0,"application/vnd.ms-powerpoint":!0,"application/x-ppt":!0,"application/pics-rules":!0,"application/x-prt":!0,"application/postscript":!0,"audio/vnd.rn-realaudio":!0,"application/x-ras":!0,"application/x-red":!0,"application/vnd.rn-realsystem-rjs":!0,"application/x-rlc":!0,"application/vnd.rn-realmedia":!0,"audio/x-pn-realaudio":!0,"application/vnd.rn-realmedia-secure":!0,"application/vnd.rn-realsystem-rmx":!0,"image/vnd.rn-realpix":!0,"application/vnd.rn-rsml":!0,"video/vnd.rn-realvideo":!0,"application/x-sat":!0,"application/x-sdw":!0,"application/x-slb":!0,"drawing/x-slk":!0,"application/smil":!0,"text/plain":!0,"application/futuresplash":!0,"application/streamingmedia":!0,"application/vnd.ms-pki.stl":!0,"application/x-sty":!0,"application/x-tg4":!0,"image/tiff":!0,"image/png":!0,"drawing/x-top":!0,"application/x-icq":!0,"text/x-vcard":!0,"application/vnd.visio":!0,"application/x-vpeg005":!0,"application/x-vsd":!0,"audio/wav":!0,"application/x-wb1":!0,"application/x-wb3":!0,"application/x-wk4":!0,"application/x-wks":!0,"audio/x-ms-wma":!0,"application/x-wmf":!0,"video/x-ms-wmv":!0,"application/x-ms-wmz":!0,"application/x-wpd":!0,"application/vnd.ms-wpl":!0,"application/x-wr1":!0,"application/x-wrk":!0,"application/x-ws":!0,"application/vnd.adobe.xdp":!0,"application/vnd.adobe.xfd":!0,"application/x-xls":!0,"application/x-xwd":!0,"application/vnd.symbian.install":!0,"application/x-x_t":!0,"application/vnd.android.package-archive":!0};function kp(t){return wp.test(t)}const c={getOAuth2Html(t){return t?"webjars/oauth/oauth2.html":"oauth/oauth2.html"},getOAuth2BearerValue(t,e){return t=="bearer"&&e!=null&&e!=""?e.toLocaleLowerCase().indexOf("bearer")>-1?e:"Bearer "+e:e},groupName(t,e){let n=e;if(new RegExp(".*?group=(.*?)(&.*?)?$").test(t)){const i=RegExp.$1;this.strNotBlank(i)&&i!=e&&(n=i)}return n},oasmodel(t){return t?"#/definitions/(.*)$":"#/components/schemas/(.*)$"},filterIgnoreParameters(t,e,n){if(n==null)return!0;const r=Object.keys(n||{}),i=[],a=new RegExp("\\[0\\]","gm");return r!=null&&r.length>0&&r.forEach(s=>{i.push(s),s.indexOf("[0]")>-1&&i.push(s.replace(a,""))}),e.indexOf("[0]")>-1?i.length>0?!(i.filter(o=>e.startsWith(o)).length>0):!0:t=="query"?!i.some(s=>new RegExp(`^(${s}$|${s}[.[])`).test(e)||new RegExp(s,"g").test(e)):!i.includes(e)},appendBasePath(t,e){let n=!1;try{if(this.checkUndefined(e)&&this.strNotBlank(e)&&e!="/"){const r=Object.keys(t||{}),i=r.length;let a=0;const s=e+"/";for(let o=0;o<r.length;o++)r[o].startsWith(s)&&a++;a==i&&(n=!0)}else n=!0}catch{n=!0}return n},filterIncludeParameters(t,e,n){if(n==null)return!0;const r=Object.keys(n||{}),i=[],a=new RegExp("\\[0\\]","gm");return r!=null&&r.length>0&&r.forEach(s=>{i.push(s),s.indexOf("[0]")>-1&&i.push(s.replace(a,""))}),e.indexOf("[0]")>-1?i.length>0?i.filter(o=>e.startsWith(o)).length>0:!0:t=="query"?i.includes(e):t=="body"?!0:i.includes(e)},rootKeysPath(t,e,n){let r=[];if(e!=null&&e!=null)for(const i in e){const a=t+"."+i;if(!n.some(o=>o.startsWith(a))){r.push(a);const o=e[i];if(Array.isArray(o)){const l=t+"."+i+"[0]";r=r.concat(this.rootKeysPath(l,o[0],n))}else Rt(o)&&(r=r.concat(this.rootKeysPath(a,o,n)))}}return r},binaryContentType(t,e){let n=!1,r="";return t!=null&&t!=null&&t.forEach(function(a){Oa[a]&&(r=a,n=!0)}),e!=null&&!n&&Oa[e]&&(n=!0,r=e),{binary:n,binaryType:r}},copyOneObject(t){const e={};for(const n in t)e[n]=t[n];return e},randomMd5(){return Ie(new Date().getTime().toString()+Math.floor(Math.random()*1e5).toString())},randomMd5Str(t){return Ie(new Date().getTime().toString()+Math.floor(Math.random()*1e4).toString()+t)},formatter:function(t,e="/",n){return t.map(r=>{let{path:i}=r;kp(i)||(i=e+r.path);const a={...r,path:i,authority:r.authority||n};return r.children&&(a.children=this.formatter(r.children,`${e}${r.path}/`,r.authority)),a})},md5Id:function(t){let e="";try{if(t!=null&&t!=null){const n=JSON.stringify(t);if(n!=""){const r=n.split("");r.sort();const i=r.join("");e=Ie(i)}}}catch{}return e},checkParamArrsExists:function(t,e){return(t||[]).some(n=>n.name+n.in==e.name+e.in)},isChinese:function(t){return new RegExp("[\\u4E00-\\u9FFF]+","g").test(t)},json5stringifyNoFormat:function(t){let e=null;try{e=st.stringify(t)}catch{e=JSON.stringify(t)}return e},json5stringify:function(t){let e=null;try{e=st.stringify(t,null,2)}catch{e=JSON.stringify(t,null,2)}return e},json5stringifyFormat:function(t,e,n){let r=null;try{r=st.stringify(t,e,n)}catch{r=JSON.stringify(t,e,n)}return r},json5parse:function(t){let e=null;try{e=st.parse(t)}catch{e=JSON.parse(t)}return e},filterJsonObject:function(t,e,n){let r=null;try{r=c.filterObject(t,e,n)}catch{r=e}return r},filterObject:function(t,e,n){let r={};if(n!=null&&n!=null)for(const i in e){const a=e[i],s=t+"."+i;n.hasOwnProperty(s)||(r[i]=a);const o=c.genericType(a);if(o=="object")r[i]=c.filterObject(s,a,n);else if(o=="array"){const l=a[0],u=[];u.push(c.filterObject(s,l,n)),r[i]=u}}else r=e;return r},genericType:function(t){const e=Object.prototype.toString.call(t);let n="";return e!=null&&e!=null&&(e.indexOf("Array")!=-1?n="array":e.indexOf("Object")!=-1&&(n="object")),n},getJsonKeyLength:function(t){let e=0;if(t!=null)for(key in t)t.hasOwnProperty(key)&&e++;return e},regexMatchStr:function(t,e){let n=!1;return t!=null&&t!=null&&e!=null&&e!=null&&e.match(t)!=null&&(n=!0),n},searchMatch(t,e){let n=!1;return t!=null&&t!=null&&e!=null&&e!=null&&(n=new RegExp(t,"ig").test(e)),n},validateJSR303:function(t,e){const n=e.maximum,r=e.minimum,i=e.exclusiveMinimum,a=e.exclusiveMaximum,s=e.pattern,o=e.maxLength,l=e.minLength;n||r||i||a?(t.validateStatus=!0,t.validateInstance={minimum:r,maximum:n,exclusiveMaximum:a,exclusiveMinimum:i}):s?(t.validateStatus=!0,t.validateInstance={pattern:e.pattern}):(o||l)&&(t.validateStatus=!0,t.validateInstance={maxLength:o,minLength:l})},checkUndefined:function(t){let e=!1;return t!=null&&t!=null&&typeof t<"u"&&(e=!0),e},arrNotEmpty(t){let e=!1;return t!=null&&t!=null&&t.length>0&&(e=!0),e},arrEmpty(t){return!this.arrNotEmpty(t)},strBlank(t){return!this.strNotBlank(t)},strNotBlank(t){let e=!1;return t!=null&&t!=null&&t!=""&&(e=!0),e},propValue:function(t,e,n){let r=n;return e.hasOwnProperty(t)&&(r=e[t]),r},getExample(t,e,n){let r=this.propValue(t,e,n);return ko(r)||typeof r=="object"&&(r=this.json5stringifyNoFormat(r)),r},checkIsBasicType:function(t){const e=["string","integer","number","object","boolean","int32","int64","float","double"];let n=!1;return t!=null&&e.indexOf(t)>-1&&(n=!0),n},getBasicTypeValue:function(t){let e="";return t=="integer"&&(e=0),t=="boolean"&&(e=!0),t=="object"&&(e={}),t=="number"&&(e=parseFloat(0)),e},getValue:function(t,e,n,r){let i=n;return t!=null&&t!=null&&t.hasOwnProperty(e)&&(i=t[e],r&&(i==null||i=="")&&(i=n)),i},getClassName:function(t,e){if(e){if(new RegExp("#/definitions/(.*)$","ig").test(t))return RegExp.$1}else if(new RegExp("#/components/schemas/(.*)$","ig").test(t))return RegExp.$1;return null},getRefParameterName:function(t){return new RegExp("#/components/parameters/(.*)$","ig").test(t)?RegExp.$1:null},trim(t){const e="[\\x20\\t\\r\\n\\f]",n=new RegExp("^"+e+"+|((?:^|[^\\\\])(?:\\\\.)*)"+e+"+$","g");return t==null?"":(t+"").replace(n,"")},getStringValue:function(t){let e="";return t!=null&&typeof t<"u"&&t!=null&&(e=t.toString()),e},toString(t,e){let n=e;return t!=null&&typeof t<"u"&&t!=null&&(n=t.toString()),n},randomNumber:function(){return((1+Math.random())*65536|0).toString(16).substring(1)},htmlEncode:function(t){return t!==null?t.toString().replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/</g,"&lt;").replace(/>/g,"&gt;"):""},jsString:function(t){return t=JSON.stringify(t).slice(1,-1),c.htmlEncode(t)},replaceMultipLineStr:function(t){if(t!=null&&t!=null&&t!=""){const e=/(\r\n|\n\r|\r|\n)/g;return e.test(t)?t.replace(e,"\\n"):t}return""},camelCase:function(t){return t!=null&&t!=null&&t!=""?t.length==1?t.toLocaleLowerCase():t.substr(0,1).toLocaleLowerCase()+t.substr(1):""},generUUID:function(){return c.randomNumber()+c.randomNumber()+"-"+c.randomNumber()+"-"+c.randomNumber()+"-"+c.randomNumber()+"-"+c.randomNumber()+c.randomNumber()+c.randomNumber()},base64Encode:function(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";let n="",r=0,i=t.length,a,s,o;for(;r<i;){if(a=t.charCodeAt(r++)&255,r==i){n+=e.charAt(a>>2),n+=e.charAt((a&3)<<4),n+="==";break}if(s=t.charCodeAt(r++),r==i){n+=e.charAt(a>>2),n+=e.charAt((a&3)<<4|(s&240)>>4),n+=e.charAt((s&15)<<2),n+="=";break}o=t.charCodeAt(r++),n+=e.charAt(a>>2),n+=e.charAt((a&3)<<4|(s&240)>>4),n+=e.charAt((s&15)<<2|(o&192)>>6),n+=e.charAt(o&63)}return n},binToBase64:function(t){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".split("");let n="";const r=t.length%6,i=t.substr(0,t.length-r);let a=t.substr(t.length-r,r);for(let s=0;s<i.length;s+=6){const o=parseInt(i.substr(s,6),2);n+=e[o]}return a+=new Array(7-r).join("0"),r&&(n+=e[parseInt(a,2)],n+=new Array((6-r)/2+1).join("=")),n},checkExtensionsUndefined:function(t){return t&&(this.checkUndefined(t.extensions)||this.checkUndefined(t["x-extensions"]))},getExtensions:function(t){return this.checkExtensionsUndefined(t)?t.extensions||t["x-extensions"]:void 0}};function _p(t,e,n,r){this.summary=t,this.description=e,this.example=n,this.externalValue=r}function $t(t){this.source=t,this.hasExample=!1,this.hasMoreExample=!1,this.responseText=null,this.responseValue=null,this.responseTextArray=[],this.init()}$t.prototype.init=function(){if(c.checkUndefined(this.source)){const t=c.propValue("example",this.source,null),e=c.propValue("examples",this.source,null);this.hasExample=t!=null,this.hasMoreExample=e!=null,this.hasExample&&this.oneExample(t),this.hasMoreExample&&this.multipleExample(e)}};$t.prototype.oneExample=function(t){c.checkUndefined(t)&&(this.responseText=t,this.responseValue=c.json5stringifyFormat(t,null,"	"))};$t.prototype.multipleExample=function(t){if(c.checkUndefined(t))for(const e in t){const n=c.propValue(e,t,null);if(c.checkUndefined(n)){const r=c.propValue("summary",n,null);if(c.checkUndefined(r)){const i=c.propValue("description",n,null),a=c.propValue("example",n,null),s=c.propValue("externalValue",n,null);this.responseTextArray.push(new _p(r,i,a,s))}}}};const rt=Ua("Globals",{state(){return{menuData:[],language:"zh-CN",swagger:null,swaggerCurrentInstance:null,enableVersion:!1,enableAfterScript:!0,enableResponseCode:!0,enableReloadCacheParameter:!1,currentMenuData:[],serviceOptions:[],settings:{},defaultServiceOption:"",loading:{show:!1,text:"加载中..."}}},actions:{setSettings(t){this.settings=t},setReloadCacheParameter(t){this.enableReloadCacheParameter=t},setAfterScript(t){this.enableAfterScript=t},setResponseCode(t){this.enableResponseCode=t},setGitVersion(t){this.enableVersion=t},setMenuData(t){this.menuData=this.menuData.concat(t),this.currentMenuData=t},setCurrentMenuData(t){this.currentMenuData=t},setLang(t){this.language=t},setSwagger(t){this.swagger=t},setSwaggerInstance(t){this.swaggerCurrentInstance=t},setServiceOptions(t){this.serviceOptions=t},setDefaultService(t){this.defaultServiceOption=t},showLoading(t){this.loading.show=!0,t&&(this.loading.text=t.text)},destroyLoading(){this.loading.show=!1,this.loading.text="加载中..."}}});fe.setOptions({gfm:!0,tables:!0,breaks:!1,pedantic:!1,sanitize:!1,smartLists:!0,smartypants:!1});function Y(t){if(this.swaggerData=null,this.springdoc=!1,this.springdoc){const e=window.location.pathname,n=e.lastIndexOf("/"),r=e.length==n+1?e:e.substring(0,n);this.url=t.url||r+"v3/api-docs/swagger-config"}else this.url=t.url||"swagger-resources";this.i18n=t.i18n||"zh-CN",this.desktop=t.desktop||!1,this.desktopCode=null,this.i18nVue=t.i18nVue||null,this.i18nFlag=t.i18nFlag||!1,this.baseSpringFox=t.baseSpringFox||!1,this.configUrl=t.configUrl||"swagger-resources/configuration/ui",this.configSupport=t.configSupport||!1,this.securitySupport=t.securitySupport||!1,this.serviceOptions=null,this.defaultServiceOption=null,this.routeParams=t.routeParams||null,this.menuData=null,this.store=t.store||{},this.localStore=t.localStore||{},this.plus=t.plus,this.docId="content",this.title="knife4j",this.titleOfUrl="https://  gitee.com/xiaoym/knife4j",this.load=1,this.tabId="tabUl",this.tabContentId="tabContent",this.searchEleId="spanSearch",this.searchTxtEleId="searchTxt",this.menuId="menu",this.searchMenuId="searchMenu",this.instances=[],this.currentInstance={difArrs:[],swaggerTreeTableModels:{},oas2:()=>!1,paths:[],pathsDictionary:{},pathArrs:[],clearOAuth2:function(){if(!c.checkUndefined(this.oauths)&&window.localStorage){const e="SELFOAuth"+this.id;window.localStorage.removeItem(e)}},cacheInstance:{cacheApis:[]},cacheApis:[]},this.globalMenuDatas=[],this.globalTabId="sbu-dynamic-tab",this.globalTabs=[],this.layui=t.layui,this.ace=t.ace,this.treetable=t.treetable,this.layTabFilter="admin-pagetabs",this.version="1.9.6",this.requestOrigion="SwaggerBootstrapUi",this.requestParameter={},this.settings=t.settings||{enableDebug:!0,enableFooter:!0,enableFooterCustom:!1,footerCustomContent:"",enableSearch:!0,enableOpenApi:!0,enableHomeCustom:!1,homeCustomLocation:"",enableGroup:!0,enableResponseCode:!0,enableSwaggerModels:!0,swaggerModelName:"Swagger Models",enableReloadCacheParameter:!1,enableAfterScript:!0,enableDocumentManage:!0,enableVersion:!1,showApiUrl:!1,showTagStatus:!1,enableSwaggerBootstrapUi:!1,treeExplain:!0,enableDynamicParameter:!1,enableFilterMultipartApis:!1,enableFilterMultipartApiMethodType:"POST",enableRequestCache:!0,enableCacheOpenApiTable:!1,enableHost:!1,enableHostText:"",language:t.i18n||"zh-CN"},this.extUrl="/v2",this.ext3Url="/v3/api-docs",this.validateExtUrl="",this.cacheApis=t.cacheApis||[],this.hasLoad=!1,this.i18nInstance=t.i18nInstance||{},this.configuration={supportedSubmitMethods:["get","put","post","delete","options","head","patch","trace"]}}Y.prototype.main=function(){const t=this;t.initRequestParameters(),t.initSettings()};Y.prototype.initRequestParameters=function(){const t=this,e=window.location.search;if(e!=null&&e!=""){const n=e.substr(1);if(n!=null&&n!=null&&n!=""){const r=n.split("&");for(let i=0;i<r.length;i++){const a=r[i];if(a!=null&&a!=null&&a!=""){const s=a.split("=");t.requestParameter[c.trim(s[0])]=c.trim(s[1])}}}}t.log("请求参数========================================"),t.log(t.requestParameter)};Y.prototype.initSettings=function(){const t=this;t.log("本地Settings初始化"),t.configSupport&&t.configInit(),t.analysisGroup()};Y.prototype.initApis=function(){const t=this;if(window.localStorage){const n=window.localStorage.SwaggerBootstrapUiCacheApis;if(n!=null&&n!=null&&n!=""){const r=c.json5parse(n);t.cacheApis=r}else t.cacheApis=[]}};Y.prototype.configInit=function(){const t=this;this.ajax({url:t.configUrl,type:"get",timeout:2e4,dataType:"json"},e=>{if(e!=null&&e!=null&&e.hasOwnProperty("supportedSubmitMethods")){const n=e.supportedSubmitMethods;if(n.length>0){const r=[];n.forEach(function(i){r.push(i.toLowerCase())}),t.configuration.supportedSubmitMethods=r}else t.configuration.supportedSubmitMethods=[]}},e=>{t.error(e)})};Y.prototype.analysisGroup=function(){const t=this;try{let e={};if(t.desktop){const n=window.location.pathname;let r="ROOT";if(new RegExp("(?:/(.*?))?/doc.html","ig").exec(n)){const a=RegExp.$1;c.strNotBlank(a)&&(r=a)}e={"knife4j-gateway-code":r},this.desktopCode=r}t.ajax({url:t.url,type:"get",timeout:2e4,dataType:"json",headers:e},n=>{t.springdoc?t.analysisSpringDocOpenApiGroupSuccess(n):t.analysisGroupSuccess(n),t.createGroupElement()},n=>{message.error("Knife4j文档请求异常"),t.error(n)})}catch(e){t.error(e)}};Y.prototype.analysisSpringDocOpenApiGroupSuccess=function(t){const e=rt(),n=this,r=typeof t;let i=null;r=="string"?i=c.json5parse(t):i=t,n.log("响应分组json数据"),n.log(i);const a=[],s=[],o=c.getValue(i,"urls",[],!0),l=[];c.arrNotEmpty(o)?o.forEach(u=>{const f={name:c.getValue(u,"name","knife4j",!0),url:c.getValue(u,"url","",!0),location:c.getValue(u,"url","",!0),swaggerVersion:"3.0.3"};l.push(f)}):l.push({name:c.getValue(i,"url","default",!0),url:c.getValue(i,"url","",!0),location:c.getValue(i,"url","",!0),swaggerVersion:"3.0.3"}),l.forEach(function(u){const f=new gt(c.toString(u.name,"").replace(/\//g,"-"),u.location,u.swaggerVersion);f.url=u.url,f.desktop=n.desktop,f.desktopCode=n.desktopCode;let g="";if(u.url!=null&&u.url!=null&&u.url!=""?g=u.url:g=u.location,f.extUrl=g,n.validateExtUrl==""&&(n.validateExtUrl=f.extUrl),u.basePath!=null&&u.basePath!=null&&u.basePath!=""&&(f.baseUrl=u.basePath),n.cacheApis.length>0){let p=null;n.cacheApis.forEach(v=>{v.id==f.groupId&&(p=v)}),p!=null?(f.firstLoad=!1,p.hasOwnProperty("updateApis")||(p.updateApis={}),f.cacheInstance=p,n.log(f)):f.cacheInstance=new un({id:f.groupId,name:f.name})}else f.cacheInstance=new un({id:f.groupId,name:f.name});a.push({label:f.name,value:f.id}),s.push(f.id),n.instances.push(f)}),c.arrNotEmpty(n.instances)&&n.instances.forEach(u=>{u.allGroupIds=s}),this.serviceOptions=a,e.setServiceOptions(a),a.length>0&&(this.defaultServiceOption=a[0].value,e.setDefaultService(a[0].value))};Y.prototype.analysisGroupSuccess=function(t){const e=this,n=typeof t;let r=null;n=="string"?r=c.json5parse(t):r=t,e.log("响应分组json数据"),e.log(r);const i=[],a=[];r.forEach(function(o){const l=new gt(c.toString(o.name,"").replace(/\//g,"-"),o.location,o.swaggerVersion);l.url=o.url,l.header=c.getValue(o,"header",null,!0),l.basicAuth=c.getValue(o,"basicAuth",null,!0),l.servicePath=c.getValue(o,"servicePath",null,!0),l.desktop=e.desktop,l.desktopCode=e.desktopCode;let u="";if(o.url!=null&&o.url!=null&&o.url!=""?u=o.url:u=o.location,l.extUrl=u,e.validateExtUrl==""&&(e.validateExtUrl=l.extUrl),o.basePath!=null&&o.basePath!=null&&o.basePath!=""&&(l.baseUrl=o.basePath),e.cacheApis.length>0){let f=null;e.cacheApis.forEach(g=>{g.id==l.groupId&&(f=g)}),f!=null?(l.firstLoad=!1,f.hasOwnProperty("updateApis")||(f.updateApis={}),l.cacheInstance=f,e.log(l)):l.cacheInstance=new un({id:l.groupId,name:l.name})}else l.cacheInstance=new un({id:l.groupId,name:l.name});i.push({label:l.name,value:l.id}),a.push(l.id),e.instances.push(l)}),c.arrNotEmpty(e.instances)&&e.instances.forEach(o=>{o.allGroupIds=a}),this.serviceOptions=i;const s=rt();s.setServiceOptions(i),i.length>0&&(this.defaultServiceOption=i[0].value,s.setDefaultService(i[0].value))};Y.prototype.createGroupElement=function(){const t=rt(),e=this;e.log("分组-------------------------------");const n=this.routeParams;if(c.checkUndefined(n))if(n.hasOwnProperty("groupName")){const r=n.groupName;if(c.checkUndefined(r)&&r!=""){const i=e.selectInstanceByGroupName(r);e.log("包含分组名称"),e.log(i),this.defaultServiceOption=i.id,t.setDefaultService(i.id),e.analysisApi(i)}else e.analysisApi(e.instances[0])}else e.analysisApi(e.instances[0]);else e.analysisApi(e.instances[0])};Y.prototype.selectInstanceByGroupName=function(t){const e=this;let n=null;return e.instances.forEach(function(r){if(r.name==t){n=r;return}}),n};Y.prototype.analysisApi=function(t){const e=this;try{if(e.currentInstance=t,e.currentInstance.load)e.createDescriptionElement(),e.createDetailMenu(!1),e.afterApiInitSuccess(),rt().setSwaggerInstance(this.currentInstance);else{let n=t.url;(n==null||n==null||n=="")&&(n=t.location),e.settings.enableSwaggerBootstrapUi&&(n=t.extUrl),e.springdoc||n.indexOf("/")==0&&(n=n.substr(1));let r={language:e.settings.language},i={url:n,dataType:"json",timeout:2e4,type:"get",transformResponse:[function(a){return c.json5parse(a)}]};e.desktop&&(r=Object.assign({},r,{"knife4j-gateway-code":e.desktopCode})),c.checkUndefined(this.currentInstance.header)&&(r=Object.assign({},r,{"knfie4j-gateway-request":e.currentInstance.header})),c.checkUndefined(this.currentInstance.basicAuth)&&(r=Object.assign({},r,{"knife4j-gateway-basic-request":e.currentInstance.basicAuth})),i=Object.assign({},i,{headers:r}),e.ajax(i,a=>{e.analysisApiSuccess(a)},a=>{message.error("Knife4j文档请求异常"),e.error(a)})}}catch(n){e.error(n),window.console&&console.error(n)}};Y.prototype.afterApiInitSuccess=function(){this.initOpenTable()};Y.prototype.initOpenTable=function(){const t=this;if(t.settings.enableCacheOpenApiTable&&window.localStorage){var e=window.localStorage.SwaggerBootstrapUiCacheOpenApiTableApis||"{}";const r=c.json5parse(e),i=t.currentInstance.groupId;var e=r[i]||[];if(e.length>0)for(let a=0;a<e.length;a++){const s=e[a];t.log(s)}}};Y.prototype.analysisApiSuccess=function(t){const e=this;e.hasLoad=!0;const n=typeof t;let r=null;n=="string"?r=c.json5parse(t):r=t,e.setInstanceBasicPorperties(r),e.resolvedOASVersion(r),e.openV3Settings(r),e.openV3Documents(r),e.dispatchSettings(),e.analysisDefinition(r),e.mergeLocalSecurityContext(),e.createDescriptionElement(),e.currentInstance.load=!0,e.createDetailMenu(!0),rt().setSwaggerInstance(this.currentInstance)};Y.prototype.resolvedOASVersion=function(t){const e=c.getValue(t,"openapi","",!0);let n="2.0";c.strNotBlank(e)&&(n=e),this.currentInstance.groupVersion=n};Y.prototype.dispatchSettings=function(){const t=rt();t.setAfterScript(this.settings.enableAfterScript),t.setReloadCacheParameter(this.settings.enableReloadCacheParameter),t.setResponseCode(this.settings.enableResponseCode),t.setSettings(this.settings)};Y.prototype.mergeLocalSecurityContext=function(){const t=this,e=t.currentInstance.securityArrs,n=Ne.globalSecurityParamPrefix+t.currentInstance.id;let r=[],i={},a=[];t.localStore.getItem(Ne.globalSecurityParameterObject).then(s=>{c.arrNotEmpty(e)?t.localStore.getItem(n).then(o=>{if(c.checkUndefined(o)){const l=[];e.forEach(u=>{const f=o.filter(g=>g.id==u.id);f.length>0?c.strNotBlank(u.value)?l.push(u):l.push(f[0]):l.push(u)}),a=l}else a=e;c.checkUndefined(s)?(i=s,r=r.concat(s),a.forEach(l=>{const u=s[l.id];c.checkUndefined(u)?l.value=u:i[l.id]=l.value})):a.forEach(l=>{i[l.id]=l.value}),t.localStore.setItem(n,a),t.localStore.setItem(Ne.globalSecurityParameterObject,i)}):this.localStore.removeItem(n)})};Y.prototype.openSettings=function(t){const e=this,n=t["x-openapi"];if(c.checkUndefined(n))if(c.checkUndefined(n["x-setting"])){const r=n["x-setting"];let i=Object.assign({},e.settings,r);e.i18nFlag&&(i=Object.assign({},i,{language:e.i18n})),e.settings=i,e.localStore.setItem(Ne.globalSettingsKey,i);const a=c.getValue(i,"language","zh-CN",!0);this.localStore.setItem(Ne.globalI18nCache,a),setTimeout(()=>{c.checkUndefined(e.i18nVue)&&(e.i18nVue.locale=a),e.store.dispatch("globals/setLang",a)},500)}else e.setDefaultSettings();else e.setDefaultSettings()};Y.prototype.setDefaultSettings=function(){const t=this.settings,e=Ne.defaultSettings,n=Ne.defaultWebSettings;let r=Object.assign({},e,t);r=Object.assign({},r,n),this.localStore.setItem(Ne.globalSettingsKey,r),this.settings=r};Y.prototype.openV3Settings=function(t){const e=this,n=c.getExtensions(t);if(c.checkUndefined(n))if(c.checkUndefined(n["x-setting"])){const r=n["x-setting"];if(c.arrNotEmpty(r)){const i=r[0];let a=Object.assign({},e.settings,i);e.i18nFlag&&(a=Object.assign({},a,{language:e.i18n})),e.settings=a,e.localStore.setItem(Ne.globalSettingsKey,a);const s=c.getValue(a,"language","zh-CN",!0);this.localStore.setItem(Ne.globalI18nCache,s),setTimeout(()=>{c.checkUndefined(e.i18nVue)&&(e.i18nVue.locale=s),e.store.dispatch("globals/setLang",s)},500)}}else e.setDefaultSettings();else e.setDefaultSettings()};Y.prototype.openDocuments=function(t){const e=this,n=t["x-openapi"];if(c.checkUndefined(n)&&c.arrNotEmpty(n["x-markdownFiles"])){const r=n["x-markdownFiles"],i={};r.forEach(s=>{const o=new Vi(s.name);c.arrNotEmpty(s.children)&&s.children.forEach(u=>{const f=new Oi(u.title);o.children.push(f),i[f.id]=c.getValue(u,"content","",!0)}),e.currentInstance.markdownFiles.push(o)});const a=e.currentInstance.id+"markdownFiles";e.localStore.removeItem(a),e.localStore.setItem(a,i)}};Y.prototype.openV3Documents=function(t){const e=this,n=c.getExtensions(t);if(c.checkUndefined(n)&&c.arrNotEmpty(n["x-markdownFiles"])){const r=n["x-markdownFiles"],i={};r.forEach(s=>{const o=new Vi(s.name);c.arrNotEmpty(s.children)&&s.children.forEach(u=>{const f=new Oi(u.title),g=c.getValue(u,"content","",!0);o.children.push(f),i[f.id]=g}),e.currentInstance.markdownFiles.push(o)});const a=e.currentInstance.id+"markdownFiles";e.localStore.removeItem(a),e.localStore.setItem(a,i)}};Y.prototype.updateCurrentInstanceSecuritys=function(){const t=this;if(t.currentInstance.securityArrs!=null&&t.currentInstance.securityArrs.length>0){const e=t.getSecurityStores();e!=null&&e!=null&&e.forEach(function(n){t.currentInstance.securityArrs.forEach(function(r){n.key==r.key&&n.name==r.name&&(r.value=n.value)})})}};Y.prototype.getSecurityStores=function(){let t=null;if(window.localStorage){const n=window.localStorage.SwaggerBootstrapUiCacheSecuritys;n!=null&&n!=null&&n!=""&&(t=c.json5parse(cacheApis))}return t};Y.prototype.setInstanceBasicPorperties=function(t){this.basicInfoOAS3(t)};Y.prototype.basicInfoOAS2=function(t){const e=this;let n="",r="",i="",a="",s="";const o=c.getValue(t,"host","",!0);if(e.currentInstance.host=o,t!=null&&t!=null){if(t.hasOwnProperty("info")){const u=t.info;if(n=c.getValue(u,"title","",!0),r=c.getValue(u,"description","",!0),u.hasOwnProperty("contact")){const f=u.contact;i=c.getValue(f,"name","",!0)}a=c.getValue(u,"version","",!0),s=c.getValue(u,"termsOfService","",!0)}e.currentInstance.title=n,e.currentInstance.description=fe.parse(r),e.currentInstance.contact=i,e.currentInstance.version=a,e.currentInstance.termsOfService=s,e.currentInstance.basePath=c.getValue(t,"basePath","/",!0);const l={swagger:t.swagger||"2.0",info:t.info||{},host:t.host||"",basePath:t.basePath||"/",schemes:t.schemes||[],consumes:t.consumes||["*/*"],produces:t.produces||["*/*"]};e.currentInstance.openApiBaseInfo=l}else n=e.currentInstance.title};Y.prototype.basicInfoOAS3=function(t){const e=this;let n="",r="",i="",a="",s="",o=c.getValue(t,"host","",!0);if(c.checkUndefined(t)){if(t.hasOwnProperty("servers")&&c.checkUndefined(t.servers)){const u=t.servers;c.arrNotEmpty(u)&&(o=u[0].url)}if(e.currentInstance.host=o,t.hasOwnProperty("info")&&c.checkUndefined(t.info)){const u=t.info;if(n=c.getValue(u,"title","",!0),r=c.getValue(u,"description","",!0),u.hasOwnProperty("contact")){const f=u.contact;i=c.getValue(f,"name","-",!0)}a=c.getValue(u,"version","-",!0),s=c.getValue(u,"termsOfService","",!0),e.currentInstance.title=n,e.currentInstance.description=fe.parse(r),e.currentInstance.contact=i,e.currentInstance.version=a,e.currentInstance.termsOfService=s,e.currentInstance.basePath=c.getValue(t,"basePath","",!0)}else n=e.currentInstance.title;const l={openapi:t.openapi||"3.0.3",info:t.info||{},servers:t.servers||[]};e.currentInstance.openApiBaseInfo=l}};Y.prototype.deepAdditionalProperties=function(t,e){let n="";if(c.checkUndefined(t)){if(t.hasOwnProperty("additionalProperties")){const r=t.additionalProperties;return this.deepAdditionalProperties(r,e)}else if(t.hasOwnProperty("$ref")){const r=t.$ref;new RegExp(c.oasmodel(e),"ig").test(r)&&(n=RegExp.$1)}else if(t.hasOwnProperty("items")){const r=t.items;if(r.hasOwnProperty("$ref")){const i=r.$ref;new RegExp(c.oasmodel(e),"ig").test(i)&&(n=RegExp.$1)}}}return n};Y.prototype.analysisDefinitionAsync=function(t,e,n){n?this.analysisDefinitionAsyncOAS2(t,e,n):this.analysisDefinitionAsyncOAS3(t,e,n)};Y.prototype.analysisDefinitionAsyncOAS2=function(t,e,n){const r=this,i=e.name;if(t!=null&&typeof t<"u"&&t!=null&&t.hasOwnProperty("definitions")){const p=t.definitions;for(const v in p)if(v==i){const S=p[v];if(c.checkUndefined(S)&&(e.description=c.propValue("description",S,""),e.type=c.propValue("type",S,""),e.title=c.propValue("title",S,""),S.hasOwnProperty("required")&&(e.required=S.required),S.hasOwnProperty("properties"))){const A=S.properties,P={};for(const O in A){const _=A[O];!_.hasOwnProperty("readOnly")||_.readOnly;const m=new xn;_.hasOwnProperty("readOnly")&&(m.readOnly=_.readOnly),m.name=O,m.originProperty=_,m.type=c.propValue("type",_,"string"),m.description=c.propValue("description",_,""),_.hasOwnProperty("enum")&&(m.enum=_.enum,m.description!=""&&(m.description+=","),m.description=m.description+"可用值:"+m.enum.join(",")),m.type=="string"?m.example=c.getExample("example",_,""):m.example=c.propValue("example",_,""),m.format=c.propValue("format",_,""),m.required=c.propValue("required",_,!1),e.required.length>0&&e.required.indexOf(m.name)>-1&&(m.required=!0);let w="";if(_.hasOwnProperty("type")){const y=_.type;if(_.hasOwnProperty("example"))y=="string"?w=c.getExample("example",_,""):w=_.example;else if(c.checkIsBasicType(y)){if(w=c.getBasicTypeValue(y),y=="object"&&_.hasOwnProperty("additionalProperties")){const h=_.additionalProperties;r.log("------解析map-=-----------additionalProperties,defName:"+v);const V=this.deepAdditionalProperties(h,n);if(c.strNotBlank(V)){var a=[];a.push(v);var s=null;V!=v?s=r.findRefDefinition(V,p,!1,a,null,n):s=r.findRefDefinition(V,p,!0,a,v,n),w={additionalProperties1:s},m.type=V,m.refType=V}else if(h.hasOwnProperty("$ref")){var o=h.$ref,l=new RegExp(c.oasmodel(n),"ig");if(l.test(o)){var u=RegExp.$1,s=null,a=[];a.push(v),u!=v?s=r.findRefDefinition(u,p,!1,a,null,n):s=r.findRefDefinition(u,p,!0,a,v,n),w={additionalProperties1:s},r.log("解析map-=完毕："),r.log(w),m.type=u,m.refType=u}}else if(h.hasOwnProperty("items")){var o=h.items.$ref,l=new RegExp(c.oasmodel(n),"ig");if(l.test(o)){var u=RegExp.$1,s=null,a=[];a.push(v),u!=v?s=r.findRefDefinition(u,p,!1,a,null,n):s=r.findRefDefinition(u,p,!0,a,v,n);const k=[];k.push(s),w={additionalProperties1:k},r.log("解析map-=完毕："),r.log(w),m.type="array",m.refType=u}}}}else if(y=="array"){w=[];const h=_.items;var f=h.$ref;h.hasOwnProperty("type")&&h.type=="array"&&(f=h.items.$ref),h.hasOwnProperty("enum")&&(m.description!=""&&(m.description+=","),m.description=m.description+"可用值:"+h.enum.join(","));var l=new RegExp(c.oasmodel(n),"ig");if(l.test(f)){var g=RegExp.$1;m.refType=g;var a=[];a.push(v),g!=v?w.push(r.findRefDefinition(g,p,!1,a,null,n)):w.push(r.findRefDefinition(g,p,!0,a,v,n))}else m.refType=h.type}}else if(_.hasOwnProperty("$ref")){var f=_.$ref,l=new RegExp(c.oasmodel(n),"ig");if(l.test(f)){var g=RegExp.$1;m.refType=g;var a=[];a.push(v),g!=v?w=r.findRefDefinition(g,p,!1,a,null,n):w=r.findRefDefinition(g,p,!0,a,null,n)}}else w={};m.value=w,m.format!=null&&m.format!=null&&m.format!=""&&(m.type+="("+m.format+")"),m.refType!=null&&m.refType!=""&&m.type=="string"&&(m.type=m.refType),r.checkPropertiesExists(e.properties,m)||(e.properties.push(m),m.readOnly||(P[O]=w))}e.value=P}Tr(e,r,e,e,n),e.init=!0;break}}};Y.prototype.analysisDefinitionAsyncOAS3=function(t,e,n){const r=this,i=e.name;let a={};if(c.checkUndefined(t)&&t.hasOwnProperty("components")){const v=t.components;if(c.checkUndefined(v)&&v.hasOwnProperty("schemas")){const S=v.schemas;c.checkUndefined(S)&&(a=S)}}if(c.checkUndefined(a)){for(const v in a)if(v==i){const S=a[v];if(c.checkUndefined(S)&&(e.description=c.propValue("description",S,""),e.type=c.propValue("type",S,""),e.title=c.propValue("title",S,""),S.hasOwnProperty("required")&&(e.required=S.required),S.hasOwnProperty("properties"))){const A=S.properties,P={};for(const O in A){const _=A[O];!_.hasOwnProperty("readOnly")||_.readOnly;const m=new xn;r.validateJSR303(m,_),_.hasOwnProperty("readOnly")&&(m.readOnly=_.readOnly),m.name=O,m.originProperty=_,m.type=c.propValue("type",_,"string"),m.description=c.propValue("description",_,""),_.hasOwnProperty("enum")&&(m.enum=_.enum,m.description!=""&&(m.description+=","),m.description=m.description+"可用值:"+m.enum.join(",")),m.type=="string"?m.example=c.getExample("example",_,""):m.example=c.propValue("example",_,""),m.format=c.propValue("format",_,""),m.required=c.propValue("required",_,!1),e.required.length>0&&e.required.indexOf(m.name)>-1&&(m.required=!0);let w="";if(_.hasOwnProperty("type")){const y=_.type;if(_.hasOwnProperty("example"))y=="string"?w=c.getExample("example",_,""):w=_.example;else if(_.hasOwnProperty("default"))w=c.propValue("default",_,"");else if(c.checkIsBasicType(y)){if(w=c.getBasicTypeValue(y),y=="object"&&_.hasOwnProperty("additionalProperties")){const h=_.additionalProperties;r.log("------解析map-=-----------additionalProperties,defName:"+v);const V=this.deepAdditionalProperties(h,n);if(c.strNotBlank(V)){var s=[];s.push(v);var o=null;V!=v?o=r.findRefDefinition(V,a,!1,s,null,n):o=r.findRefDefinition(V,a,!0,s,v,n),w={additionalProperties1:o},m.type=V,m.refType=V}else if(h.hasOwnProperty("$ref")){var l=h.$ref,u=new RegExp(c.oasmodel(n),"ig");if(u.test(l)){var f=RegExp.$1,o=null,s=[];s.push(v),f!=v?o=r.findRefDefinition(f,a,!1,s,null,n):o=r.findRefDefinition(f,a,!0,s,v,n),w={additionalProperties1:o},r.log("解析map-=完毕："),r.log(w),m.type=f,m.refType=f}}else if(h.hasOwnProperty("items")){var l=h.items.$ref,u=new RegExp(c.oasmodel(n),"ig");if(u.test(l)){var f=RegExp.$1,o=null,s=[];s.push(v),f!=v?o=r.findRefDefinition(f,a,!1,s,null,n):o=r.findRefDefinition(f,a,!0,s,v,n);const k=[];k.push(o),w={additionalProperties1:k},r.log("解析map-=完毕："),r.log(w),m.type="array",m.refType=f}}}}else if(y=="array"){w=[];const h=_.items;var g=h.$ref;h.hasOwnProperty("type")&&h.type=="array"&&(g=h.items.$ref),h.hasOwnProperty("enum")&&(m.description!=""&&(m.description+=","),m.description=m.description+"可用值:"+h.enum.join(","));var u=new RegExp(c.oasmodel(n),"ig");if(u.test(g)){var p=RegExp.$1;m.refType=p;var s=[];s.push(v),p!=v?w.push(r.findRefDefinition(p,a,!1,s,null,n)):w.push(r.findRefDefinition(p,a,!0,s,v,n))}else m.refType=h.type}}else if(_.hasOwnProperty("$ref")){var g=_.$ref,u=new RegExp(c.oasmodel(n),"ig");if(u.test(g)){var p=RegExp.$1;m.refType=p;var s=[];s.push(v),p!=v?w=r.findRefDefinition(p,a,!1,s,null,n):w=r.findRefDefinition(p,a,!0,s,null,n)}}else w={};m.value=w,m.format!=null&&m.format!=null&&m.format!=""&&(m.type+="("+m.format+")"),m.refType!=null&&m.refType!=""&&m.type=="string"&&(m.type=m.refType),r.checkPropertiesExists(e.properties,m)||(e.properties.push(m),m.readOnly||(P[O]=w))}e.value=P}Tr(e,r,e,e,n),e.init=!0;break}}};Y.prototype.analysisDefinitionRefModel=function(t){this.analysisDefinitionRefModelOAS3(t)};Y.prototype.analysisDefinitionRefModelOAS2=function(t){const e=this;if(t!=null&&typeof t<"u"&&t!=null&&t.hasOwnProperty("definitions")){const r=t.definitions;for(const i in r){var n=n=new jt;n.name=i,n.ignoreFilterName=i,e.currentInstance.difArrs.push(n);const a=new St;a.name=i,a.id=Ie(i),e.currentInstance.swaggerTreeTableModels[i]=a}}};Y.prototype.analysisDefinitionRefModelOAS3=function(t){const e=this;if(t!=null&&typeof t<"u"&&t!=null&&t.hasOwnProperty("components")){const r=t.components;if(c.checkUndefined(r)&&r.hasOwnProperty("schemas")){const i=r.schemas;if(c.checkUndefined(i))for(const a in i){var n=n=new jt;n.name=a,n.ignoreFilterName=a,e.currentInstance.difArrs.push(n);const s=new St;s.name=a,s.id=Ie(a),e.currentInstance.swaggerTreeTableModels[a]=s}}}};Y.prototype.analysisDefinitionRefTableModel=function(t,e){const n=this;let r=e;if(!e.init){const l=this.instances[0];for(name in l.swaggerTreeTableModels)if(name==e.name&&(r=l.swaggerTreeTableModels[name],!r.init)){r.init=!0;const u=l.getOASDefinitions(),f=l.oas2();if(c.checkUndefined(u)){for(const g in u)if(g==r.name){const p=u[g];if(c.checkUndefined(p)){if(p.hasOwnProperty("properties")){const v=p.properties,S=p.hasOwnProperty("required")?p.required:[];for(var i in v){const A=v[i];A.refType=n.getSwaggerModelRefType(A,f);var a=new Re;a.pid=r.id,a.readOnly=A.readOnly,a.parentTypes.push(e.name),a.parentTypes.push(g),a.name=i,a.type=A.type;const P=c.propValue("format",A,"");c.strNotBlank(P)&&(a.type=a.type+"("+P+")"),A.type!="array"&&A.refType!=null&&A.refType!=null&&A.refType!=""&&(a.type=A.refType),c.checkUndefined(A.require)?a.require=A.required:S.includes(i)&&(a.require=!0),a.example=A.example,a.txtValue=A.example,c.checkUndefined(A.example)||(a.example=A.default,a.txtValue=A.default,a.value=A.default);var s=c.propValue("description",A,"");if(A.hasOwnProperty("enum")&&(s!=""&&(s+=","),s=s+"可用值:"+A.enum.join(",")),a.description=c.replaceMultipLineStr(s),n.validateJSR303(a,A),r.params.push(a),c.checkUndefined(A.refType)&&!c.checkIsBasicType(A.refType)){a.schemaValue=A.refType,a.schema=!0;var o=n.getOriginalDefinitionByName(A.refType,u);c.checkUndefined(o)&&(a.parentTypes.includes(A.refType)||kt(a,u,o,r,n,f))}else if(A.type=="array"&&A.refType!=null&&A.refType!=null&&A.refType!=""){a.schemaValue=A.refType;var o=n.getOriginalDefinitionByName(A.refType,u);c.checkUndefined(o)&&(a.parentTypes.includes(A.refType)||kt(a,u,o,r,n,f))}}}else if(p.hasOwnProperty("additionalProperties")){const v=n.getSwaggerModelRefType(p,f);var a=new Re;a.pid=r.id,a.readOnly=!0,a.parentTypes.push(e.name),a.name="additionalProperty1",a.type=c.propValue("title",p,""),c.checkUndefined(v)&&(a.type=v),a.parentTypes.push(e.name),r.params.push(a);var o=n.getOriginalDefinitionByName(v,u);c.checkUndefined(o)&&(a.schemaValue=a.type,a.schema=!0,a.parentTypes.includes(v)||kt(a,u,o,r,n,f))}else if(p.hasOwnProperty("enum")){var a=new Re;a.pid=r.id,a.readOnly=p.readOnly,a.parentTypes.push(e.name),a.parentTypes.push(g),a.name=i,a.type=p.type,a.example=p.example,s="可用值:"+p.enum.join(","),a.description=c.replaceMultipLineStr(s),r.params.push(a)}}}}l.refTreeTableModels[name]=r}}return r};Y.prototype.getOriginalDefinitionByName=function(t,e){const n={name:t};for(const r in e)if(r==t){n.properties=e[r];break}return n};Y.prototype.getSwaggerModelRefArray=function(t,e){let n=!1;return t.hasOwnProperty("type")&&t.type=="array"&&(n=!0),n};Y.prototype.getSwaggerModelRefType=function(t,e){let n=null;if(t.hasOwnProperty("type")){const s=t.type;if(c.checkIsBasicType(s)){if(s=="object")if(t.hasOwnProperty("additionalProperties")){const o=t.additionalProperties,l=this.deepAdditionalProperties(o,e);if(c.strNotBlank(l))n=l;else if(o.hasOwnProperty("$ref")){var r=o.$ref,i=new RegExp(c.oasmodel(e),"ig");i.test(r)&&(n=RegExp.$1)}else if(o.hasOwnProperty("items")){var r=o.items.$ref,i=new RegExp(c.oasmodel(e),"ig");i.test(r)&&(n=RegExp.$1)}}else n=s}else if(s=="array"){const o=t.items;if(c.checkUndefined(o)){var a=o.$ref;o.hasOwnProperty("type")&&o.type=="array"&&(a=o.items.$ref);var i=new RegExp(c.oasmodel(e),"ig");i.test(a)?n=RegExp.$1:n=o.type}}}else if(t.hasOwnProperty("$ref")){var a=t.$ref,i=new RegExp(c.oasmodel(e),"ig");i.test(a)&&(n=RegExp.$1)}return n};function kt(t,e,n,r,i,a){if(c.checkUndefined(e)){for(const l in e)if(l==n.name){const u=e[l];if(c.checkUndefined(u)){const f=c.propValue("description",u,null);if(f!=null&&(t.description=f),u.hasOwnProperty("properties")){const g=u.properties,p=u.hasOwnProperty("required")?u.required:[];for(const v in g){const S=g[v];S.refType=i.getSwaggerModelRefType(S,a);var s=new Re;s.pid=t.id,s.readOnly=S.readOnly,t.parentTypes.forEach(function(P){s.parentTypes.push(P)}),s.parentTypes.push(l),s.level=t.level+1,s.name=v,s.type=S.type,S.type!="array"&&S.refType!=null&&S.refType!=null&&S.refType!=""&&(s.type=S.refType),c.checkUndefined(S.require)?s.require=S.required:p.includes(v)&&(s.require=!0),s.example=S.example,s.txtValue=S.example,c.checkUndefined(S.example)||(s.example=S.default,s.txtValue=S.default,s.value=S.default);let A=c.propValue("description",S,"");if(S.hasOwnProperty("enum")&&(A!=""&&(A+=","),A=A+"可用值:"+S.enum.join(",")),s.description=c.replaceMultipLineStr(A),t.children==null&&(t.children=[]),t.children.push(s),c.checkUndefined(S.refType)&&!c.checkIsBasicType(S.refType)){s.schemaValue=S.refType,s.schema=!0;var o=i.getOriginalDefinitionByName(S.refType,e);s.parentTypes.includes(S.refType)||kt(s,e,o,r,i,a)}else if(S.type=="array"&&S.refType!=null&&S.refType!=null&&S.refType!=""){s.schemaValue=S.refType;var o=i.getOriginalDefinitionByName(S.refType,e);s.parentTypes.includes(S.refType)||kt(s,e,o,r,i,a)}}}else if(u.hasOwnProperty("additionalProperties")){const g=i.getSwaggerModelRefType(u,a);var s=new Re;s.pid=r.id,s.readOnly=!0,s.parentTypes.push(r.name),s.name="additionalProperty1",s.type=c.propValue("title",u,""),c.checkUndefined(g)&&(s.type=g),t.children==null&&(t.children=[]),t.children.push(s);var n=i.getOriginalDefinitionByName(g,e);c.checkUndefined(n)&&(s.schemaValue=s.type,s.schema=!0,s.parentTypes.includes(g)||kt(s,e,n,r,i,a))}}}}}Y.prototype.analysisDefinition=function(t){const e=this;if(this.currentInstance.swaggerData=t,e.analysisDefinitionRefModel(t),t!=null&&typeof t<"u"&&t!=null&&t.hasOwnProperty("tags")){const r=t.tags,i=[];if(r.forEach(function(a){const s=c.getValue(a,"description","",!0);let o=null,l=null;if(c.checkExtensionsUndefined(a)){const f=c.getExtensions(a);o=c.getValue(f,"x-author","",!0),l=c.getValue(f,"x-order","",!0)}c.strBlank(l)&&(l=c.getValue(a,"x-order","",!0));const u=new Qn(c.toString(a.name,"").replace(/\//g,"-"),s);c.strNotBlank(o)&&(u.author=o),c.strNotBlank(l)&&(u.order=parseInt(l)),i.push(u)}),c.arrNotEmpty(i))i.sort((a,s)=>a.order-s.order);else{const a=new Qn("default","default");i.push(a)}e.currentInstance.tags=i}if(t!=null&&typeof t<"u"&&t!=null&&t.hasOwnProperty("paths")){const r=t.paths,i=c.appendBasePath(r,e.currentInstance.basePath);var n=new Date().getTime();const s=["get","post","put","delete","patch","options","trace","head","connect"],o=JSON.parse(JSON.stringify(r));if(Object.values(o).forEach(l=>Object.values(l).forEach(u=>u.tags=[u.summary])),Cu.forEachOf(o,function(l,u,f){let g=null;s.forEach(function(p){if(l.hasOwnProperty(p)&&(g=l[p],g!=null)){const v=e.createApiInfoInstance(u,p,g,i);e.currentInstance.paths.push(v),v.hashCollections.forEach(function(S){e.currentInstance.pathsDictionary[S]=v}),e.methodCountAndDown(p.toUpperCase())}})}),e.settings.enableFilterMultipartApis){e.currentInstance.paths.forEach(function(u){const f=e.currentInstance.pathFilters[u.url];if(f==null||f==null){const g=new Tp;g.methods.push(u),e.currentInstance.pathFilters[u.url]=g}else f.methods.push(u),e.currentInstance.pathFilters[u.url]=f});let l=[];e.log(e.currentInstance.pathFilters);for(const u in e.currentInstance.pathFilters){const f=e.currentInstance.pathFilters[u];l=l.concat(f.api(e.settings.enableFilterMultipartApiMethodType))}e.log("重新赋值。。。。。"),e.currentInstance.paths=l}}e.readSecurityContextSchemes(t),e.currentInstance.clearOAuth2(),e.currentInstance.tags.forEach(function(r){if(e.currentInstance.firstLoad)e.currentInstance.paths.forEach(function(i){i.tags.forEach(function(a){a==r.name&&(c.strNotBlank(i.author)||c.strNotBlank(r.author)&&(i.author=r.author),r.childrens.push(i))})});else{let i=!1,a=!1;e.currentInstance.paths.forEach(s=>{s.tags.forEach(o=>{o==r.name&&(e.currentInstance.cacheInstance.cacheApis.includes(s.id)||(i=!0,s.hasNew=!0),c.strNotBlank(s.author)||c.strNotBlank(r.author)&&(s.author=r.author),r.childrens.push(s))})}),i?r.hasNew=!0:(e.currentInstance.paths.forEach(function(s){s.tags.forEach(function(o){o==r.name&&s.hasChanged&&(a=!0)})}),r.hasChanged=a)}r.childrens.sort(function(i,a){return i.order-a.order})}),e.currentInstance.firstLoad?e.cacheApis.push(e.currentInstance.cacheInstance):e.cacheApis.length>0&&e.cacheApis.forEach(function(r){r.id==e.currentInstance.cacheInstance.id&&(r.updateApis=e.currentInstance.cacheInstance.updateApis)}),e.storeCacheApis(),e.log("开始解析refTreetableparameters属性................."),e.log(new Date().toTimeString());var n=new Date().getTime();if(e.settings.enableSwaggerBootstrapUi){const r=t.swaggerBootstrapUi;c.checkUndefined(r)&&c.checkUndefined(r.markdownFiles)&&r.markdownFiles.forEach(function(i){const a=Ie(i.title);e.currentInstance.markdownFiles.push({...i,id:a})})}e.log("解析refTreetableparameters结束,耗时："+(new Date().getTime()-n)),e.log(new Date().toTimeString())};Y.prototype.readSecurityContextSchemes=function(t){if(this.currentInstance.oas2()){if(t!=null&&typeof t<"u"&&t!=null&&t.hasOwnProperty("securityDefinitions")){var e=t.securityDefinitions;this.readSecurityContextSchemesCommon(e)}}else if(c.checkUndefined(t)&&t.hasOwnProperty("components")){const n=t.components;if(c.checkUndefined(n)&&n.hasOwnProperty("securitySchemes")){var e=n.securitySchemes;this.readSecurityContextSchemesCommon(e)}}};Y.prototype.readSecurityContextSchemesCommon=function(t){const e=this;if(c.checkUndefined(t)){const i=e.getGlobalSecurityInfos(),a=[];for(const s in t){const o=t[s];if(o.type=="oauth2")if(this.currentInstance.oas2()){var n=new Ut(c.getValue(o,"flow","",!0),c.getValue(o,"tokenUrl","",!0),c.getValue(o,"authorizationUrl","",!0),e.currentInstance.id);n.sync(),e.currentInstance.oauths=n}else for(const l in o.flows){var n=new Ut(l,o.flows[l].tokenUrl||"",o.flows[l].authorizationUrl||"",e.currentInstance.id);n.sync(),e.currentInstance.oauths=n}else{var r=new Pp;r.key=s,r.type=o.type,r.name=o.name,r.in=o.in,r.schema=c.propValue("scheme",o,null),c.strBlank(o.name)&&(r.name=s,r.in="header"),i!=null&&i!=null&&i.forEach(function(u){u.key==r.key&&u.name==r.name&&(r.value=u.value)});const l=r.key+r.type+r.in+r.name+r.schema;r.id=Ie(l),a.push(r)}}a.length>0?(e.currentInstance.securityArrs=a,e.log("解析securityDefinitions属性--------------------------------------------------------------->")):e.clearSecuritys()}else e.clearSecuritys()};function Ut(t,e,n,r){this.grantType=t,this.name="Authorization",this.username=null,this.password=null,this.redirectUri=null,this.granted=!1,this.tokenUrl=e,this.authorizeUrl=n,this.clientId="",this.clientSecret="",this.accessToken=null,this.tokenType=null,this.state="OAuth"+r}Ut.prototype.syncOAuth=function(){const t=this;if(window.localStorage){const e=t.state,n=window.localStorage.getItem(e);if(c.strNotBlank(n)){const r=c.json5parse(n);this.accessToken=c.getValue(r,"tokenType","Bearer",!0)+" "+r.accessToken,this.tokenType=r.tokenType,this.granted=!0}}};Ut.prototype.sync=function(){if(this.syncOAuth(),window.localStorage){const t="SELF"+this.state,e=window.localStorage.getItem(t);if(c.strNotBlank(e)){const n=c.json5parse(e);this.grantType==n.grantType&&(this.granted=n.granted,c.strBlank(this.clientId)&&(this.clientId=n.clientId),c.strBlank(this.clientSecret)&&(this.clientSecret=n.clientSecret),c.strBlank(this.redirectUri)&&(this.redirectUri=n.redirectUri),c.strBlank(this.username)&&(this.username=n.username),c.strBlank(this.password)&&(this.password=n.password),c.strBlank(this.accessToken)&&(this.accessToken=n.accessToken),c.strBlank(this.tokenType)&&(this.tokenType=n.tokenType)),window.localStorage.setItem(t,c.json5stringify(this))}else window.localStorage.setItem(t,c.json5stringify(this))}};Ut.prototype.clear=function(){this.username=null,this.password=null,this.accessToken=null,this.redirectUri=null,this.granted=!1,this.clientId="",this.clientSecret="",this.accessToken=null,this.tokenType=null;const t="SELF"+this.state;window.localStorage.setItem(t,c.json5stringify(this))};Y.prototype.clearSecuritys=function(){this.localStore.setItem(Ne.globalSecurityParamPrefix,[])};Y.prototype.processModels=function(){const t=this;if(c.checkUndefined(this.currentInstance.refTreeTableModels))for(const n in t.currentInstance.refTreeTableModels){t.currentInstance.modelNames.push(n);const r=t.currentInstance.refTreeTableModels[n];var e=new Ip(r.id,n);c.arrNotEmpty(r.params)&&r.params.forEach(function(i){const a={...i,pid:"-1"};e.data.push(a),i.schema&&Si(e,t.currentInstance.refTreeTableModels,i,a)}),t.currentInstance.models.push(e)}};function Si(t,e,n,r){if(c.checkUndefined(n.schemaValue)){const i=e[n.schemaValue];c.checkUndefined(i)&&(r.parentTypes.push(n.schemaValue),c.arrNotEmpty(i.params)&&i.params.forEach(function(a){const s={childrenTypes:a.childrenTypes,def:a.def,description:a.description,enum:a.enum,example:a.example,id:a.id,ignoreFilterName:a.ignoreFilterName,in:a.in,level:a.level,name:a.name,parentTypes:a.parentTypes,pid:a.pid,readOnly:a.readOnly,require:a.require,schema:a.schema,schemaValue:a.schemaValue,show:a.show,txtValue:a.txtValue,type:a.type,validateInstance:a.validateInstance,validateStatus:a.validateStatus,value:a.value};s.pid=n.id,s.parentParam=n,t.data.push(s),s.schema&&r.parentTypes.indexOf(s.schemaValue)==-1&&Si(t,e,s,r)}))}}Y.prototype.createDescriptionElement=function(){};Y.prototype.selectInstanceByGroupId=function(t){const e=this;let n=null;return e.instances.forEach(function(r){if(r.id==t){n=r;return}}),n};Y.prototype.getI18n=function(){return this.i18nInstance};Y.prototype.createDetailMenu=function(t){const e=this,n=[];e.log(e.currentInstance);const r=e.currentInstance.name,i=e.currentInstance.id;if(n.push({groupName:r,groupId:i,key:"kmain",name:"主页",i18n:"home",component:"Main",icon:"icon-home",path:"home"}),(c.arrNotEmpty(e.currentInstance.securityArrs)||c.checkUndefined(e.currentInstance.oauths))&&n.push({groupName:r,groupId:i,key:"Authorize"+Ie(r),name:"Authorize",tabName:"Authorize("+r+")",component:"Authorize",icon:"icon-authenticationsystem",path:"Authorize/"+r}),e.settings.enableSwaggerModels){const o=c.getValue(e.settings,"swaggerModelName","Swagger Models",!0);n.push({groupName:r,groupId:i,key:"swaggerModel",name:o,component:"SwaggerModels",tabName:o+"("+r+")",icon:"icon-modeling",path:"SwaggerModels/"+r})}e.settings.enableDocumentManage&&n.push({groupName:r,groupId:i,key:"documentManager",i18n:"manager",name:"文档管理",icon:"icon-zdlxb",path:"documentManager",children:[{groupName:r,groupId:i,key:"globalParameters",name:"全局参数设置",i18n:"globalsettings",tabName:"全局参数设置("+r+")",component:"GlobalParameters",path:"GlobalParameters-"+r},{groupName:r,groupId:i,key:"OfficelineDocument",name:"离线文档",i18n:"officeline",tabName:"离线文档("+r+")",component:"OfficelineDocument",path:"OfficelineDocument-"+r},{groupName:r,groupId:i,key:"Settings",name:"个性化设置",i18n:"selfSettings",component:"Settings",path:"Settings"}]}),c.arrNotEmpty(e.currentInstance.markdownFiles)&&e.currentInstance.markdownFiles.forEach(o=>{const l=o.id.substr(0,10),u={groupName:r,groupId:i,key:o.id,name:o.name,i18n:"other",icon:"icon-APIwendang",path:r+"-"+l+"-omd",children:[]};c.arrNotEmpty(o.children)&&o.children.forEach(f=>{u.children.push({groupName:r,groupId:i,key:f.id,component:"OtherMarkdown",name:f.title,path:f.id})}),n.push(u)}),e.currentInstance.tags.forEach(function(o){const l=o.childrens.length;let u="";if(l==0)e.settings.showTagStatus?u=o.name+"("+o.description+")":u=o.name,n.push({groupName:r,groupId:i,key:Ie(u),name:u,icon:"icon-APIwendang",path:""});else{e.settings.showTagStatus?u=o.name+"("+o.description+")":u=o.name;const f={groupName:r,groupId:i,key:Ie(u),name:u,icon:"icon-APIwendang",path:r+"/"+o.name,hasNew:o.hasNew||o.hasChanged,num:null,children:[]};o.childrens.forEach(function(g){const p={groupName:r,groupId:i,key:Ie(r+g.summary+g.operationId),name:g.summary,description:g.description,path:g.operationId,component:"ApiInfo",hasNew:g.hasNew||g.hasChanged,deprecated:g.deprecated,url:g.url,method:g.methodType.toUpperCase(),menuClass:"knife4j-menu-left-style"};f.children.push(p)}),f.num=f.children.length,n.push(f)}});const a=c.formatter(n);t&&(e.globalMenuDatas=e.globalMenuDatas.concat(a)),this.menuData=a;const s=rt();s.setMenuData(a),s.setGitVersion(this.settings.enableVersion),e.log("菜单初始化完成...")};Y.prototype.checkPropertiesExists=function(t,e){let n=!1;return t!=null&&t!=null&&t.length>0&&e!=null&&e!=null&&t.forEach(function(r){r.name==e.name&&r.in==e.in&&r.type==e.type&&(n=!0)}),n};Y.prototype.storeCacheApis=function(){const t=this;t.log("缓存对象...storeCacheApis-->"),t.localStore.setItem(Ne.globalGitApiVersionCaches,t.cacheApis)};Y.prototype.initApiInfoAsync=function(t){t.oas2?this.initApiInfoAsyncOAS2(t):this.initApiInfoAsyncOAS3(t)};Y.prototype.analysisAllOfOAS2=function(t){const e=this,n=t[0].$ref,i=new RegExp("#/definitions/(.*)$","ig").exec(n);if(!i){e.error("Unable to parse original object name from "+n);return}const a=i[1],o=e.currentInstance.swaggerData.definitions,l=JSON.parse(JSON.stringify(o[a])),u=t[1].properties;l.properties=Object.assign(l.properties,u);const f=[];for(const A in u)if(u.hasOwnProperty(A)){const P=u[A];if(P.hasOwnProperty("$ref")){const _=new RegExp("#/definitions/(.*)$","ig").exec(P.$ref);if(!_){e.error("Unable to parse element object name from "+P.$ref);return}const m=_[1];f.push(m)}if(P.hasOwnProperty("items")){const _=new RegExp("#/definitions/(.*)$","ig").exec(P.items.$ref);if(!_){e.error("Unable to parse element object name from "+P.items.$ref);return}const m=_[1];f.push("[]"+m)}P.hasOwnProperty(P.type!="array")&&f.push(P.type)}const g=f.join(","),p=`${a}<${g}>`;if(o[p])return p;o[p]=l;const v=new jt;v.name=p,v.ignoreFilterName=p,e.currentInstance.difArrs.push(v);const S=new St;return S.name=p,S.id=Ie(p),e.currentInstance.swaggerTreeTableModels[p]=S,p};Y.prototype.initApiInfoAsyncOAS2=function(t){const e=this,n=t.originalApiInfo;if(!t.init){n.hasOwnProperty("parameters")&&n.parameters.forEach(function(A){const P=c.propValue("name",A,""),O=c.propValue("in",A,"");t.includeParameters!=null?c.filterIncludeParameters(O,P,t.includeParameters)&&e.assembleParameter(A,t):c.filterIgnoreParameters(O,P,t.ignoreParameters)&&e.assembleParameter(A,t)});let p=null,v=!1;if(typeof n.responses<"u"&&n.responses!=null){const S=n.responses;let A=0;for(const P in S){var r=new Pi;const O=S[P];r.code=P,r.oas2=t.oas2,r.description=O.description;let _=null;if(O.hasOwnProperty("schema")&&c.checkUndefined(O.schema)){const m=O.schema,w=new RegExp("#/definitions/(.*)$","ig");if(m.hasOwnProperty("$ref")){if(w.test(m.$ref)){var i=RegExp.$1;t.responseParameterRefName=i,r.responseParameterRefName=i,p=i,_=i,r.schema=i}}else if(m.hasOwnProperty("type")){const y=m.type;if(y=="array"){if(v=!0,m.hasOwnProperty("items")){const h=m.items;let V=h.$ref;if(h.hasOwnProperty("type")&&h.type=="array"&&(V=h.items.$ref),w.test(V)){var i=RegExp.$1;t.responseParameterRefName=i,r.responseParameterRefName=i,p=i,_=i,r.schema=i}}}else if(m.hasOwnProperty("properties")){r.schema=y;const h=new jt;h.name=t.id,h.description="自定义Schema",p=h.name,_=h.name,r.responseParameterRefName=h.name;const V=m.properties,E={};for(const C in V){const j=new xn;j.name=C;const ee=V[C];j.originProperty=ee,j.type=c.propValue("type",ee,"string"),j.description=c.propValue("description",ee,""),j.example=c.getExample("example",ee,""),j.format=c.propValue("format",ee,""),j.required=c.propValue("required",ee,!1),h.required.length>0&&h.required.includes(j.name)&&(j.required=!0);let d="";if(ee.hasOwnProperty("type")){const x=ee.type;ee.hasOwnProperty("example")?x=="string"?d=c.getExample("example",ee,""):d=ee.example:c.checkIsBasicType(x)&&(d=c.getBasicTypeValue(x))}j.value=d,j.format!=null&&j.format!=null&&j.format!=""&&(j.type+="("+j.format+")"),h.properties.push(j),E[C]=d}h.value=E,h.init=!0,e.currentInstance.difArrs.push(h)}else if(c.checkIsBasicType(y)){let h=y;t.responseText=y,t.responseBasicType=!0,r.responseText=y,r.responseBasicType=!0;const V=c.propValue("format",m,"");c.strNotBlank(V)&&(h=h+"("+V+")"),r.schemaTitle=h}}if(m.hasOwnProperty("allOf")){const y=m.allOf;_=e.analysisAllOfOAS2(y),t.responseParameterRefName=_,r.responseParameterRefName=_,p=_,r.schema=_}}if(_!=null){var a=e.getDefinitionByName(_,t.oas2);if(a!=null){if(v){var s=[];s.push(a.value),r.responseValue=c.json5stringifyFormat(s,null,"	"),r.responseJson=s}else r.responseValue=c.json5stringifyFormat(a.value,null,"	"),r.responseJson=a.value;if(a.hasOwnProperty("properties")){var o=a.properties;o.forEach(function(m){const w=new Re;if(w.name=m.name,!c.checkParamArrsExists(r.responseParameters,w)){if(r.responseParameters.push(w),w.description=c.replaceMultipLineStr(m.description),m.type==null||m.type==""){if(m.refType!=null&&!c.checkIsBasicType(m.refType)){w.schemaValue=m.refType,w.schema=!0,w.type=m.refType;var y=e.getDefinitionByName(m.refType,t.oas2);$e(r,e,y,w),w.parentTypes.push(m.refType),Ue(r,e,y,w)}}else if(w.type=m.type,!c.checkIsBasicType(m.type))if(m.refType!=null){if(!c.checkIsBasicType(m.refType)){w.schemaValue=m.refType,w.schema=!0,m.type!="array"&&(w.type=m.refType);var y=e.getDefinitionByName(m.refType,t.oas2);$e(r,e,y,w),w.parentTypes.push(m.refType),Ue(r,e,y,w)}}else{w.schemaValue=m.type,w.schema=!0,w.type=m.type;var y=e.getDefinitionByName(m.type,t.oas2);$e(r,e,y,w),w.parentTypes.push(m.type),Ue(r,e,y,w)}}})}}}if(r.schema!=null&&r.schema!=null&&(A=A+1),O.hasOwnProperty("headers")){const m=O.headers;r.responseHeaderParameters=[];for(const w in m){const y={...m[w],name:w,id:Ie(w),pid:"-1"};r.responseHeaderParameters.push(y)}P=="200"&&(t.responseHeaderParameters=r.responseHeaderParameters)}t.responseCodes.push(r)}t.multipartResponseSchemaCount=A,A>1&&(t.multipartResponseSchema=!0)}if(p!=null&&!t.multipartResponseSchema){for(var l=0;l<e.currentInstance.difArrs.length;l++){const A=e.currentInstance.difArrs[l];if(A.name==p)if(A.init||e.analysisDefinitionAsync(e.currentInstance.swaggerData,A),v){var s=[];s.push(A.value),t.responseValue=c.json5stringifyFormat(s,null,"	"),t.responseJson=s}else t.responseValue=c.json5stringifyFormat(A.value,null,"	"),t.responseJson=A.value}var a=e.getDefinitionByName(p,t.oas2);if(a!=null&&a.hasOwnProperty("properties")){var o=a.properties;o.forEach(function(P){const O=new Re;if(O.name=P.name,!c.checkParamArrsExists(t.responseParameters,O)){if(t.responseParameters.push(O),O.description=c.replaceMultipLineStr(P.description),P.type==null||P.type==""){if(P.refType!=null&&!c.checkIsBasicType(P.refType)){O.schemaValue=P.refType,O.schema=!0,O.type=P.refType;var _=e.getDefinitionByName(P.refType,t.oas2);$e(t,e,_,O),O.parentTypes.push(P.refType),Ue(t,e,_,O)}}else if(O.type=P.type,!c.checkIsBasicType(P.type))if(P.refType!=null){if(!c.checkIsBasicType(P.refType)){O.schemaValue=P.refType,P.type!="array"&&(O.type=P.refType);var _=e.getDefinitionByName(P.refType,t.oas2);$e(t,e,_,O),O.parentTypes.push(P.refType),Ue(t,e,_,O)}}else{O.schemaValue=P.type,O.type=P.type;var _=e.getDefinitionByName(P.type,t.oas2);$e(t,e,_,O),O.parentTypes.push(P.type),Ue(t,e,_,O)}}})}}if(t.parameters!=null){let S=0,A=null;if(t.parameters.forEach(function(P){P.in=="body"&&(S=S+1,P.txtValue!=null&&P.txtValue!=""&&(A=P.txtValue,P.schemaValue))}),S==1&&(t.requestValue=A,c.arrNotEmpty(t.consumes))){const P=t.consumes.filter(O=>c.strNotBlank(O));if(c.arrNotEmpty(P)&&P.some(_=>_.toLowerCase().indexOf("xml")>-1)&&c.strNotBlank(A)){const _=c.json5parse(A);t.requestValue=_,t.xmlRequest=!0}}if(n.consumes!=null&&n.consumes!=null&&n.consumes.length>0){const P=n.consumes[0];if(P.indexOf("multipart/form-data")>=0)t.contentType=P,t.contentValue="form-data";else if(P.indexOf("text/plain")>=0)t.contentType=P,t.contentValue="raw",t.contentShowValue="Text(text/plain)",t.contentMode="text";else if(P.indexOf("application/xml")>=0)t.contentType=P,t.contentValue="raw",t.contentShowValue="XML(application/xml)",t.contentMode="xml";else{var u="application/x-www-form-urlencoded;charset=UTF-8",f="x-www-form-urlencoded";if(c.arrNotEmpty(t.parameters)){for(var l=0;l<t.parameters.length;l++){var g=t.parameters[l];if(g.in=="body")if(g.schemaValue=="MultipartFile"||g.type=="file"){u="multipart/form-data",f="form-data";break}else{f="raw",u="application/json",P.indexOf("application/json")>=0&&(u=P),t.contentMode="json";break}else if(g.schemaValue=="MultipartFile"||g.type=="file"){u="multipart/form-data",f="form-data";break}}t.contentType=u,t.contentValue=f}else P.indexOf("application/json")>=0?(t.contentType=P,t.contentValue="raw",t.contentShowValue="JSON(application/json)",t.contentMode="json"):(t.contentType=P,t.contentValue=f)}}else{for(var u="application/x-www-form-urlencoded;charset=UTF-8",f="x-www-form-urlencoded",l=0;l<t.parameters.length;l++){var g=t.parameters[l];if(g.in=="body")if(g.schemaValue=="MultipartFile"||g.type=="file"){u="multipart/form-data",f="form-data";break}else{f="raw",u="application/json",t.contentMode="json";break}else if(g.schemaValue=="MultipartFile"||g.type=="file"){u="multipart/form-data",f="form-data";break}}t.contentType=u,t.contentValue=f}}else t.contentType="application/x-www-form-urlencoded",t.contentValue="x-www-form-urlencoded";t.init=!0}};Y.prototype.initApiInfoAsyncOAS3=function(t){const e=this,n=t.originalApiInfo;if(!t.init){const A=e.currentInstance.swaggerData.components.parameters;let P=null;if(n.hasOwnProperty("parameters")&&n.parameters.forEach(function(w){const y=c.propValue("name",w,""),h=c.propValue("in",w,""),V=c.propValue("$ref",w,"");if(c.strNotBlank(V)){const E=c.getRefParameterName(V);if(c.strNotBlank(E)&&c.checkUndefined(A)){const C=A[E];c.checkUndefined(C)&&e.assembleParameterOAS3(C,t,[])}}else t.includeParameters!=null?c.filterIncludeParameters(h,y,t.includeParameters)&&e.assembleParameterOAS3(w,t,[]):c.filterIgnoreParameters(h,y,t.ignoreParameters)&&e.assembleParameterOAS3(w,t,[])}),n.hasOwnProperty("requestBody")){const m=n.requestBody;if(c.checkUndefined(m)&&m.hasOwnProperty("content")&&c.checkUndefined(m.content)){const w=m.content;for(const y in w){const h=w[y];if(c.checkUndefined(h)&&h.hasOwnProperty("schema")){var r=h.schema;if(c.arrNotEmpty(t.consumes))t.consumes.includes(y)||t.consumes.push(y);else{const V=[];V.push(y),t.consumes=V}if(r.hasOwnProperty("properties")&&c.checkUndefined(r.properties)){const V=r.properties;let E=[];r.hasOwnProperty("required")&&c.checkUndefined(r.required)&&(E=r.required);for(const C in V){const j=V[C];j.name=C,j.in="query",e.assembleParameterOAS3(j,t,E)}}else{const V=e.getSwaggerModelRefArray(r,t.oas2);var i=e.getSwaggerModelRefType(r,t.oas2);if(c.checkUndefined(i)){let E=null,C=c.camelCase(i);V?(E={type:"array",items:{originalRef:i,$ref:"#/components/schemas/"+i}},C=C+"s"):E={originalRef:i,$ref:"#/components/schemas/"+i};let j={in:"body",description:i,name:C,required:!0,schema:E};i=="object"&&(j=Object.assign({},j,{default:"{}"})),e.assembleParameterOAS3(j,t,[])}}}}if(c.arrNotEmpty(t.consumes)){const y=t.consumes.filter(h=>h.indexOf("xml")>-1);c.arrNotEmpty(y)&&(t.consumes=["application/xml"])}}}let O=null,_=!1;if(typeof n.responses<"u"&&n.responses!=null){const m=n.responses;let w=0;for(const y in m){var a=new Pi;const h=m[y];a.oas2=t.oas2,a.code=y,a.description=h.description;let V=null;if(h.hasOwnProperty("content")&&c.checkUndefined(h.content)){const E=h.content;for(const C in E){const j=E[C];if(j.hasOwnProperty("schema")&&c.checkUndefined(j.schema)){t.produces.includes(C)||(t.produces.push(C),t.produces[0]==="*/*"&&t.produces.shift());var r=j.schema;P=new $t(r);const d=new RegExp(c.oasmodel(t.oas2),"ig");if(r.hasOwnProperty("$ref")){if(d.test(r.$ref)){var s=RegExp.$1;t.responseParameterRefName=s,a.responseParameterRefName=s,O=s,V=s,a.schema=s}}else if(r.hasOwnProperty("type")){const x=r.type;if(x=="array"){if(_=!0,r.hasOwnProperty("items")){const k=r.items;let T=k.$ref;if(k.hasOwnProperty("type")&&k.type=="array"&&(T=k.items.$ref),d.test(T)){var s=RegExp.$1;t.responseParameterRefName=s,a.responseParameterRefName=s,O=s,V=s,a.schema=s}}}else if(r.hasOwnProperty("properties")){a.schema=x;const k=new jt;k.name=t.id,k.description="自定义Schema",O=k.name,V=k.name,a.responseParameterRefName=k.name;const T=r.properties,z={};for(const B in T){const L=new xn;L.name=B;const Z=T[B];L.originProperty=Z,L.type=c.propValue("type",Z,"string"),L.description=c.propValue("description",Z,""),L.example=c.getExample("example",Z,""),L.format=c.propValue("format",Z,""),L.required=c.propValue("required",Z,!1),k.required.length>0&&k.required.includes(L.name)&&(L.required=!0);let de="";if(Z.hasOwnProperty("type")){var i=Z.type;Z.hasOwnProperty("example")?i=="string"?de=c.getExample("example",Z,""):de=Z.example:c.checkIsBasicType(i)&&(de=c.getBasicTypeValue(i))}L.value=de,L.format!=null&&L.format!=null&&L.format!=""&&(L.type+="("+L.format+")"),k.properties.push(L),z[B]=de}k.value=z,k.init=!0,e.currentInstance.difArrs.push(k)}else c.checkIsBasicType(x)&&(t.responseText=x,t.responseBasicType=!0,a.responseText=x,a.responseBasicType=!0)}}else P=new $t(j);break}}if(h.hasOwnProperty("schema")&&c.checkUndefined(h.schema))var r=h.schema;if(V!=null){var o=e.getDefinitionByName(V,t.oas2);if(o!=null){if(_){var l=[];l.push(o.value),a.responseValue=c.json5stringifyFormat(l,null,"	"),a.responseJson=l}else a.responseValue=c.json5stringifyFormat(o.value,null,"	"),a.responseJson=o.value;if(o.hasOwnProperty("properties")){var u=o.properties;u.forEach(function(E){const C=new Re;if(C.name=E.name,!c.checkParamArrsExists(a.responseParameters,C)){if(a.responseParameters.push(C),C.description=c.replaceMultipLineStr(E.description),E.type==null||E.type==""){if(E.refType!=null&&!c.checkIsBasicType(E.refType)){C.schemaValue=E.refType,C.schema=!0,C.type=E.refType;var j=e.getDefinitionByName(E.refType,t.oas2);$e(a,e,j,C),C.parentTypes.push(E.refType),Ue(a,e,j,C)}}else if(C.type=E.type,!c.checkIsBasicType(E.type))if(E.refType!=null){if(!c.checkIsBasicType(E.refType)){C.schemaValue=E.refType,C.schema=!0,E.type!="array"&&(C.type=E.refType);var j=e.getDefinitionByName(E.refType,t.oas2);$e(a,e,j,C),C.parentTypes.push(E.refType),Ue(a,e,j,C)}}else{C.schemaValue=E.type,C.schema=!0,C.type=E.type;var j=e.getDefinitionByName(E.type,t.oas2);$e(a,e,j,C),C.parentTypes.push(E.type),Ue(a,e,j,C)}}})}}}if(a.schema!=null&&a.schema!=null&&(w=w+1),h.hasOwnProperty("headers")){const E=h.headers;a.responseHeaderParameters=[];for(const C in E){const j={...E[C],name:C,id:Ie(C),pid:"-1"};a.responseHeaderParameters.push(j)}y=="200"&&(t.responseHeaderParameters=a.responseHeaderParameters)}c.checkUndefined(P)&&c.checkUndefined(P.responseText)&&(a.responseValue=P.responseValue,a.responseJson=P.responseText),t.responseCodes.push(a)}t.multipartResponseSchemaCount=w,w>1&&(t.multipartResponseSchema=!0)}if(O!=null&&!t.multipartResponseSchema){for(var f=0;f<e.currentInstance.difArrs.length;f++){const w=e.currentInstance.difArrs[f];if(w.name==O)if(w.init||e.analysisDefinitionAsync(e.currentInstance.swaggerData,w),_){var l=[];l.push(w.value),t.responseValue=c.json5stringifyFormat(l,null,"	"),t.responseJson=l}else t.responseValue=c.json5stringifyFormat(w.value,null,"	"),t.responseJson=w.value}var o=e.getDefinitionByName(O,t.oas2);if(o!=null&&o.hasOwnProperty("properties")){var u=o.properties;u.forEach(function(y){const h=new Re;if(h.name=y.name,!c.checkParamArrsExists(t.responseParameters,h)){if(t.responseParameters.push(h),h.description=c.replaceMultipLineStr(y.description),y.type==null||y.type==""){if(y.refType!=null&&!c.checkIsBasicType(y.refType)){h.schemaValue=y.refType,h.schema=!0,h.type=y.refType;var V=e.getDefinitionByName(y.refType,t.oas2);$e(t,e,V,h),h.parentTypes.push(y.refType),Ue(t,e,V,h)}}else if(h.type=y.type,!c.checkIsBasicType(y.type))if(y.refType!=null){if(!c.checkIsBasicType(y.refType)){h.schemaValue=y.refType,y.type!="array"&&(h.type=y.refType);var V=e.getDefinitionByName(y.refType,t.oas2);$e(t,e,V,h),h.parentTypes.push(y.refType),Ue(t,e,V,h)}}else{h.schemaValue=y.type,h.type=y.type;var V=e.getDefinitionByName(y.type,t.oas2);$e(t,e,V,h),h.parentTypes.push(y.type),Ue(t,e,V,h)}}})}}if(t.parameters!=null){let m=0,w=null;if(t.parameters.forEach(function(y){y.in=="body"&&(m=m+1,y.txtValue!=null&&y.txtValue!=""&&(w=y.txtValue,y.schemaValue))}),m==1&&(t.requestValue=w,c.arrNotEmpty(t.consumes))){const y=t.consumes.filter(h=>c.strNotBlank(h));c.arrNotEmpty(y)&&y.some(V=>V.toLowerCase().indexOf("xml")>-1)&&c.strNotBlank(w)&&(c.json5parse(w),t.requestValue=tmpJsonObject,t.xmlRequest=!0)}if(t.consumes!=null&&t.consumes!=null&&t.consumes.length>0){const y=t.consumes[0];if(y.indexOf("multipart/form-data")>=0)t.contentType=y,t.contentValue="form-data";else if(y.indexOf("text/plain")>=0)t.contentType=y,t.contentValue="raw",t.contentShowValue="Text(text/plain)",t.contentMode="text";else if(y.indexOf("application/xml")>=0)t.contentType=y,t.contentValue="raw",t.contentShowValue="XML(application/xml)",t.contentMode="xml";else{var g="application/x-www-form-urlencoded;charset=UTF-8",p="x-www-form-urlencoded";if(c.arrNotEmpty(t.parameters)){for(var f=0;f<t.parameters.length;f++){var v=t.parameters[f];if(v.in=="body")if(v.schemaValue=="MultipartFile"||v.type=="file"){g="multipart/form-data",p="form-data";break}else{p="raw",g="application/json",y.indexOf("application/json")>=0&&(g=y),t.contentMode="json";break}else if(v.schemaValue=="MultipartFile"||v.type=="file"){g="multipart/form-data",p="form-data";break}}t.contentType=g,t.contentValue=p}else y.indexOf("application/json")>=0?(t.contentType=y,t.contentValue="raw",t.contentShowValue="JSON(application/json)",t.contentMode="json"):(t.contentType=y,t.contentValue=p)}}else{for(var g="application/x-www-form-urlencoded;charset=UTF-8",p="x-www-form-urlencoded",f=0;f<t.parameters.length;f++){var v=t.parameters[f];if(v.in=="body")if(v.schemaValue=="MultipartFile"||v.type=="file"){g="multipart/form-data",p="form-data";break}else{p="raw",g="application/json",t.contentMode="json";break}else if(v.schemaValue=="MultipartFile"||v.type=="file"){g="multipart/form-data",p="form-data";break}}t.contentType=g,t.contentValue=p}}c.checkUndefined(P)&&c.checkUndefined(P.responseText)&&(t.responseValue=P.responseValue,t.responseJson=P.responseText),t.init=!0}};Y.prototype.createApiInfoInstance=function(t,e,n,r){const i=this,a=new Vp;i.currentInstance.oas2()?a.oas2=!0:a.oas2=!1,a.originalApiInfo=n;const s=i.currentInstance.basePath;let o="",l=!1;if(s!=""&&s!="/"&&(l=!0),r||(s.charAt(s.length-1)==="/"?o+=s:o+=s+"/"),i.springdoc){const g=window.location.pathname,p=new RegExp("(.*?)/doc.html.*$","ig");let v="";p.test(g)&&(v=RegExp.$1),o+=v}o+=t;let u=o;if(c.strNotBlank(i.currentInstance.servicePath)){let g=i.currentInstance.servicePath;o.startsWith("/")||(g=g+"/"),g=g+o,u=g}a.showUrl=u,a.instanceId=i.currentInstance.id,a.host=i.currentInstance.host,a.url=u,a.originalUrl=u,a.basePathFlag=l,a.methodType=e.toUpperCase(),c.checkUndefined(i.configuration.supportedSubmitMethods)&&(i.configuration.supportedSubmitMethods.includes(e.toLowerCase())||(a.configurationDebugSupport=!1));const f=u+e.toUpperCase();if(a.id=Ie(f),a.versionId=c.md5Id(n),n!=null){this.readApiSecurity(a,n),this.readOpenApiSpeci(t,a,n,i.currentInstance.swaggerData,i.currentInstance.openApiBaseInfo),n.hasOwnProperty("deprecated")&&(a.deprecated=n.deprecated),c.arrEmpty(n.tags)&&(n.tags=["default"]),a.consumes=c.getValue(n,"consumes",[].concat("application/x-www-form-urlencoded"),!0),a.description=c.getValue(n,"description","",!0),c.strNotBlank(a.description)&&(a.description=fe.parse(a.description)),n.operationId=n.operationId||a.id,a.operationId=n.operationId,a.summary=c.toString(n.summary,"").replace(/\//g,"-"),c.strBlank(a.summary)&&(a.summary=n.operationId),a.tags=n.tags,this.readApiInfoInstanceExt(a,n),a.operationId=c.getValue(n,"operationId","",!0);const g=i.currentInstance.name;a.tags.forEach(function(p){const v="#/"+g+"/"+p+"/"+a.operationId;a.hashCollections.push(v)}),c.checkUndefined(n.produces)?a.produces=n.produces:a.produces=[].concat("*/*");for(let p=0;p<n.tags.length;p++){const v=n.tags[p];i.mergeApiInfoSelfTags(v)}}return a};Y.prototype.readApiSecurity=function(t,e){t.oas2?this.readApiSecurityOAS2(t,e):this.readApiSecurityOAS3(t,e)};Y.prototype.readApiSecurityOAS2=function(t,e){if(c.checkUndefined(e)&&e.hasOwnProperty("security")){const n=e.security;if(c.arrNotEmpty(n)){let r=[];n.forEach(i=>{const a=Object.keys(i||{});c.arrNotEmpty(a)&&(r=r.concat(a))}),c.arrNotEmpty(r)&&(t.securityFlag=!0,t.securityKeys=r)}}};Y.prototype.readApiSecurityOAS3=function(t,e){if(c.checkUndefined(e)&&e.hasOwnProperty("security")){const n=e.security;if(c.arrNotEmpty(n)){let r=[];n.forEach(i=>{const a=Object.keys(i||{});c.arrNotEmpty(a)&&(r=r.concat(a))}),c.arrNotEmpty(r)&&(t.securityFlag=!0,t.securityKeys=r)}}};Y.prototype.readOpenApiSpeci=function(t,e,n,r,i){try{const a=lo(i||{}),s=e.methodType.toLowerCase(),o={};o[s]=n;const l={};l[t]=o,a.paths=l;let u={};e.oas2?(u=this.readOpenApiSpeciOAS2(n,r),a.definitions=u):(u=this.readOpenApiSpeciOAS3(n,r),a.components=u),e.openApiRaw=a}catch(a){window.console&&window.console.error(a)}};Y.prototype.readOpenApiSpeciOAS2=function(t,e){const n={},r=c.json5stringify(t),i=new RegExp("'#/definitions/(.*?)'","ig");let a;const s=e.definitions,o=[];for(;(a=i.exec(r))!=null;){const l=a[1];c.checkUndefined(l)&&(o.includes(l)||o.push(l))}return o.length>0&&(o.forEach(l=>{Sr(l,o,s,!0)}),o.forEach(l=>{n[l]=s[l]})),n};function Sr(t,e,n,r){if(c.checkUndefined(t)&&c.strNotBlank(t)){const i=n[t];if(c.checkUndefined(i)){const a=c.json5stringify(i);let s;r?s=new RegExp("'#/definitions/(.*?)'","ig"):s=new RegExp("'#/components/schemas/(.*?)'","ig");let o;for(;(o=s.exec(a))!=null;){const l=o[1];c.checkUndefined(l)&&(e.includes(l)||(e.push(l),Sr(l,e,n,r)))}}}}Y.prototype.readOpenApiSpeciOAS3=function(t,e){const n={},r=c.json5stringify(t),i=new RegExp("'#/components/schemas/(.*?)'","ig");let a;const s=e.components,o=[];for(;(a=i.exec(r))!=null;){const l=a[1];c.checkUndefined(l)&&(o.includes(l)||o.push(l))}return o.length>0&&(o.forEach(l=>{Sr(l,o,s,!1)}),o.forEach(l=>{n[l]=s[l]})),n};Y.prototype.readApiInfoInstanceExt=function(t,e){t.oas2?this.readApiInfoInstanceExtOAS2(t,e):this.readApiInfoInstanceExtOAS3(t,e)};Y.prototype.readApiInfoInstanceExtOAS2=function(t,e){if(e.hasOwnProperty("x-ignoreParameters")){const n=e["x-ignoreParameters"];t.ignoreParameters=n[0]}if(e.hasOwnProperty("x-includeParameters")){const n=e["x-includeParameters"];t.includeParameters=n[0]}if(e.hasOwnProperty("x-order")&&(t.order=parseInt(e["x-order"])),e.hasOwnProperty("x-author")){const n=e["x-author"];c.strNotBlank(n)&&(t.author=n)}};Y.prototype.readApiInfoInstanceExtOAS3=function(t,e){if(c.checkExtensionsUndefined(e)){const n=c.getExtensions(e);if(n.hasOwnProperty("x-ignoreParameters")){const r=n["x-ignoreParameters"];t.ignoreParameters=r[0]}if(n.hasOwnProperty("x-includeParameters")){const r=n["x-includeParameters"];t.includeParameters=r[0]}if(n.hasOwnProperty("x-order")&&(t.order=parseInt(n["x-order"])),n.hasOwnProperty("x-author")){const r=n["x-author"];c.strNotBlank(r)&&(t.author=r)}}};Y.prototype.assembleParameter=function(t,e){const n=this,r=c.propValue("name",t,""),i=c.propValue("in",t,""),a=new Re;a.name=r,a.ignoreFilterName=r,a.type=c.propValue("type",t,""),a.in=i,a.require=c.propValue("required",t,!1),a.description=c.replaceMultipLineStr(c.propValue("description",t,""));const s=c.propValue("format",t,"");if(c.strNotBlank(s)){const f=a.type+"("+s+")";a.type=f}if(t.hasOwnProperty("enum")){a.enum=t.enum;const f=t.enum.join(",");t.description!=null&&t.description!=null&&t.description!=""?a.description=t.description+",可用值:"+f:a.description="枚举类型,可用值:"+f}if(t.hasOwnProperty("default")&&(a.txtValue=t.default,a.example=t.default),t.hasOwnProperty("x-example")&&(a.txtValue=t["x-example"],c.checkUndefined(a.txtValue)&&(a.example=a.txtValue)),t.hasOwnProperty("schema")){a.schema=!0;const f=t.schema,g=f.type;if(g=="array"){a.type=g;const p=f.items;var o=p.$ref,l=c.getClassName(o,e.oas2);a.schemaValue=l;var u=n.getDefinitionByName(l,e.oas2);if(u!=null)a.def=u,a.value=u.value,u.description!=null&&u.description!=null&&u.description!=""&&(a.description=c.replaceMultipLineStr(u.description));else{const v=p.type;a.schemaValue=p.type,v=="string"&&(a.value=""),v=="integer"&&(p.format!=null&&p.format!=null&&p.format=="int32"?a.value=0:a.value=0xea2e8e293c84000),v=="number"&&(p.format!=null&&p.format!=null&&p.format=="double"?a.value=.5:a.value=0)}}else if(f.hasOwnProperty("$ref")){var o=t.schema.$ref,l=c.getClassName(o,e.oas2);a.type!="array"&&(a.type=l),a.schemaValue=l;var u=n.getDefinitionByName(l,e.oas2);u!=null&&(a.def=u,a.value=u.value,u.description!=null&&u.description!=null&&u.description!=""&&(a.description=c.replaceMultipLineStr(u.description)))}else if(f.hasOwnProperty("additionalProperties")){const p=f.additionalProperties;if(p.hasOwnProperty("$ref")){var l=c.getClassName(p.$ref,e.oas2);if(l!=null){var u=n.getDefinitionByName(l,e.oas2);u!=null&&(a.def=u,a.value={additionalProperties1:u.value},u.description!=null&&u.description!=null&&u.description!=""&&(a.description=c.replaceMultipLineStr(u.description)))}}else if(p.hasOwnProperty("items")){const v=p.items;var l=c.getClassName(v.$ref,e.oas2);if(l!=null){var u=n.getDefinitionByName(l,e.oas2);if(u!=null){const P=[];P.push(u.value),a.def=u,a.value={additionalProperties1:P},u.description!=null&&u.description!=null&&u.description!=""&&(a.description=c.replaceMultipLineStr(u.description))}}}}else{if(f.hasOwnProperty("type")&&(a.type=f.type,f.hasOwnProperty("example"))){const p=c.propValue("example",f,null);p!=null&&p!=""&&(a.txtValue=p,a.example=p)}a.value=""}}if(t.hasOwnProperty("items")){const f=t.items;if(f.hasOwnProperty("$ref")){var o=f.$ref,l=c.getClassName(o,e.oas2);a.schemaValue=l;var u=n.getDefinitionByName(l,e.oas2);u!=null&&(a.def=u,a.value=u.value,u.description!=null&&u.description!=null&&u.description!=""&&(a.description=c.replaceMultipLineStr(u.description)))}else f.hasOwnProperty("type")&&(a.schemaValue=f.type),a.value=""}if(a.in=="body"&&(rn(a.txtValue)||nn(a.txtValue))){const f=(()=>{if(Rt(a.value)){let g=null;const p=c.json5parse(c.json5stringify(a.value));return e.includeParameters!=null?g=new Ir(p,e.includeParameters).result():(g=p,e.ignoreParameters&&Rt(a.value)&&Object.keys(e.ignoreParameters||{}).forEach(v=>{const S=v.startsWith(`${r}.`)?v.replace(`${r}.`,""):v;Object.keys(g||{}).forEach(A=>{if(vi(g,S))A===S&&an(g,A);else{let P=S;S.endsWith("$")||(P+="$"),new RegExp(P,"g").test(A)&&an(g,A)}})})),g}return null})();rn(f)||nn(f)?a.type==="array"&&(a.txtValue=JSON.stringify([])):a.txtValue=c.json5stringify(a.type==="array"?[f]:f,null,"	")}(a.in=="query"||a.in=="formData")&&a.schema&&c.checkUndefined(a.value)&&c.strBlank(a.txtValue)&&(a.txtValue=c.json5stringify(a.type==="array"?[a.value]:a.value,null,"	")),n.validateJSR303(a,t),c.checkParamArrsExists(e.parameters,a)||(Object.keys(e.ignoreParameters||{}).includes(r)||e.parameters.push(a),a.schema&&a.parentTypes.push(a.schemaValue))};Y.prototype.assembleParameterOAS3=function(t,e,n){const r=this,i=c.propValue("name",t,""),a=c.propValue("in",t,""),s=new Re;if(s.deprecated=c.propValue("deprecated",t,!1),s.allowEmptyValue=c.propValue("allowEmptyValue",t,!1),s.name=i,s.ignoreFilterName=i,s.type=c.propValue("type",t,""),s.in=a,s.require=c.propValue("required",t,!1),c.arrNotEmpty(n)&&(s.require=n.includes(s.name)),s.description=c.replaceMultipLineStr(c.propValue("description",t,"")),t.hasOwnProperty("enum")){s.enum=t.enum;var o=t.enum.join(",");t.description!=null&&t.description!=null&&t.description!=""?s.description=t.description+",可用值:"+o:s.description="枚举类型,可用值:"+o}t.hasOwnProperty("default")&&(s.txtValue=t.default),t.hasOwnProperty("x-example")&&(s.txtValue=t["x-example"],c.checkUndefined(s.txtValue)&&(s.example=s.txtValue)),t.hasOwnProperty("example")&&(s.example=c.propValue("example",t,""),s.txtValue=c.propValue("example",t,"")),c.propValue("format",t,"")=="binary"&&(s.type="file");let u={};if(t.hasOwnProperty("schema")){s.schema=!0;const S=t.schema,A=S.type;if(s.type=A,A=="array"){s.type=A;const P=S.items;var f=P.$ref,g=c.getClassName(f,e.oas2);s.schemaValue=g;var p=r.getDefinitionByName(g,e.oas2);if(p!=null)s.def=p,s.value=p.value,p.description!=null&&p.description!=null&&p.description!=""&&(s.description=c.replaceMultipLineStr(p.description));else{const O=P.type;s.schemaValue=P.type,O=="string"&&(s.value=""),O=="integer"&&(P.format!=null&&P.format!=null&&P.format=="int32"?s.value=0:s.value=0xea2e8e293c84000),O=="number"&&(P.format!=null&&P.format!=null&&P.format=="double"?s.value=.5:s.value=0);var v=c.propValue("enum",S,[]);if(c.arrNotEmpty(v)){s.enum=v;var o=v.join(",");t.description!=null&&t.description!=null&&t.description!=""?s.description=t.description+",可用值:"+o:s.description="枚举类型,可用值:"+o}}}else if(c.checkIsBasicType(A)){const P=c.propValue("format",S,"");if(c.strNotBlank(P)){const _=A+"("+P+")";s.type=_,P=="binary"&&(s.type="file")}var v=c.propValue("enum",S,[]);if(c.arrNotEmpty(v)){s.enum=v;var o=v.join(",");t.description!=null&&t.description!=null&&t.description!=""?s.description=t.description+",可用值:"+o:s.description="枚举类型,可用值:"+o}S.hasOwnProperty("default")&&(s.example=c.propValue("default",S,null),s.txtValue=c.propValue("default",S,null))}else if(S.hasOwnProperty("$ref")){var f=t.schema.$ref,g=c.getClassName(f,e.oas2);s.type!="array"&&(s.type=g),s.schemaValue=g;var p=r.getDefinitionByName(g,e.oas2);p!=null&&(s.def=p,s.value=p.value,p.description!=null&&p.description!=null&&p.description!=""&&(s.description=c.replaceMultipLineStr(p.description)))}else if(S.hasOwnProperty("additionalProperties")){const P=S.additionalProperties;if(P.hasOwnProperty("$ref")){var g=c.getClassName(P.$ref,e.oas2);if(g!=null){var p=r.getDefinitionByName(g,e.oas2);p!=null&&(s.def=p,s.value={additionalProperties1:p.value},p.description!=null&&p.description!=null&&p.description!=""&&(s.description=c.replaceMultipLineStr(p.description)))}}else if(P.hasOwnProperty("items")){const O=P.items;var g=c.getClassName(O.$ref,e.oas2);if(g!=null){var p=r.getDefinitionByName(g,e.oas2);if(p!=null){const w=[];w.push(p.value),s.def=p,s.value={additionalProperties1:w},p.description!=null&&p.description!=null&&p.description!=""&&(s.description=c.replaceMultipLineStr(p.description))}}}}else S.hasOwnProperty("type")&&(s.type=S.type),s.value="";u=S}else u=t;if(r.validateJSR303(s,u),t.hasOwnProperty("items")){const S=t.items;if(S.hasOwnProperty("$ref")){var f=S.$ref,g=c.getClassName(f,e.oas2);s.schemaValue=g;var p=r.getDefinitionByName(g,e.oas2);p!=null&&(s.schema=!0,s.def=p,s.value=p.value,p.description!=null&&p.description!=null&&p.description!=""&&(s.description=c.replaceMultipLineStr(p.description)))}else S.hasOwnProperty("type")&&(s.schemaValue=S.type),s.value=""}if(s.in=="body"&&(rn(s.txtValue)||nn(s.txtValue))){const S=(()=>{if(Rt(s.value)){let A=null;const P=c.json5parse(c.json5stringify(s.value));return e.includeParameters!=null?A=new Ir(P,e.includeParameters).result():(A=P,e.ignoreParameters&&Rt(s.value)&&Object.keys(e.ignoreParameters||{}).forEach(O=>{const _=O.startsWith(`${i}.`)?O.replace(`${i}.`,""):O;Object.keys(A||{}).forEach(m=>{if(vi(A,_))m===_&&an(A,m);else{let w=_;_.endsWith("$")||(w+="$"),new RegExp(w,"g").test(m)&&an(A,m)}})})),A}return null})();rn(S)||nn(S)?s.type==="array"&&(s.txtValue=JSON.stringify([])):s.txtValue=c.json5stringify(s.type==="array"?[S]:S,null,"	")}(s.in=="query"||s.in=="formData")&&s.schema&&c.checkUndefined(s.value)&&c.strBlank(s.txtValue)&&(s.txtValue=c.json5stringify(s.type==="array"?[s.value]:s.value,null,"	")),c.checkParamArrsExists(e.parameters,s)||(Object.keys(e.ignoreParameters||{}).includes(i)||e.parameters.push(s),s.schema&&s.parentTypes.push(s.schemaValue))};function Ir(t,e){this.json=t;const n=[];Object.keys(e||{}).forEach(i=>{n.push(i.substring(i.indexOf(".")+1))}),this.includeArrays=n}Ir.prototype={isObjInArray(t){return!this.isArray(t)||t.length===0?!1:this.isObject(t[0])},isObject(t){return Object.prototype.toString.call(t)==="[object Object]"},isArray(t){return Object.prototype.toString.call(t)==="[object Array]"},merge(t,e){if(this.isObject(t))for(const n in e)t[n]=this.isObject(t[n])||this.isObjInArray(t[n])?this.merge(t[n],e[n]):t[n]=e[n];else this.isObjInArray(e)?t.forEach((n,r)=>{this.merge(n,e[r])}):t.push.apply(t,e);return t},getByPath(t,e){if(this.isObjInArray(t)){const n=[];return t.forEach(r=>{n.push(this.getByPath(r,e))}),n}else{const n=e.split("."),r=c.json5parse(c.json5stringify(t));let i=r;const a=n.length;for(let s=0;s<a;s++){const o=n[s];for(const l in i)l!==o&&delete i[l];if(!i[o])break;if(this.isObjInArray(i[o])){const l=this.getByPath(i[o],n.slice(s+1).join("."));i[o]=c.json5parse(c.json5stringify(l));break}i=i[o]}return r}},result(){if(this.includeArrays==null||this.includeArrays.length==0)return this.json;{const t=[];return this.includeArrays.forEach(e=>{t.push(this.getByPath(this.json,e))}),t.reduce((e,n)=>e?(this.merge(e,n),e):n)}}};Y.prototype.mergeApiInfoSelfTags=function(t){const e=this;let n=!1;if(e.currentInstance.tags.forEach(function(r){r.name==t&&(n=!0)}),!n){const r=new Qn(t,t);e.currentInstance.tags.push(r)}};Y.prototype.validateJSR303=function(t,e){const n=e.maximum,r=e.minimum,i=e.exclusiveMinimum,a=e.exclusiveMaximum,s=e.pattern,o=e.maxLength,l=e.minLength;n||r||i||a?(t.validateStatus=!0,t.validateInstance={minimum:r,maximum:n,exclusiveMaximum:a,exclusiveMinimum:i}):s?(t.validateStatus=!0,t.validateInstance={pattern:e.pattern}):(o||l)&&(t.validateStatus=!0,t.validateInstance={maxLength:o,minLength:l})};Y.prototype.getDefinitionByName=function(t,e){const n=this;let r=null,i=!0;return c.checkUndefined(e)&&(i=e),n.currentInstance.difArrs.forEach(function(a){if(a.name==t){a.init||(a.init=!0,n.analysisDefinitionAsync(n.currentInstance.swaggerData,a,i)),r=a;return}}),r};Y.prototype.findRefDefinition=function(t,e,n,r,i,a){const s=this;let o="";if(s.currentInstance.definitionValues||(s.currentInstance.definitionValues={}),c.checkUndefined(s.currentInstance.definitionValues[t]))o=s.currentInstance.definitionValues[t];else{for(const p in e)if(t==p){s.log("解析definitionName:"+t);const v=e[p];if(v.hasOwnProperty("properties")){const S=v.properties,A={};for(const P in S){const O=S[P];if(!O.hasOwnProperty("readOnly")||!O.readOnly){let _="";if(O.hasOwnProperty("type")){const m=O.type;if(O.hasOwnProperty("example"))_=c.getExample("example",O,"");else if(O.hasOwnProperty("default"))_=c.getExample("default",O,"");else if(c.checkIsBasicType(m)){if(_=c.getBasicTypeValue(m),m=="object"&&O.hasOwnProperty("additionalProperties")){const w=O.additionalProperties,y=this.deepAdditionalProperties(w,a);if(c.strNotBlank(y))r.indexOf(y)==-1&&(r.push(y),u=s.findRefDefinition(y,e,!1,r,i,a),_={additionalProperties1:u});else if(w.hasOwnProperty("$ref")){const h=w.$ref;var l=new RegExp(c.oasmodel(a),"ig");if(l.test(h)){const V=RegExp.$1;var u=null;n||r.indexOf(V)==-1&&(r.push(V),u=s.findRefDefinition(V,e,n,r,i,a),_={additionalProperties1:u})}}}}else if(m=="array"){_=[];const w=O.items;var f=w.$ref;w.hasOwnProperty("type")&&w.type=="array"&&(f=w.items.$ref);var l=new RegExp(c.oasmodel(a),"ig");if(l.test(f)){var g=RegExp.$1;n||(r.indexOf(g)!=-1?_.push({}):(r.push(t),_.push(s.findRefDefinition(g,e,n,r,i,a))))}}}else if(O.hasOwnProperty("$ref")){var f=O.$ref,l=new RegExp(c.oasmodel(a),"ig");if(l.test(f)){var g=RegExp.$1;n||(r.indexOf(g)!=-1?_={}:(r.push(t),_=s.findRefDefinition(g,e,n,r,i,a)))}}else _={};A[P]=_}}o=A}else o={}}s.currentInstance.definitionValues[t]=o}return o};Y.prototype.methodCountAndDown=function(t){const e=this;let n=!1;if(e.currentInstance.pathArrs.forEach(function(r){r.method==t&&(n=!0,r.count=r.count+1)}),!n){const r=new Sp;r.method=t,r.count=1,e.currentInstance.pathArrs.push(r)}};Y.prototype.getGlobalSecurityInfos=function(){let t=[];if(window.localStorage){const n=window.localStorage.SwaggerBootstrapUiSecuritys;n!=null&&n!=null&&n!=""&&c.json5parse(n).forEach(function(i){t=t.concat(i.value)})}return t};var Sp=function(){this.method="",this.count=0};function $e(t,e,n,r){if(n!=null&&n.hasOwnProperty("properties")){const i=new Op;i.name=n.name,c.checkParamArrsExists(t.responseRefParameters,i)||(t.responseRefParameters.push(i),n.hasOwnProperty("properties")&&n.properties.forEach(function(s){const o=new Re;if(o.pid=r.id,o.name=s.name,o.type=s.type,o.description=c.replaceMultipLineStr(s.description),i.params.push(o),!c.checkIsBasicType(s.refType)&&(o.schemaValue=s.refType,o.schema=!0,r.name!=o.name||r.schemaValue!=s.refType)){const l=e.getDefinitionByName(s.refType,t.oas2);$e(t,e,l,o)}}))}}function Ue(t,e,n,r){if(n!=null&&n.hasOwnProperty("properties")){const i=new St;i.name=n.name,i.id=r.id,Ti(t.responseTreetableRefParameters,i)||(t.responseTreetableRefParameters.push(i),n.hasOwnProperty("properties")&&n.properties.forEach(function(s){const o=new Re;if(r.parentTypes.forEach(function(l){o.parentTypes.push(l)}),s.hasOwnProperty("readOnly")&&(o.readOnly=s.readOnly),o.parentTypes.push(n.name),o.pid=r.id,o.name=s.name,o.type=s.type,o.description=c.replaceMultipLineStr(s.description),o.example=s.example,i.params.push(o),c.checkIsBasicType(s.refType))s.type=="array"&&s.refType!=null&&s.refType!=null&&s.refType!=""&&(o.schemaValue=s.refType);else if(o.schemaValue=s.refType,o.schema=!0,r.name!=o.name||r.schemaValue!=s.refType){const l=e.getDefinitionByName(s.refType,t.oas2);Ii(o.parentTypes,s.refType)||Ue(t,e,l,o)}}))}}function Tr(t,e,n,r,i){var s;if(n!=null)if(c.checkUndefined((s=e.currentInstance.refTreeTableModels)==null?void 0:s[n.name])){var a=e.currentInstance.refTreeTableModels[n.name];r.refTreetableparameters.push(a),r.refTreetableModelsparameters.push(a)}else{var a=new St;a.name=n.name,a.id=t.id;const l=new St;l.name=n.name,l.id=t.id,Ti(r.refTreetableparameters,a)||(r.refTreetableparameters.push(a),r.refTreetableModelsparameters.push(l),n.hasOwnProperty("properties")&&n.properties.forEach(function(f){const g=t.ignoreFilterName+"."+f.name;if(r.ignoreParameters==null||r.ignoreParameters!=null&&!r.ignoreParameters.hasOwnProperty(g)){const p=new Re;if(p.pid=t.id,t.parentTypes.forEach(function(v){p.parentTypes.push(v)}),p.readOnly=f.readOnly,p.parentTypes.push(n.name),p.level=t.level+1,p.name=f.name,p.ignoreFilterName=g,p.type=f.type,f.type!="array"&&f.refType!=null&&f.refType!=null&&f.refType!=""&&(p.type=f.refType),p.in=t.in,p.require=f.required,p.example=f.example,p.description=c.replaceMultipLineStr(f.description),e.validateJSR303(p,f.originProperty),l.params.push(p),f.readOnly||a.params.push(p),c.checkUndefined(f.refType)&&!c.checkIsBasicType(f.refType)){if(p.schemaValue=f.refType,p.schema=!0,t.name!=p.name||t.schemaValue!=f.refType){const v=e.getDefinitionByName(f.refType,i);Ii(p.parentTypes,f.refType)||Tr(p,e,v,r,i)}}else f.type=="array"&&f.refType!=null&&f.refType!=null&&f.refType!=""&&(p.schemaValue=f.refType)}})),e.currentInstance.refTreeTableModels||(e.currentInstance.refTreeTableModels=[]),e.currentInstance.refTreeTableModels[n.name]=a}}function Ii(t,e){let n=!1;return t.forEach(function(r){r==e&&(n=!0)}),n}function Ti(t,e){let n=!1;return t!=null&&t.length>0&&t.forEach(function(r){r.name==e.name&&r.id==e.id&&(n=!0)}),n}var Ip=function(t,e){this.id=t,this.name=e,this.data=[],this.random=parseInt(Math.random()*(6-1+1)+1,10),this.modelClass=function(){let n="panel-default";switch(this.random){case 1:n="panel-success";break;case 2:n="panel-success";break;case 3:n="panel-info";break;case 4:n="panel-warning";break;case 5:n="panel-danger";break;case 6:n="panel-default";break}return n}},Pi=function(){this.oas2=!1,this.code=null,this.description=null,this.schema=null,this.schemaTitle=null,this.refTreetableparameters=[],this.responseCodes=[],this.responseValue=null,this.responseJson=null,this.responseText=null,this.responseBasicType=!1,this.responseHeaderParameters=null,this.responseParameters=[],this.responseParameterRefName="",this.responseRefParameters=[],this.responseTreetableRefParameters=[],this.responseDescriptionFind=function(t,e,n){this.responseDescriptions||(this.responseDescriptions=Zn(this.responseParameters,n));let r=t.join(">")+">"+e;return r=r.replace(/0>/g,""),this.responseDescriptions&&this.responseDescriptions[r]?this.responseDescriptions[r]:""}},Zn=function(t,e,n){const r={};if(typeof t=="object"&&Array.isArray(t))for(const a in t){const s=t[a];if((n==null||n==null)&&(n=[]),typeof s=="object"){const o=s.name;var i;if(r[o]=s.description,s.schemaValue||s.refType){if(n.indexOf(s.schemaValue||s.refType)==-1){n.push(s.schemaValue||s.refType);const l=e.getDefinitionByName(s.schemaValue||s.refType);l&&l.properties&&(i=Zn(l.properties,e,n))}}else s.params&&(i=Zn(s.params,e));if(i)for(const l in i)r[o+">"+l]=i[l]}}return r},Tp=function(){this.api=function(t){let e=[];if(this.methods.length>1){let n=null;for(let r=0;r<this.methods.length;r++)this.methods[r].methodType==t&&(n=this.methods[r]);n==null&&(n=this.methods[0]),e.push(n)}else e=e.concat(this.methods);return e},this.methods=[]};function un(t){this.id=t.id||"",this.name=t.name||"",this.cacheApis=[],this.updateApis={}}var jt=function(){this.init=!1,this.name="",this.ignoreFilterName=null,this.schemaValue=null,this.id="definition"+c.randomMd5(),this.pid="-1",this.level=1,this.childrenTypes=[],this.parentTypes=[],this.description="",this.type="",this.properties=[],this.value=null,this.required=[],this.title="",this.refTreetableparameters=[],this.refTreetableModelsparameters=[]},Pp=function(){this.key="",this.type="",this.in="",this.name="",this.value="",this.id="",this.schema=null},xn=function(){this.basic=!0,this.name="",this.type="",this.refType=null,this.description="",this.example="",this.format="",this.required=!1,this.value=null,this.property=null,this.originProperty=null,this.enum=null,this.readOnly=!1,this.validateStatus=!1,this.validateInstance=null},Qn=function(t,e){this.name=t,this.description=e,this.order=2147483647,this.author=null,this.childrens=[],this.hasNew=!1,this.hasChanged=!1},Vp=function(){this.init=!1,this.oas2=!0,this.openApiRaw="",this.originalApiInfo=null,this.url=null,this.originalUrl=null,this.configurationDebugSupport=!0,this.showUrl="",this.basePathFlag=!1,this.author=null,this.methodType=null,this.description=null,this.summary=null,this.consumes=null,this.operationId=null,this.produces=null,this.tags=null,this.contentType="application/json",this.contentShowValue="JSON(application/json)",this.contentMode="Text",this.contentValue="raw",this.parameters=[],this.parameterSize=0,this.requestValue=null,this.xmlRequest=!1,this.refparameters=[],this.refTreetableparameters=[],this.refTreetableModelsparameters=[],this.reqParameters=[],this.responseCodes=[],this.responseHttpObject=null,this.getHttpSuccessCodeObject=function(){if(this.responseHttpObject==null&&this.responseCodes!=null&&this.responseCodes.length>0){let t=null;for(let e=0;e<this.responseCodes.length;e++)if(this.responseCodes[e].code=="200"){t=this.responseCodes[e];break}this.responseHttpObject=t}return this.responseHttpObject},this.responseValue=null,this.responseJson=null,this.responseText=null,this.hasMoreExample=!1,this.responseTextArray=[],this.responseBasicType=!1,this.responseHeaderParameters=null,this.responseParameters=[],this.responseParameterRefName="",this.responseRefParameters=[],this.responseTreetableRefParameters=[],this.id="",this.versionId="",this.order=2147483647,this.hasNew=!1,this.hasChanged=!1,this.deprecated=!1,this.multipartResponseSchema=!1,this.multipartResponseSchemaCount=0,this.hashCollections=[],this.ignoreParameters=null,this.includeParameters=null,this.instanceId=null,this.host=null,this.securityFlag=!1,this.securityKeys=null},Op=function(){this.name=null,this.params=[]},St=function(){this.init=!1,this.id="",this.name=null,this.params=[],this.level=1,this.childrenTypes=[]},Re=function(){this.name=null,this.ignoreFilterName=null,this.deprecated=!1,this.allowEmptyValue=!1,this.require=!1,this.type=null,this.in=null,this.schema=!1,this.schemaValue=null,this.value=null,this.validateStatus=!1,this.validateInstance=null,this.def=null,this.description=null,this.txtValue=null,this.enum=null,this.id=Fc("param"),this.pid="-1",this.level=1,this.show=!0,this.readOnly=!1,this.example=null,this.childrenTypes=[],this.children=null,this.parentTypes=[]};function gt(t,e,n){this.swaggerData=null,this.oauths=null,this.openApiBaseInfo={},this.id="SwaggerBootstrapUiInstance"+Ie(t+e+n),this.load=!1,this.name=t,this.location=e,this.url=null,this.extUrl=null,c.strNotBlank(n)?this.groupVersion=n:this.groupVersion="2.0",this.allGroupIds=null,this.basePath="",this.baseUrl="",this.host="",this.swagger="",this.description="",this.title="",this.version="",this.termsOfService="",this.contact="",this.difArrs=[],this.definitionValues={},this.swaggerModelsDifinitions=[],this.swaggerTreeTableModels={},this.refTreeTableModels={},this.tags=[],this.paths=[],this.pathsDictionary={},this.globalParameters=[],this.pathArrs=[],this.pathFilters={},this.securityArrs=[],this.models=[],this.modelNames=[],this.modelArrs=[],this.groupId=Ie(t),this.firstLoad=!0,this.groupApis=[],this.cacheInstance=null,this.markdownFiles=[],this.i18n=null,this.header=null,this.basicAuth=null,this.servicePath=null,this.desktop=!1,this.desktopCode=null}gt.prototype.clearOAuth2=function(){if(!c.checkUndefined(this.oauths)&&window.localStorage){const t="SELFOAuth"+this.id;window.localStorage.removeItem(t)}};function Vi(t){this.id="mdtag"+Ie(t),this.name=t,this.children=[]}function Oi(t){this.id="document-"+Ie(t),this.title=t,this.content=null}gt.prototype.oas2=function(){return this.groupVersion,!(c.strNotBlank(this.groupVersion)&&this.groupVersion.indexOf("3")>=0)};gt.prototype.getOASDefinitions=function(){let t={};const e=this.swaggerData;if(this.oas2())c.checkUndefined(e)&&e.hasOwnProperty("definitions")&&c.checkUndefined(e.definitions)&&(t=e.definitions);else if(c.checkUndefined(e)&&e.hasOwnProperty("components")){const n=e.components;if(c.checkUndefined(n)&&n.hasOwnProperty("schemas")){const r=n.schemas;c.checkUndefined(r)&&(t=r)}}return t};gt.prototype.getDefinitionByName=function(t,e){const n=this;let r=null;return n.difArrs.forEach(function(i){if(i.name==t){i.init||(i.init=!0,n.analysisDefinitionAsync(this.currentInstance.swaggerData,i,e)),r=i;return}}),r};gt.prototype.freeMemory=function(){this.difArrs=[],this.definitionValues={},this.swaggerModelsDifinitions=[],this.refTreeTableModels={},this.tags=[],this.paths=[],this.pathsDictionary={},this.globalParameters=[],this.pathArrs=[],this.pathFilters={},this.securityArrs=[],this.models=[],this.modelNames=[],this.modelArrs=[],this.firstLoad=!0,this.groupApis=[],this.cacheInstance=null,this.markdownFiles=[],this.i18n=null};Y.prototype.log=function(t){window.console.log(t)};Y.prototype.ajax=function(t,e,n){const r=Ts.create({baseURL:{}.VITE_APP_BASE_API});r.interceptors.response.use(i=>i.data,i=>Promise.reject(i)),r.request(t).then(i=>{e(i)}).catch(i=>{n(i)})};Y.prototype.error=function(t){window.console&&window.console.error(t)};const Ep=Ua("knife4jModels",{state(){return{instance:{},load:{},tags:{}}},actions:{setTags(t,e){},setValue(t,e){const n=this,r=this.instance[t];if(r==null||r==null){const i=e;for(const a in i){const s=i[a];if(s!=null&&s!=null){const o=s.params;o!=null&&o!=null&&o.forEach(function(l){l.schema&&(l.children=n.deepModel(i,l,l))})}}this.instance[t]=i}},deepModel(t,e,n){const r=[],i=this,a=t[e.schemaValue];return a!=null&&a!=null&&a.params!=null&&a.params!=null&&a.params.forEach(function(s){const o=i.deepCopy(s);o.pid=e.id,o.schema&&(n.parentTypes.push(e.schemaValue),n.parentTypes.indexOf(o.schemaValue)==-1&&(o.children=i.deepModel(t,o,n))),r.push(o)}),r},deepCopy(t){return{childrenTypes:t.childrenTypes,def:t.def,description:t.description,enum:t.enum,example:t.example,id:t.id,ignoreFilterName:t.ignoreFilterName,in:t.in,level:t.level,name:t.name,parentTypes:t.parentTypes,pid:t.pid,readOnly:t.readOnly,require:t.require,schema:t.schema,schemaValue:t.schemaValue,show:t.show,txtValue:t.txtValue,type:t.type,validateInstance:t.validateInstance,validateStatus:t.validateStatus,value:t.value}},getByModelName(t,e){return this.instance[t][e]},addModels(t,e,n){c.checkUndefined(this.instance[t]),this.instance[t][e]=n},exists(t,e){var i,a;c.checkUndefined(this.instance[t]);let n=!1;const r=(a=(i=this.instance)==null?void 0:i[t])==null?void 0:a[e];return r!=null&&r!=null&&(n=!0),n}}});function Ap(t,e,n){return`<!DOCTYPE html>
  <html>
  <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1.0">
      <title>${t}</title>
      <link rel="stylesheet" href="https://unpkg.com/ant-design-vue@1.4.10/dist/antd.min.css" />
      <style>
      ${e}
      </style>
      <script src="https://cdn.jsdelivr.net/npm/vue@2.6.9/dist/vue.js" async><\/script>
      <script rel="preload" src="https://unpkg.com/vue@2.6.9/dist/vue.js" ><\/script>

      <script src="https://cdn.jsdelivr.net/npm/ant-design-vue@1.4.10/dist/antd.min.js" async><\/script>
      <script rel="preload" src="https://unpkg.com/ant-design-vue@1.4.10/dist/antd.min.js" ><\/script>
  </head>
  <body>
      <div id="knife4jDocument" class="resume_preview_page" style="margin:10px auto;width:88%">
      <div class="htmledit_views" >
        <a-row>
          <!--基础信息-->
          <a-row>
            <a-col :span="24">
              <div class="title">
                <h2>{{instance.title}}</h2>
              </div>
              <div class="knife4j-description">
                <a-row class="content-line">
                  <a-col :span="5">
                    <h3>简介</h3>
                  </a-col>
                  <a-col :span="19"><span v-html="instance.description" /></a-col>
                </a-row>
                <a-divider class="divider" />
              </div>
              <div class="knife4j-description">
                <a-row class="content-line">
                  <a-col :span="5">
                    <h3>作者</h3>
                  </a-col>
                  <a-col :span="19"><span v-html="instance.contact" /></a-col>
                </a-row>
                <a-divider class="divider" />
              </div>
              <div class="knife4j-description">
                <a-row class="content-line">
                  <a-col :span="5">
                    <h3>版本</h3>
                  </a-col>
                  <a-col :span="19"><span v-html="instance.version" /></a-col>
                </a-row>
                <a-divider class="divider" />
              </div>
              <div class="knife4j-description">
                <a-row class="content-line">
                  <a-col :span="5">
                    <h3>host</h3>
                  </a-col>
                  <a-col :span="19"><span v-html="instance.host" /></a-col>
                </a-row>
                <a-divider class="divider" />
              </div>
              <div class="knife4j-description">
                <a-row class="content-line">
                  <a-col :span="5">
                    <h3>basePath</h3>
                  </a-col>
                  <a-col :span="19"><span v-html="instance.basePath" /></a-col>
                </a-row>
                <a-divider class="divider" />
              </div>
              <div class="knife4j-description">
                <a-row class="content-line">
                  <a-col :span="5">
                    <h3>服务Url</h3>
                  </a-col>
                  <a-col :span="19"><span v-html="instance.termsOfService" /></a-col>
                </a-row>
                <a-divider class="divider" />
              </div>
              <!-- <div class="knife4j-description">
              <a-row class="content-line">
                <a-col :span="5">
                  <h3>分组名称</h3>
                </a-col>
                <a-col :span="19"><span v-html="instance.name" /></a-col>
              </a-row>
              <a-divider class="divider" />
            </div>
            <div class="knife4j-description">
              <a-row class="content-line">
                <a-col :span="5">
                  <h3>分组url</h3>
                </a-col>
                <a-col :span="19"><span v-html="instance.url" /></a-col>
              </a-row>
              <a-divider class="divider" />
            </div>
            <div class="description">
              <a-row class="content-line">
                <a-col :span="5">
                  <h3>分组location</h3>
                </a-col>
                <a-col :span="19"><span v-html="instance.location" /></a-col>
              </a-row>
              <a-divider class="divider" />
            </div>-->
              <div class="knife4j-description">
                <a-row class="content-line">
                  <a-col :span="5">
                    <h3>接口统计信息</h3>
                  </a-col>
                  <a-col :span="19">
                    <a-row class="content-line-count" v-for="param in instance.pathArrs" :key="param.method">
                      <a-col :span="3">
                        {{param.method}}
                      </a-col>
                      <a-col :span="2">
                        <a-tag color="#108ee9">{{param.count}}</a-tag>
                      </a-col>
                      <a-divider class="divider-count" />
                    </a-row>
                  </a-col>
                </a-row>
              </div>
            </a-col>
          </a-row>
    
          <!--目录-->
          <a-row id="knife4j-doc-m" class="knife4j-doc-m">
            <a-row style="float: right;width: 57px;z-index: 10000;overflow: hidden;">
              <a-button type="link" id="btnHide">隐藏</a-button>
            </a-row>
            <a-row v-if="hideShow" id="knife4jDoc">
              <ul>
                <li><a href="#knife4jDocument">主页</a></li>
                <li v-for="tag in tags" :key="tag.name">
                  <a :href="'#'+tag.name">{{tag.name}}</a>
                  <ul>
                    <li v-for="c in tag.childrens" :key="c.id"><a :href="'#'+c.operationId">{{c.summary}}</a></li>
                  </ul>
                </li>
              </ul>
            </a-row>
          </a-row>
          <!--分组API信息-->
          <!--遍历tags-->
          <a-row v-for="tag in tags" :key="tag.name">
            <!--<h1 :id="tag.name">{{tag.name}}</h1>-->
            <div class="knife4j-document" v-for="api in tag.childrens">
              <!--接口基本信息-->
              <a-row>
                <a-row :id="api.operationId" class="knife4j-api-title">
                  <span v-if="api.deprecated" class="knife4j-menu-api-deprecated">
                    {{ api.summary }}
                  </span>
                  <span v-else>
                    {{ api.summary }}
                  </span>
                </a-row>
                <a-row :class="'knife4j-api-' + api.methodType.toLowerCase()">
                  <div class="knife4j-api-summary">
                    <span class="knife4j-api-summary-method">{{ api.methodType }}</span>
                    <span class="knife4j-api-summary-path">{{ api.showUrl }}</span>
                  </div>
                </a-row>
                <a-row class="knife4j-api-row">
                  <a-col :span="12">
                    <a-row>
                      <a-col class="api-basic-title" :span="6">请求数据类型</a-col>
                      {{ api.consumes }}
                    </a-row>
                  </a-col>
                  <a-col :span="12">
                    <a-row>
                      <a-col class="api-basic-title" :span="6">响应数据类型</a-col>
                      {{ api.produces }}
                    </a-row>
                  </a-col>
                </a-row>
              </a-row>
              <div v-if="api.author">
                <div class="api-title">
                  开发者
                </div>
                <div v-if="api.author" v-html="api.author" class="api-body-desc"></div>
              </div>
              <!--接口描述-->
              <div v-if="api.description">
                <div class="api-title">
                  接口描述
                </div>
                <div
                  v-if="api.description"
                  v-html="api.description"
                  class="api-body-desc"
                ></div>
              </div>
              <!--请求示例-->
              <div v-if="api.requestValue">
                <div class="api-title">
                  请求示例
                </div>
                <pre
                  class="knife4j-api-editor-show"
                  v-html="formaterJson(api.requestValue)"
                ></pre>
              </div>
              <div class="api-title">
              请求参数
              </div>
              <a-table default-expand-all-rows :columns="columns" :data-source="api.reqParameters"
                :row-key="genUnionTableKey"
                size="small"
                :pagination="page" >
                  <template slot="requireTemplate" slot-scope="text">
                    <span v-if="text" style="color:red">{{ text.toLocaleString() }}</span>
                    <span v-else>{{ text.toLocaleString() }}</span>
                  </template>

                  <template slot="typeTemplate" slot-scope="text">
                    <span :class="'knife4j-request-' + text">{{ text }}</span>
                  </template>

                  <template slot="datatypeTemplate" slot-scope="text, record">
                    <data-type :text="text" :record="record"></data-type>
                  </template>
              </a-table>
              <!--响应状态-->
              <div class="api-title">
                响应状态
              </div>
              <a-table
                :columns="responseStatuscolumns"
                :data-source="api.responseCodes"
                row-key="code"
                size="small"
                :pagination="page"
              >
                <template slot="descriptionTemplate" slot-scope="text">
                  <div v-html="text"></div>
                </template>
              </a-table>
              <!--响应参数-->
              <!--响应参数需要判断是否存在多个code-schema的情况-->
              <div v-if="api.multipartResponseSchema">
                <!--多个响应编码code的情况在离线文档中需要单独遍历分开-->
                <a-tabs v-for="resp in api.multipCodeDatas" :key="resp.code">
                  <a-tab-pane :tab="resp.code">
                    <!--判断响应头-->
                    <div v-if="resp.responseHeaderParameters">
                      <div class="api-title">
                        响应Header
                      </div>
                      <a-table
                        :columns="responseHeaderColumns"
                        :data-source="resp.responseHeaderParameters"
                        row-key="id"
                        size="small"
                        :pagination="page"
                      >
                      </a-table>
                    </div>
                    <!--响应参数-->
                    <div class="api-title">
                      响应参数
                    </div>
                    <a-table
                      :columns="responseParametersColumns"
                      :data-source="resp.data"
                      row-key="id"
                      size="small"
                      :pagination="page"
                    >
                    </a-table>
                    <div class="api-title">
                      响应示例
                    </div>
                    <div class="api-editor-show" v-if="resp.responseBasicType">
                      {{ resp.responseText }}
                    </div>
                    <pre
                      class="knife4j-api-editor-show"
                      v-else
                      v-html="formaterJson(resp.responseValue)"
                    ></pre>
                    <!-- <editor-show :value="resp.responseBasicType ? resp.responseText : resp.responseValue"></editor-show> -->
                    <!-- <editor :value="resp.responseBasicType ? resp.responseText : resp.responseValue" @init="multiResponseSampleEditorInit" lang="json" theme="eclipse" width="100%" :height="editorMultiHeight"></editor> -->
                  </a-tab-pane>
                </a-tabs>
              </div>
              <div v-else>
                <!--判断响应头-->
                <div v-if="api.responseHeaderParameters">
                  <div class="api-title">
                    响应Header
                  </div>
                  <a-table
                    :columns="responseHeaderColumns"
                    :data-source="api.responseHeaderParameters"
                    row-key="id"
                    size="small"
                    :pagination="page"
                  >
                  </a-table>
                </div>
                <!--响应参数-->
                <div class="api-title">
                  响应参数
                </div>
                <a-table
                  :columns="responseParametersColumns"
                  :data-source="api.multipData.data"
                  row-key="id"
                  size="small"
                  :pagination="page"
                >
                </a-table>
                <div class="api-title">
                  响应示例
                </div>
                <div class="api-editor-show" v-if="api.multipData.responseBasicType">
                  {{ api.multipData.responseText }}
                </div>
                <pre
                  class="knife4j-api-editor-show"
                  v-else
                  v-html="formaterJson(api.multipData.responseValue)"
                ></pre>
              </div>
              

            <!--接口遍历结束-->
            </div>
          </a-row>
      </a-row>

      </div>
      </div>
      <script type="text/javascript">
      function getData(){
        var datas=${n};
        //console(datas);
        return datas;
      }

      function main(){
        //当前接口json数据
        var d=getData();
        //请求参数table-header
        const requestcolumns = [
          {
            title: "参数名称",
            dataIndex: "name",
            width: "30%"
          },
          {
            title: "参数说明",
            dataIndex: "description",
            width: "25%"
          },
          {
            title: "请求类型",
            dataIndex: "in",
            scopedSlots: { customRender: "typeTemplate" }
          },
          {
            title: "是否必须",
            dataIndex: "require",
            scopedSlots: { customRender: "requireTemplate" }
          },
          {
            title: "数据类型",
            dataIndex: "type",
            scopedSlots: { customRender: "datatypeTemplate" }
          },
          {
            title: "schema",
            dataIndex: "schemaValue",
            width: "15%"
          }
        ];
        //响应状态table-header
        const responseStatuscolumns = [
          {
            title: "状态码",
            dataIndex: "code",
            width: "20%"
          },
          {
            title: "说明",
            dataIndex: "description",
            width: "55%",
            scopedSlots: { customRender: "descriptionTemplate" }
          },
          {
            title: "schema",
            dataIndex: "schema"
          }
        ];
        //响应头-header
        const responseHeaderColumns = [
          {
            title: "参数名称",
            dataIndex: "name",
            width: "30%"
          },
          {
            title: "参数说明",
            dataIndex: "description",
            width: "55%"
          },
          {
            title: "数据类型",
            dataIndex: "type"
          }
        ];
        const responseParametersColumns = [
          {
            title: "参数名称",
            dataIndex: "name",
            width: "35%"
          },
          {
            title: "参数说明",
            dataIndex: "description",
            width: "40%"
          },
          {
            title: "类型",
            dataIndex: "type"
          },
          {
            title: "schema",
            dataIndex: "schemaValue",
            width: "15%"
          }
        ];
        //dataType组件
        var dataType={
          name: "DataType",
          props: {
            text: {
              type: String,
              required: true
            },
            record: {
              type: Object,
              required: true
            }
          },
          data:function(){
            return {
               validators: []
            }
          },
          created() {
            this.intiValidator();
          },
          methods: {
            intiValidator() {
              var that = this;
              const record = this.record;
              if (record.validateInstance != null) {
                var len = that.getJsonKeyLength(record.validateInstance);
                var _size = 0;
                for (var k in record.validateInstance) {
                  var str = k + ":" + record.validateInstance[k];
                  that.validators.push({ key: k, val: str });
                }
              }
            },
            getJsonKeyLength(json) {
              var size = 0;
              if (json != null) {
                for (var key in json) {
                  if (json.hasOwnProperty(key)) size++;
                }
              }
              return size;
            }
          },
          template:'<div><span v-if="!record.validateStatus">{{text}}</span><span v-else class="knife4j-request-validate-jsr"><a-tooltip placement="right"><template slot="title"><div v-for="pt in validators" :key="pt.key">{{pt.val}}</div></template>{{text}}</a-tooltip></span></div>'

        }
        var data={
          tags:d.tags,
          instance:d.instance,
          columns: requestcolumns,
          responseHeaderColumns: responseHeaderColumns,
          responseStatuscolumns: responseStatuscolumns,
          responseParametersColumns: responseParametersColumns,
          expanRows: true,
          //接收一个响应信息对象,遍历得到树形结构的值
          multipCode: false,
          multipCodeDatas: [],
          multipData: {},
          page: false,
          hideShow:true
        }
        new Vue({
          el:"#knife4jDocument",
          components:{
            "DataType":dataType
          },
          data(){
            return data
          },
          mounted(){
             //初始化完成
            //赋予点击事件;
            document.getElementById("btnHide").addEventListener("click",function(){
              //隐藏目录
              var doc=document.getElementById("knife4jDoc");
              var docGlobal=document.getElementById("knife4j-doc-m");
              if(doc.style.display=="none"){
                doc.style.display="";
                document.getElementById("btnHide").innerHTML="隐 藏";
                docGlobal.style.width="400px";
                docGlobal.style.height="500px";
              }else{
                doc.style.display="none";
                document.getElementById("btnHide").innerHTML="目 录";
                docGlobal.style.width="52px";
                docGlobal.style.height="35px";
              }
            })
          },
          created(){
           
          },
          methods:{
            genUnionTableKey() {
              var key="param"+new Date().getTime().toString() + Math.floor(Math.random() * 1000000).toString();
              return key;
            },
            formaterJson(json) {
              try {
                if (typeof json != "string") {
                  json = JSON.stringify(json, undefined, 2);
                }
                json = json
                  .replace(/&/g, "&")
                  .replace(/</g, "<")
                  .replace(/>/g, ">");
                return json.replace(
                  /("(\\u[a-zA-Z0-9]{4}|\\[^u]|[^\\"])*"(s*:)?|\b(true|false|null)\b|-?d+(?:.d*)?(?:[eE][+-]?d+)?)/g,
                  function(match) {
                    var cls = "number";
                    if (/^"/.test(match)) {
                      if (/:$/.test(match)) {
                        cls = "key";
                      } else {
                        cls = "string";
                      }
                    } else if (/true|false/.test(match)) {
                      cls = "boolean";
                    } else if (/null/.test(match)) {
                      cls = "null";
                    }
                    return '<span class="' + cls + '">' + match + "</span>";
                  }
                );
              } catch (error) {
                return json;
              }
            }
          }
        })

      }

      main();
      
      
    <\/script>
  </body>
  </html>`}const Cp=`
.content-line {
  height: 25px;
  line-height: 25px;
}
.content-line-count {
  height: 35px;
  line-height: 35px;
}
.title {
  margin-top: 25px;
}
.knife4j-description {
 /*  width: 90%;
  margin: 15px auto; */
  margin-top: 5px;
}
.divider {
  margin: 4px 0;
}
.divider-count {
  margin: 8px 0;
}
.knife4j-document {
  margin-top: 30px;
}
.api-tab {
  margin-top: 15px;

  .ant-tag {
    height: 32px;
    line-height: 32px;
  }
}
.knife4j-menu-api-deprecated {
  text-decoration: line-through;
}

.knife4j-api-title {
  margin-top: 10px;
  margin-bottom: 5px;
  font-size: 16px;
  font-weight: 600;
  color: #616368;
  height: 35px;
  line-height: 35px;
}
.knife4j-api-row {
  height: 45px;
  line-height: 45px;
}

.knife4j-api-summary {
  border-color: #49cc90;
  display: -webkit-box;
  display: -ms-flexbox;
  display: flex;
  -webkit-box-align: center;
  -ms-flex-align: center;
  align-items: center;
  padding: 2px;
  cursor: pointer;
}
.knife4j-api-summary-method {
  font-size: 14px;
  font-weight: 700;
  min-width: 80px;
  padding: 6px 15px;
  text-align: center;
  border-radius: 3px;
  text-shadow: 0 1px 0 rgba(0, 0, 0, 0.1);
  font-family: Titillium Web, sans-serif;
  color: #fff;
}
.knife4j-api-summary-path {
  font-size: 14px;
  display: flex;
  -webkit-box-flex: 0;
  -ms-flex: 0 3 auto;
  flex: 0 3 auto;
  -webkit-box-align: center;
  -ms-flex-align: center;
  align-items: center;
  word-break: break-all;
  padding: 0 32px;
}

.knife4j-api-post {
  border-color: #49cc90;
  background: rgba(73, 204, 144, 0.1);
}
.knife4j-api-post .knife4j-api-summary-method {
  background: #49cc90;
}

.knife4j-api-get {
  border-color: #61affe;
  background: rgba(97, 175, 254, 0.1);
}
.knife4j-api-get .knife4j-api-summary-method {
  background: #61affe;
}
.knife4j-api-head {
  border-color: #9012fe;
  background: rgba(144, 18, 254, 0.1);
}
.knife4j-api-head .knife4j-api-summary-method {
  background: #9012fe;
}
.knife4j-api-put {
  border-color: #fca130;
  background: rgba(252, 161, 48, 0.1);
}
.knife4j-api-put .knife4j-api-summary-method {
  background: #fca130;
}
.knife4j-api-delete {
  border-color: #f93e3e;
  background: rgba(249, 62, 62, 0.1);
}
.knife4j-api-delete .knife4j-api-summary-method {
  background: #f93e3e;
}
.knife4j-api-options {
  border-color: #0d5aa7;
  background: rgba(13, 90, 167, 0.1);
}
.knife4j-api-options .knife4j-api-summary-method {
  background: #0d5aa7;
}
.knife4j-api-patch {
  border-color: #50e3c2;
  background: rgba(80, 227, 194, 0.1);
}
.knife4j-api-patch .knife4j-api-summary-method {
  background: #50e3c2;
}
#knife4jDoc ul{
  padding-left: 10px;
  list-style: none;
  counter-reset: ordered;
}

#knife4jDoc ul li:before {
  counter-increment: ordered;
  content: counters(ordered,".")" ";
  color:#1890ff;
}
.api-basic {
  padding: 11px;
}
.api-basic-title {
  font-size: 14px;
  font-weight: 700;
}
.api-basic-body {
  font-size: 14px;
  font-family: -webkit-body;
}
.knife4j-api-editor-show {
  margin: 15px 0;
  font: 100 12px/18px monaco, andale mono, courier new;
  padding: 10px 12px;
  border: #ccc 1px solid;
  border-left-width: 4px;
  background-color: #fefefe;
  box-shadow: 0 0 4px #eee;
  word-break: break-all;
  word-wrap: break-word;
  color: #444;
}
.knife4j-api-editor-show .string { color: green; }        /*字符串的样式*/
.knife4j-api-editor-show .number { color: darkorange; }    /*数字的样式*/
.knife4j-api-editor-show .boolean { color: blue; }        /*布尔型数据的样式*/
.knife4j-api-editor-show .null { color: magenta; }        /*null值的样式*/
.knife4j-api-editor-show .key { color: red; }            /*key值的样式*/
.api-description {
  border-left: 4px solid #ddd;
  line-height: 30px;
}
.api-body-desc {
  padding: 10px;
  min-height: 35px;
  box-sizing: border-box;
  border: 1px solid #e8e8e8;
}
.ant-card-body {
  padding: 5px;
}
.api-title {
  margin-top: 10px;
  margin-bottom: 5px;
  font-size: 16px;
  font-weight: 600;
  height: 30px;
  line-height: 30px;
  border-left: 4px solid #00ab6d;
  text-indent: 8px;
}
.content-line {
  height: 25px;
  line-height: 25px;
}
.content-line-count {
  height: 35px;
  line-height: 35px;
}
.divider {
  margin: 4px 0;
}
.knife4j-doc-m{
  position: fixed;
  height: 500px;
  width: 400px;
  border: 1px solid #b7b4b4;
  overflow-y: auto;
  right: 12px;
  top: 40px;
  z-index: 9999;
  background: #fcfafa;
}
`,Dp=t=>{const e=rt(),n=Ep();let r=[];function i(){const p=Ne.globalTreeTableModelParams+t.id,v=e.swaggerCurrentInstance.swaggerTreeTableModels;n.setValue(p,v)}function a(){const p=Ne.globalTreeTableModelParams+t.id,v=e.swaggerCurrentInstance.tags;c.arrNotEmpty(v)&&v.forEach(function(S){c.arrNotEmpty(S.childrens)&&S.childrens.forEach(function(A){A.init||e.swagger.initApiInfoAsync(A);let P=[];A.parameters!=null&&A.parameters.length>0&&(P=P.concat(A.parameters)),A.refTreetableparameters!=null&&A.refTreetableparameters.length>0&&A.refTreetableparameters.forEach(function(_){P=P.concat(_.params)}),P!=null&&P.sort(function(_,m){return m.require-_.require});const O=[];c.arrNotEmpty(P)&&P.forEach(function(_){if(_.pid=="-1"){if(_.children=[],_.schema){const m=_.schemaValue;if(c.checkUndefined(m)&&n.exists(p,m)){let w=n.getByModelName(p,m);if(w=e.swagger.analysisDefinitionRefTableModel(t.id,w),c.checkUndefined(w)){const y=w.params;c.arrNotEmpty(y)&&y.forEach(function(h){const V=o(h);V.pid=_.id,_.children.push(V)})}}}c.arrNotEmpty(_.children)||(_.children=null),O.push(_)}}),A.reqParameters=O,s(A)})}),r=v}function s(p){const v=Ne.globalTreeTableModelParams+t.id;p.multipCode=p.multipartResponseSchema,p.multipCodeDatas=[],p.multipData={};const S=p.responseCodes;S!=null&&S!=null&&S.forEach(function(A){if(A.schema!=null&&A.schema!=null){let P=[];A.responseParameters!=null&&A.responseParameters.length>0&&(P=P.concat(A.responseParameters)),A.responseTreetableRefParameters!=null&&A.responseTreetableRefParameters.length>0&&A.responseTreetableRefParameters.forEach(function(m){P=P.concat(m.params)});const O=[];P!=null&&P.length>0&&P.forEach(function(m){if(m.pid=="-1"){if(m.children=[],m.schema){const w=m.schemaValue;if(c.checkUndefined(w)&&n.exists(v,w)){let y=n.getByModelName(v,w);if(y=e.swagger.analysisDefinitionRefTableModel(t.id,y),c.checkUndefined(y)){const h=y.params;c.arrNotEmpty(h)&&h.forEach(function(V){const E=o(V);E.pid=m.id,m.children.push(E)})}}}m.children.length==0&&(m.children=null),O.push(m)}});const _={...A,data:O};p.multipCode||(p.multipData=_),p.multipCodeDatas.push(_)}})}function o(p){let v=p.children;return c.checkUndefined(v)||(v=null),{children:v,childrenTypes:p.childrenTypes,def:p.def,description:p.description,enum:p.enum,example:p.example,id:p.id,ignoreFilterName:p.ignoreFilterName,in:p.in,level:p.level,name:p.name,parentTypes:p.parentTypes,pid:p.pid,readOnly:p.readOnly,require:p.require,schema:p.schema,schemaValue:p.schemaValue,show:p.show,txtValue:p.txtValue,type:p.type,validateInstance:p.validateInstance,validateStatus:p.validateStatus,value:p.value}}function l(p){""+t.id,(p==null||p==null||p=="")&&(p="Knife4j-API Documenation");const v=JSON.stringify(g());return Ap(p,Cp,v)}function u(p){let v=null;return c.arrNotEmpty(p.children)&&(v=[],p.children.forEach(S=>{const A=u(S);v.push({name:S.name,children:A,description:S.description,in:S.in,require:S.require,type:S.type,schemaValue:S.schemaValue})})),v}function f(p){let v=null;return c.arrNotEmpty(p.children)&&(v=[],p.children.forEach(S=>{const A=f(S);v.push({name:S.name,children:A,description:S.description,id:S.id,type:S.type,schemaValue:S.schemaValue})})),v}function g(){const p=[].concat(r);p.forEach(S=>{if(S.description=null,c.checkUndefined(S.childrens)&&c.arrNotEmpty(S.childrens)){const A=[];S.childrens.forEach(P=>{let O=null;c.arrNotEmpty(P.reqParameters)&&(O=[],P.reqParameters.forEach(y=>{const h=u(y);O.push({name:y.name,children:h,description:y.description,in:y.in,require:y.require,type:y.type,schemaValue:y.schemaValue})}));let _=null;c.arrNotEmpty(P.responseCodes)&&(_=[],P.responseCodes.forEach(y=>{_.push({code:y.code,description:y.description,schema:y.schema})}));let m=null;c.arrNotEmpty(P.multipCodeDatas)&&(m=[],P.multipCodeDatas.forEach(y=>{let h=null;c.arrNotEmpty(y.responseHeaderParameters)&&(h=[],y.responseHeaderParameters.forEach(E=>{h.push({id:E.id,name:E.name,description:E.description,type:E.type})}));let V=null;c.arrNotEmpty(y.data)&&(V=[],y.data.forEach(E=>{const C=f(E);V.push({name:E.name,children:C,description:E.description,id:E.id,type:E.type,schemaValue:E.schemaValue})})),m.push({code:y.code,responseHeaderParameters:h,data:V,responseBasicType:y.responseBasicType,responseText:y.responseText,responseValue:y.responseValue})}));let w=null;if(c.arrNotEmpty(P.responseHeaderParameters)&&(w=[],P.responseHeaderParameters.forEach(y=>{w.push({id:y.id,name:y.name,description:y.description,type:y.type})})),c.checkUndefined(P.multipData)){let y=null;c.checkUndefined(P.multipData.data)&&c.arrNotEmpty(P.multipData.data)&&(y=[],P.multipData.data.forEach(h=>{const V=f(h);y.push({name:h.name,children:V,description:h.description,id:h.id,type:h.type,schemaValue:h.schemaValue})})),P.multipData.responseBasicType,P.multipData.responseText,P.multipData.responseValue}A.push({id:P.id,operationId:P.operationId,deprecated:P.deprecated,summary:P.summary,methodType:P.methodType,showUrl:P.showUrl,consumes:P.consumes,produces:P.produces,author:P.author,description:P.description,requestValue:P.requestValue,reqParameters:O,responseCodes:_,multipartResponseSchema:P.multipartResponseSchema,multipCodeDatas:m,responseHeaderParameters:w,multipData:P.multipData})}),S.childrens=A}});const v={instance:{title:e.swaggerCurrentInstance.title,description:e.swaggerCurrentInstance.title,contact:e.swaggerCurrentInstance.contact,version:e.swaggerCurrentInstance.version,host:e.swaggerCurrentInstance.host,basePath:e.swaggerCurrentInstance.basePath,termsOfService:e.swaggerCurrentInstance.termsOfService,name:e.swaggerCurrentInstance.name,url:e.swaggerCurrentInstance.url,location:e.swaggerCurrentInstance.location,pathArrs:e.swaggerCurrentInstance.pathArrs},hideShow:!0,tags:p};return v}return{getHtmlContent:l,deepTags:a,initModels:i}},Np=()=>{const t=ot(),e=Q(),n=Q(),r=Q(!1),i=()=>{var u;(u=n.value)==null||u.refresh()},a=()=>{t.id="",t.title=ft.add,r.value=!0},s=async()=>(await Vs({appId:"",name:"",orgIds:[]})).map(f=>({label:f.name,value:f.id}));Ze(()=>r.value,u=>{u||i()});const o=rt();return{config:ve(()=>({query:{list:[{type:"input",label:"服务名称",prop:"name"},{type:"select",label:"插件分类",prop:"status",options:"status",extraOptions:[{label:"全部",value:""}]},{type:"select",label:"所属应用",prop:"appId",options:s},{type:"select",label:"请求类型",prop:"method",options:[{label:"GET",value:"GET"},{label:"POST",value:"POST"},{label:"PUT",value:"PUT"},{label:"DELETE",value:"DELETE"}]}]},request:{api:_o},table:{tableCols:[{prop:"name",label:"服务名称"},{prop:"protocol",label:"服务内容",showOverflowTooltip:!0,minWidth:120,slots:{default({row:f}){return F("span",null,[f.actionName,ue(" "),f.formName])}}},{prop:"appName",label:"所属应用"},{prop:"method",label:"请求类型"},{prop:"protocol",label:"协议"},{prop:"url",label:"服务地址",minWidth:220,slots:{default({row:f}){return F(Bo,{row:f},null)}}},{prop:"createTime",label:"创建时间",minWidth:110},{prop:"status",label:"状态",slots:{default({row:f}){return F(Fa,{modelValue:f.status,"onUpdate:modelValue":g=>f.status=g,updateFetch:async()=>{await Oo(f.id,f.status===0?1:0),i()}},null)}}},{fixed:"right",width:200,label:"操作",slots:{default({row:f}){return F(Ps,{num:3,list:[{id:"1",type:"primary",onClick:async()=>{const P=new Y({springdoc:!0,baseSpringFox:!0,localStore:Mo});P.analysisGroupSuccess([{name:"中间层-CRM",url:"/v3/api-docs?group=中间层-CRM",swaggerVersion:"3.0.3",location:"/v3/api-docs?group=中间层-CRM"}]),P.currentInstance=P.instances[0],o.setSwagger(P);const O=await $o(f.id);P.analysisApiSuccess(JSON.parse(O.content)),o.swaggerCurrentInstance,JSON.parse(O.content);const{getHtmlContent:_,deepTags:m,initModels:w}=Dp(f);w(),m(),setTimeout(()=>{const y=document.createElement("a"),h=_("网页名"),V=f.name+".html",E=window.URL.createObjectURL(new Blob([h],{type:"text/plain;charset=utf-8"}));y.href=E,y.download=V||"file",y.click(),window.URL.revokeObjectURL(E)},1e3)},text:"生成文档"},{id:"2",type:"primary",onClick:()=>{t.id=f.id,t.title=ft.edit,r.value=!0},text:"编辑"},{id:"3",type:"primary",onClick:()=>{t.title=ft.view,t.id=f.id,r.value=!0},text:"查看"},{id:"4",type:"danger",text:"删除",popconfirmProps:{title:"您确定要删除该服务吗?",confirm:async()=>{await Vo(f.id),Ke.success("删除成功"),i()}}}]},null)}}}]},operation:{fullEl:e}})),pendingRef:e,isVisible:r,azPageRef:n,addExternal:a,refreshTable:i}},Rp=Np,$p=()=>{const t=ot(),e=Q(Xt.base),n=Q(!1),r=Q(!1),i=Q(),a=Q(),s=Q(!1),o=async()=>{var f,g;try{s.value=!0,e.value===Xt.base?await((f=a.value)==null?void 0:f.onSave()):await((g=i.value)==null?void 0:g.onSave()),Ke.success("保存成功")}catch{}finally{s.value=!1}},l=ve(()=>t.title===ft.view);return{configParamsRef:i,baseFormRef:a,activeTab:e,paramsMapping_visible:n,transMapping_visible:r,onSave:o,loading:s,isView:l,handleTabsLeave:async(f,g)=>{const v=[a.value,i.value][parseInt(g+"")-1];return v?await(v==null?void 0:v.onLeave()):!0}}},Up=$p;var Pe=(t=>(t.form="form",t.system="system",t.custom="custom",t))(Pe||{});const Fp=()=>{const t=ot(),e=Q(null),n={name:"",action:Oe.insert,description:"",form:"",formName:"",method:"POST",protocol:"HTTP(S)",status:0,secretIds:[]},r=Q(n),i=Q(),a=Q(!1),s=Q(),o=Q(!1),l=async y=>{try{o.value=!0;const h=await Po({searchVal:y});s.value=h}finally{o.value=!1}},u=ve(()=>{var y;return((y=i.value)==null?void 0:y.hasFlow)===1&&(r.value.action===Oe.insert||r.value.action===Oe.update)}),f=Q(),g={name:[{required:!0,message:"请输入服务名称",trigger:"blur"}],protocol:[{required:!0,message:"请选择服务协议",trigger:"blur"}],classPathName:[{required:!0,message:"请输入类路径名称",trigger:"blur"}],methodName:[{required:!0,message:"请输入方法名",trigger:"blur"}]},p=Q(!1),v=async()=>{var h;if(await((h=f.value)==null?void 0:h.validate())){if(r.value.id)return e.value=De(r.value),await To(r.value);{const V=await Io(r.value);return r.value.url=V.url,r.value.id=V.id,t.id=V.id??"",p.value=!0,e.value=De(r.value),V}}},S=async()=>{const y=await Eo(t.id??"");r.value=y,setTimeout(()=>{e.value=De(r.value)})},A=async()=>{if(t.id)try{p.value=!1,await S()}finally{p.value=!0}},P=ve(()=>t.title===ft.view),O=ve(()=>!!t.id),_=(y,h)=>{if(a.value=!1,!y)r.value.formName="",i.value=void 0,r.value.action=Oe.insert,r.value.method=n.method,r.value.protocol=n.protocol;else if(h===Pe.system)r.value.formName=y.name,i.value=void 0,a.value=!0,r.value.form==="corp"?r.value.action=Oe.query:r.value.action=Oe.saveOrUpdated,r.value.method=n.method,r.value.protocol=n.protocol;else if(h===Pe.custom)r.value.formName="自定义类",i.value=void 0;else{if(r.value.method=n.method,r.value.protocol=n.protocol,y==="-"){r.value.formName="",i.value=void 0,r.value.action=Oe.insert;return}r.value.formName=y.name,i.value=y,r.value.action===Oe.saveOrUpdated&&(r.value.action=Oe.insert)}i.value},m=()=>er(e.value,r.value)?Promise.resolve(!0):new Promise((h,V)=>{Ba.confirm(p.value?"您修改了表单但没有保存，是否需要保存表单并继续？":"请保存基础信息后再进行下一步配置",p.value?"表单有修改，是否保存?":"请保存基础信息",{confirmButtonText:"保存并继续",cancelButtonText:"不保存",type:"warning",distinguishCancelAndClose:!0,closeOnClickModal:!1,closeOnHashChange:!1,showCancelButton:p.value,beforeClose(E,C,j){E==="confirm"?(C.confirmButtonLoading=!0,v().then(()=>{C.confirmButtonLoading=!1,h(!0),j()}).catch(()=>{C.confirmButtonLoading=!1,V(),j()})):E==="cancel"?(h(!0),e.value&&(r.value=De(e.value)),j()):E==="close"&&(V(),j())}})}),w=async()=>{const y={classPathName:r.value.classPathName,methodName:r.value.methodName,appId:r.value.appId};if(!(!y.classPathName||!y.methodName))try{t.custom_loading=!0;const h=await Ao(y);r.value.method=h.method,r.value.protocol=h.protocol,r.value.relativeUrl=h.relativeUrl}finally{t.custom_loading=!1}};return l(""),{baseForm:r,ActionEnum:Oe,queryAuthList:l,authList:s,searchLoading:o,isShowFlow:u,onSave:v,baseFormRef:f,rules:g,initData:A,isView:P,onLeave:m,isSaved:O,formChange:_,isSystemForm:a,customChange:w}},Bp=Fp,Pr=[{id:"user",name:"用户"},{id:"org",name:"机构"},{id:"role",name:"角色"},{id:"corpCooperation",name:"协作企业"},{id:"userCooperation",name:"协作个人"},{id:"userAccOrg",name:"用户（累加所属机构）"},{id:"orgJob",name:"岗位"},{id:"orgJobUser",name:"岗位用户"},{id:"corp",name:"企业"},{id:"departmentHead",name:"部门主管"},{id:"directlyUnder",name:"直属主管"}],It=t=>Pr.some(e=>e.id===t),et=t=>t==="custom_class",Lp=t=>Pr.find(e=>e.id===t),Ea=Symbol("表单内容数据中心");function jp(){return Zt({systemData:Pr,formData:po()})}function Mt(){const t=Ra(Ea,void 0);if(t)return t;{const e=jp();return $a(Ea,e),e}}function Mp(t){return t.filter(e=>e.type===ht.group)}function Ei(t){var r;const e=[],n=new Map;for(const i of t)n.set(i.id,{...i,children:[]});for(const i of t){const a=i.id,s=i.parentId??"0",o=n.get(a);if(s==="0")o&&e.push(o);else{const l=n.get(s);o&&((r=l==null?void 0:l.children)==null||r.push(o))}}return e}function Aa(t){const e=[];return function n(r){r.forEach(i=>{var a;(i.type===ht.form||i.type===ht.group)&&e.push(i),(a=i.children)!=null&&a.length&&n(i.children)})}(t),e}function Vr(t){let e=[];for(const n of t)e=[...e,...n.appEntryVOList.filter(r=>r.type===ht.form)];return e}function qp(t,e){var s;const n=t.find(o=>o.appEntryVOList.some(l=>l.id===e));if(!n)return[];const r=Ei(n.appEntryVOList),a=Aa(r).find(o=>o.id===e);return(s=a==null?void 0:a.children)!=null&&s.length?Aa(a==null?void 0:a.children).filter(o=>o.type===ht.form):[]}function zp(t,e){var r;const n=t.find(i=>i.appVO.id===e);return((r=n==null?void 0:n.appEntryVOList)==null?void 0:r.filter(i=>i.type===ht.form))??[]}function Kp(t,e){return Vr(t).find(r=>r.id===e)}const Hp=be({__name:"FormPanel",props:{modelValue:{},filterValue:{}},emits:["update:modelValue"],setup(t,{expose:e,emit:n}){const r=t,a=Be(r,"modelValue",n),s=Mt(),o=Q([]),l=async()=>{o.value=await s.formData},u=ve(()=>{var _;let O=[];return O=(_=o.value)==null?void 0:_.map(m=>{var w;return{id:m.appVO.id,name:m.appVO.name,icon:m.appVO.icon,color:m.appVO.color,children:(w=m.appEntryVOList)!=null&&w.length?Ei(Mp(m.appEntryVOList)):[]}}),[{id:"-1",name:"全部表单"},...O]}),f={children:"children",label:"name",value:"id"},g=(O,_)=>O?_.name.includes(O):!0,p=Q(),v=O=>{O.id==="-1"?S.value=Vr(o.value):O.type===ht.group?S.value=qp(o.value,O.id):S.value=zp(o.value,O.id)},S=Q([]),A=O=>{a.value===O.id?a.value="":a.value=O.id},P=ve(()=>r.filterValue?S.value.filter(O=>O.name.includes(r.filterValue)):S.value);return Ze(()=>u.value,O=>{setTimeout(()=>{var _;O!=null&&O.length&&((_=p.value)==null||_.setCurrentKey("-1"))})},{immediate:!0}),e({}),(O,_)=>{const m=La,w=Nt,y=nr;return G(),ae(tr,{class:"tab_body",load:l},{default:M(()=>{var h;return[te("div",{class:"tab_body-item"},[F(m,{ref_key:"treeRef",ref:p,data:N(u),props:f,"default-expand-all":"","highlight-current":"","node-key":"id","filter-node-method":g,onCurrentChange:v,"expand-on-click-node":!1},{default:M(({data:V})=>[F(mt,{class:"form-icon","icon-class":V.icon??"",style:$n({color:V.color})},null,8,["icon-class","style"]),ue(" "+_e(V.name),1)]),_:1},8,["data"])]),te("div",{class:"tab_body-item"},[(G(!0),ie(Ve,null,Me(N(P),V=>(G(),ie("div",{class:"check-item",key:V.id,onClick:E=>A(V)},[te("div",{class:"check-item-wrap"},[F(mt,{class:"form-icon","icon-class":V.icon??"",style:$n({color:V.color})},null,8,["icon-class","style"]),F(Qe,{content:V.name},null,8,["content"])]),F(w,{modelValue:V.id===N(a)},null,8,["modelValue"])],8,["onClick"]))),128)),(h=N(P))!=null&&h.length?ce("",!0):(G(),ae(y,{key:0}))])]}),_:1})}}});const Jp=Le(Hp,[["__scopeId","data-v-0115db10"]]),Gp=be({__name:"CustomerPanel",props:{modelValue:{}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,r=e,i=Mt(),a=Q([]),s=async()=>{a.value=await i.formData},o=ve(()=>a.value.map(f=>f.appVO)),l=Be(n,"modelValue",r),u=f=>{l.value===f.id?l.value="":l.value=f.id};return(f,g)=>{const p=Nt,v=nr;return G(),ae(Qa,{class:"tab_body-item",load:s},{default:M(()=>{var S;return[(G(!0),ie(Ve,null,Me(N(o),A=>(G(),ie("div",{class:"check-item",key:A.id,onClick:P=>u(A)},[te("div",{class:"check-item-wrap"},[F(mt,{class:"form-icon","icon-class":A.icon??"",style:$n({color:A.color})},null,8,["icon-class","style"]),F(Qe,{content:A.name},null,8,["content"])]),F(p,{modelValue:A.id===N(l)},null,8,["modelValue"])],8,["onClick"]))),128)),(S=N(o))!=null&&S.length?ce("",!0):(G(),ae(v,{key:0}))]}),_:1})}}}),Wp=be({__name:"SelectDialog",props:{modelValue:{type:Boolean},selectedValue:{},appId:{}},emits:["update:modelValue","update:selectedValue","update:appId"],setup(t,{emit:e}){const n=t,r=e,i=Be(n,"modelValue",r),a=Be(n,"selectedValue",r),s=Be(n,"appId",r),o=Mt(),l=()=>{f.value===Pe.custom?(a.value="custom_class",s.value=v.value):a.value=v.value,i.value=!1},u=ve(()=>[{label:"表单",name:Pe.form},{label:"系统",name:Pe.system},{label:"应用",name:Pe.custom}]),f=Q(Pe.form),g=Q(""),p=Q(""),v=Q(""),S=ve(()=>o.systemData),A=P=>{v.value===P.id?v.value="":v.value=P.id};return Ze(()=>a.value,P=>{v.value=P},{immediate:!0}),Ze(()=>g.value,Os(P=>{p.value=P},500)),Ze(()=>i.value,P=>{P&&(It(n.selectedValue)?(f.value=Pe.system,v.value=n.selectedValue):et(n.selectedValue)?(f.value=Pe.custom,v.value=n.appId??""):(f.value=Pe.form,v.value=n.selectedValue))}),(P,O)=>{const _=Fe,m=Nt,w=nr,y=rr,h=ja,V=tt,E=pn;return G(),ae(E,{title:"服务内容选择",modelValue:N(i),"onUpdate:modelValue":O[5]||(O[5]=C=>Se(i)?i.value=C:null),width:"750px"},{footer:M(()=>[te("span",{class:"dialog-footer"},[F(V,{onClick:O[4]||(O[4]=C=>i.value=!1)},{default:M(()=>[ue("取消")]),_:1}),F(V,{type:"primary",onClick:l,disabled:!v.value},{default:M(()=>[ue(" 确定 ")]),_:1},8,["disabled"])])]),default:M(()=>[te("div",{class:"tabs-wrapper"},[f.value===N(Pe).form?(G(),ae(_,{key:0,class:"search_form",placeholder:"请输入表单名称","prefix-icon":N(Es),modelValue:g.value,"onUpdate:modelValue":O[0]||(O[0]=C=>g.value=C),clearable:""},null,8,["prefix-icon","modelValue"])):ce("",!0),F(h,{type:"border-card",modelValue:f.value,"onUpdate:modelValue":O[3]||(O[3]=C=>f.value=C)},{default:M(()=>[(G(!0),ie(Ve,null,Me(N(u),C=>(G(),ae(y,{label:C.label,key:C.name,name:C.name},{default:M(()=>{var j;return[C.name===N(Pe).form?(G(),ae(Jp,{key:0,modelValue:v.value,"onUpdate:modelValue":O[1]||(O[1]=ee=>v.value=ee),filterValue:p.value},null,8,["modelValue","filterValue"])):C.name===N(Pe).system?(G(),ie("div",{key:1,class:"tab_body"},[te("div",{class:"tab_body-item"},[(G(!0),ie(Ve,null,Me(N(S),ee=>(G(),ie("div",{class:"check-item",key:ee.id,onClick:d=>A(ee)},[te("div",{class:"check-item-wrap"},[F(Qe,{content:ee.name},null,8,["content"])]),F(m,{modelValue:ee.id===v.value},null,8,["modelValue"])],8,["onClick"]))),128)),(j=N(S))!=null&&j.length?ce("",!0):(G(),ae(w,{key:0}))])])):C.name===N(Pe).custom?(G(),ie("div",{key:2,class:"tab_body"},[F(Gp,{modelValue:v.value,"onUpdate:modelValue":O[2]||(O[2]=ee=>v.value=ee)},null,8,["modelValue"])])):ce("",!0)]}),_:2},1032,["label","name"]))),128))]),_:1},8,["modelValue"])])]),_:1},8,["modelValue"])}}});const Yp=Le(Wp,[["__scopeId","data-v-80433ae3"]]),Zp=be({__name:"SelectItemDisplay",props:{id:{},appId:{}},setup(t){const e=t,n=Mt(),r=Q([]);(async()=>{r.value=await n.formData})();const a=Q(!0),s=ve(()=>{var g;a.value=!0;const l=r.value,u=r.value.map(p=>p.appVO);if(It(e.id))return((g=n.systemData.find(p=>p.id===e.id))==null?void 0:g.name)??"";if(et(e.id)){const p=u.find(v=>v.id===e.appId);return p||(a.value=!1),(p==null?void 0:p.name)??"应用不存在或已删除"}else{const v=Vr(l).find(S=>S.id===e.id);return v||(a.value=!1),(v==null?void 0:v.name)??"表单不存在或已删除"}}),o=ve(()=>It(e.id)?"系统：":et(e.id)?"应用：":"表单：");return(l,u)=>(G(),ie("span",{class:"select-display"},[ue(_e(N(o))+" ",1),F(Qe,{content:N(s),"show-after":300,class:ar(["select-text",{"remove-text":!N(a)}])},null,8,["content","class"])]))}});const Qp=be({inheritAttrs:!1,__name:"SelectedDisplay",props:{modelValue:{},appId:{},placeholder:{},disabled:{type:Boolean},loading:{type:Boolean}},emits:["update:modelValue","remove","open"],setup(t,{emit:e}){const n=t,r=e,i=ve(()=>n.modelValue&&!n.loading),a=ve(()=>i.value?"":n.placeholder),s=()=>{n.disabled||r("open")},o=ve(()=>n.modelValue&&!n.disabled);return(l,u)=>(G(),ie("div",{class:ar(["display_wrapper",{"is-display-entry":!l.disabled,"is-disabled":l.disabled}]),onClick:s},[F(As,{placeholder:a.value,readonly:"","validate-event":!1,disabled:l.disabled},{prefix:M(()=>[i.value?(G(),ae(Zp,{key:0,appId:l.appId,id:l.modelValue,style:{color:"#333"}},null,8,["appId","id"])):ce("",!0)]),suffix:M(()=>[o.value?(G(),ae(mt,{key:0,class:"close-icon","icon-class":"CircleClose",onClick:u[0]||(u[0]=Gt(f=>r("remove"),["stop"]))})):ce("",!0)]),_:1},8,["placeholder","disabled"])],2))}});const Xp=Le(Qp,[["__scopeId","data-v-6192f0f1"]]),ef=be({__name:"ServiceSelector",props:{modelValue:{},appId:{},disabled:{type:Boolean}},emits:["update:modelValue","update:appId","change"],setup(t,{emit:e}){const n=t,r=e,i=Be(n,"modelValue",r),a=Be(n,"appId",r),s=Mt(),o=()=>{v.value=!0},l=()=>{i.value=""},u=ve(()=>f.value?"数据加载中...":"请选择服务内容"),f=Q(!0),g=Q([]);(()=>{var S;(S=s.formData)==null||S.then(A=>{f.value=!0,g.value=A}).finally(()=>{f.value=!1})})();const v=Q(!1);return Ze(()=>[i.value,f.value],S=>{if(!S[1])if(S[0])if(It(S[0]))r("change",Lp(S[0]),Pe.system);else if(et(S[0]))r("change","-",Pe.custom);else{const A=Kp(g.value,S[0]);r("change",A??"-",Pe.form)}else r("change")}),(S,A)=>(G(),ie("div",{class:"select-wrapper"},[F(Xp,{placeholder:N(u),modelValue:N(i),"onUpdate:modelValue":A[0]||(A[0]=P=>Se(i)?i.value=P:null),appId:N(a),"onUpdate:appId":A[1]||(A[1]=P=>Se(a)?a.value=P:null),onRemove:l,onOpen:o,loading:N(f),disabled:S.disabled},null,8,["placeholder","modelValue","appId","loading","disabled"]),F(Yp,{modelValue:N(v),"onUpdate:modelValue":A[2]||(A[2]=P=>Se(v)?v.value=P:null),"selected-value":N(i),"onUpdate:selectedValue":A[3]||(A[3]=P=>Se(i)?i.value=P:null),appId:N(a),"onUpdate:appId":A[4]||(A[4]=P=>Se(a)?a.value=P:null)},null,8,["modelValue","selected-value","appId"])]))}}),tf=be({__name:"BaseForm",setup(t,{expose:e}){const{baseForm:n,authList:r,searchLoading:i,isShowFlow:a,queryAuthList:s,onSave:o,baseFormRef:l,rules:u,initData:f,isView:g,isSaved:p,onLeave:v,formChange:S,isSystemForm:A,customChange:P}=Bp();return e({onSave:o,onLeave:v}),(O,_)=>{const m=Fe,w=fn,y=Ma,h=Cs,V=Un,E=dn;return G(),ae(tr,{load:N(f),ref:"LoadingDataRef",class:"base-form_wrapper"},{default:M(()=>[F(E,{"label-width":"auto","label-suffix":":",class:"base-form",model:N(n),rules:N(u),ref_key:"baseFormRef",ref:l},{default:M(()=>[F(w,{label:"服务名称",prop:"name"},{default:M(()=>[N(g)?(G(),ie("span",{key:0},_e(N(n).name),1)):(G(),ae(m,{key:1,maxlength:"20","show-word-limit":"",placeholder:"请输入服务名称",modelValue:N(n).name,"onUpdate:modelValue":_[0]||(_[0]=C=>N(n).name=C)},null,8,["modelValue"]))]),_:1}),F(w,{label:"服务内容",prop:"form",rules:[{required:!0,message:"请选择服务内容",trigger:"change"}]},{default:M(()=>[F(w,{class:"flex-inline"},{default:M(()=>[F(ef,{modelValue:N(n).form,"onUpdate:modelValue":_[1]||(_[1]=C=>N(n).form=C),appId:N(n).appId,"onUpdate:appId":_[2]||(_[2]=C=>N(n).appId=C),style:{flex:"1"},onChange:N(S),disabled:N(p)},null,8,["modelValue","appId","onChange","disabled"]),N(et)(N(n).form)?ce("",!0):(G(),ae(h,{key:0,class:"right",modelValue:N(n).action,"onUpdate:modelValue":_[3]||(_[3]=C=>N(n).action=C),disabled:N(p)||N(A)},{default:M(()=>[(G(!0),ie(Ve,null,Me(N(So),(C,j)=>(G(),ae(y,{key:j,value:C.value,label:C.label,disabled:C.disabled},null,8,["value","label","disabled"]))),128))]),_:1},8,["modelValue","disabled"]))]),_:1})]),_:1}),N(et)(N(n).form)?(G(),ie(Ve,{key:0},[F(w,{label:"类路径名称",prop:"classPathName"},{default:M(()=>[F(m,{modelValue:N(n).classPathName,"onUpdate:modelValue":_[4]||(_[4]=C=>N(n).classPathName=C),placeholder:"请输入类路径名称",onBlur:N(P)},null,8,["modelValue","onBlur"])]),_:1}),F(w,{label:"方法名",prop:"methodName"},{default:M(()=>[F(m,{modelValue:N(n).methodName,"onUpdate:modelValue":_[5]||(_[5]=C=>N(n).methodName=C),placeholder:"请输入方法名",onBlur:N(P)},null,8,["modelValue","onBlur"])]),_:1})],64)):ce("",!0),F(w,{label:"协议类型",prop:"protocol"},{default:M(()=>[ue(_e(N(n).protocol)+" ",1)]),_:1}),F(w,{label:"请求方式"},{default:M(()=>[ue(_e(N(n).method)+" ",1)]),_:1}),F(w,{label:"认证信息"},{default:M(()=>[F(h,{disabled:N(g),style:{width:"60%"},modelValue:N(n).secretIds,"onUpdate:modelValue":_[6]||(_[6]=C=>N(n).secretIds=C),remote:"",filterable:"",multiple:"","remote-show-suffix":"",loading:N(i),"remote-method":N(s)},{default:M(()=>[(G(!0),ie(Ve,null,Me(N(r),C=>(G(),ae(y,{key:C.appId,label:C.name+": "+N(Wr)(C.appId),value:C.id},{default:M(()=>[te("span",{style:{float:"left"}},_e(C.name),1),te("span",{style:{float:"right",color:"var(--el-text-color-secondary)"}},_e(N(Wr)(C.appId)),1)]),_:2},1032,["label","value"]))),128))]),_:1},8,["disabled","modelValue","loading","remote-method"])]),_:1}),F(w,{label:"服务地址"},{default:M(()=>[te("span",{style:{"word-break":"break-all"}},_e(N(n).url),1),N(n).url?ce("",!0):(G(),ie("span",{key:0,class:"tip"},"保存后自动生成"))]),_:1}),N(a)?(G(),ae(w,{key:1,label:"联动工作流",prop:"triggerWorkflow"},{default:M(()=>[te("div",{class:"flex-inline"},[F(V,{disabled:N(g)||N(p),type:"primary",modelValue:N(n).triggerWorkflow,"onUpdate:modelValue":_[7]||(_[7]=C=>N(n).triggerWorkflow=C)},null,8,["disabled","modelValue"]),te("span",{class:"tip ml-15"},"开启时若数据有变动可触发工作流的流转")])]),_:1})):ce("",!0),F(w,{label:"状态",prop:"status"},{default:M(()=>[F(V,{disabled:N(g),type:"primary",modelValue:N(n).status,"onUpdate:modelValue":_[8]||(_[8]=C=>N(n).status=C),"inline-prompt":"","active-value":0,"inactive-value":1,"active-text":"启用","inactive-text":"禁用"},null,8,["disabled","modelValue"])]),_:1}),F(w,{label:"描述"},{default:M(()=>[N(g)?(G(),ie("span",{key:0},_e(N(n).description||"-"),1)):(G(),ae(m,{key:1,placeholder:"请描述应用场景，实现的功能",type:"textarea",autosize:{minRows:3,maxRows:5},"show-word-limit":"",maxlength:"200",modelValue:N(n).description,"onUpdate:modelValue":_[9]||(_[9]=C=>N(n).description=C)},null,8,["modelValue"]))]),_:1})]),_:1},8,["model","rules"])]),_:1},8,["load"])}}});const nf=Le(tf,[["__scopeId","data-v-0ad5e411"]]);var Xn=(t=>(t.left="left",t.right="right",t))(Xn||{}),ze=(t=>(t[t.on=0]="on",t[t.off=1]="off",t))(ze||{});const rf=()=>{const t=ot(),e=Q(null),n={integratorFlag:Fn.off,integratorJson:"",integratorRelationList:[],condition:[],maxperpage:20,paginationFlag:Bn.noPage,requestParamList:[],responseParamList:[]},r=Q(n),i=Q(!1),a=async()=>{i.value=!1;const w=await Do(t.id??"");t.formId=w.form??"",r.value=w,i.value=!0,setTimeout(()=>{_(r.value.requestParamList),m(r.value.responseParamList),e.value=De(r.value)})},s=Q({}),o=Q({}),l=async()=>Object.values(s.value).includes(!0)?(Ke.error("请求参数有重复的参数值,请检查"),Promise.reject(!1)):Object.values(o.value).includes(!0)?(Ke.error("返回参数有重复的参数值,请检查"),Promise.reject(!1)):r.value.action===Oe.update&&!r.value.condition?(Ke.error("请设置更新条件"),Promise.reject(!1)):r.value.action===Oe.delete&&!r.value.condition?(Ke.error("请设置删除条件"),Promise.reject(!1)):(e.value=De(r.value),await No(r.value)),u=ve(()=>t.title===ft.view),f=()=>er(e.value,r.value)||!i.value?Promise.resolve(!0):new Promise((y,h)=>{Ba.confirm("您修改了表单但没有保存，是否需要保存表单并继续？","表单有修改，是否保存?",{confirmButtonText:"保存并继续",cancelButtonText:"不保存",type:"warning",distinguishCancelAndClose:!0,closeOnClickModal:!1,closeOnHashChange:!1,beforeClose(V,E,C){V==="confirm"?(E.confirmButtonLoading=!0,l().then(()=>{E.confirmButtonLoading=!1,y(!0),C()}).catch(()=>{E.confirmButtonLoading=!1,h(),C()})):V==="cancel"?(y(!0),C()):V==="close"&&(h(),C())}})}),g=Q(),p=Q(),v=(w,y)=>{var h;(h=g.value)==null||h.asyncData(w,y)},S=(w,y)=>{var h;(h=p.value)==null||h.asyncData(w,y)},A=w=>{var E,C;const y=(E=g.value)==null?void 0:E.realData,V=((C=O(y,w.controlId??"").filter(j=>j&&j===w.serviceParam))==null?void 0:C.length)||0;s.value[w.controlId??""]=V>1},P=w=>{var E,C;const y=(E=p.value)==null?void 0:E.realData,V=((C=O(y,w.controlId??"").filter(j=>j&&j===w.serviceParam))==null?void 0:C.length)||0;o.value[w.controlId??""]=V>1};function O(w,y){var V;let h=[];for(const E of w)E.controlId===y&&(h=w.map(C=>C.serviceParam)),(V=E.subParams)!=null&&V.length&&h.push(...O(E.subParams,y));return h}const _=w=>{var y;for(const h of w)A(h),(y=h.subParams)!=null&&y.length&&_(h.subParams)},m=w=>{var y;for(const h of w)P(h),(y=h.subParams)!=null&&y.length&&m(h.subParams)};return{initData:a,configForm:r,PaginationFlagEnum:Bn,IntegratorFlagEnum:Fn,onSave:l,onLeave:f,isView:u,requestTableRef:g,responseTableRef:p,requestValidate:s,responseValidate:o,onRequestInput:v,onResponseInput:S,validRequestAll:_,validResponseAll:m}},af=rf,sf=be({__name:"ParamsMapping",props:{visible:{type:Boolean},form:{},readonly:{type:Boolean}},emits:["update:visible","update:form"],setup(t,{emit:e}){const n=t,r=e,i=Be(n,"visible",r),a=qa(n,"form",r),s=ot(),o={label:"serviceName",children:"subParams",value:"jsonPath"},l=[{label:"名称",prop:"serviceParamName"},{label:"源数据",prop:"requestParamJsonPath",alwaysOn:!0,slots:{default:({row:y})=>F(Ds,{disabled:n.readonly,modelValue:y.requestParamJsonPath,"onUpdate:modelValue":h=>y.requestParamJsonPath=h,data:u.value,"check-strictly":!0,clearable:!0,onVisibleChange:h=>S(h,y),props:o,renderAfterExpand:!1,onNodeClick:h=>{h.disabled||(y.requestParamName=h.serviceName,y.requestParamJsonPath=h.jsonPath)}},null)}}],u=Q(),f=Q(!1),g=async y=>{if(v.value.integratorJson)try{f.value=!0;const h=await Co({serviceId:s.id??"",json:v.value.integratorJson});y&&Ke.success("解析成功"),u.value=h}catch(h){}finally{f.value=!1}},p=async()=>{a.value.integratorJson=v.value.integratorJson,a.value.integratorRelationList=v.value.integratorRelationList},v=Q({integratorJson:"",integratorRelationList:[]}),S=(y,h)=>{y&&(h.paramType==="List"?(A(u.value??[],!0),u.value):A(u.value??[],!1))};function A(y,h){var V;for(const E of y)E.paramType!=="List"&&(E.disabled=h),(V=E.subParams)!=null&&V.length&&A(E.subParams,h)}async function P(){var h;const y=De(a.value);if(v.value={integratorRelationList:O(_(y.requestParamList)),integratorJson:y.integratorJson},await g(),(h=y.integratorRelationList)!=null&&h.length){const V=E=>{var C;for(const j of E)m(j),(C=j.subParams)!=null&&C.length&&V(j.subParams)};V(y.integratorRelationList)}}function O(y){return y.map(h=>{var V;return{requestParamJsonPath:"",requestParamName:"",paramType:h.paramType,serviceFieldId:h.fieldId,serviceParamId:h.controlId||"",serviceParamName:h.serviceName,subParams:(V=h.subParams)!=null&&V.length?O(h.subParams):[]}})}function _(y){return y.reduce((h,V)=>{if(V.status===ze.on){const E=V.subParams?_(V.subParams):[];h.push({...V,subParams:E})}return h},[])}const m=y=>{w(v.value.integratorRelationList,y)};function w(y,h){var V;for(const E of y)E.serviceParamId,h.serviceParamId,E.serviceParamId===h.serviceParamId?(E.requestParamName=h.requestParamName,E.requestParamJsonPath=h.requestParamJsonPath):(V=E.subParams)!=null&&V.length&&w(E.subParams,h)}return(y,h)=>{const V=Fe,E=tt;return G(),ae(ir,{title:"设置参数映射关系",modelValue:N(i),"onUpdate:modelValue":h[4]||(h[4]=C=>Se(i)?i.value=C:null),size:"600","append-to-body":"","show-load":P},{footer:M(()=>[F(hn,{editMode:!0,onClose:h[3]||(h[3]=C=>i.value=!1),"on-submit":p})]),default:M(()=>[F(V,{type:"textarea",placeholder:"请输入请求json数据",disabled:y.readonly,modelValue:v.value.integratorJson,"onUpdate:modelValue":h[0]||(h[0]=C=>v.value.integratorJson=C),autosize:{minRows:5,maxRows:6}},null,8,["disabled","modelValue"]),F(E,{type:"primary",class:"mt-10",onClick:h[1]||(h[1]=C=>g(!0)),loading:f.value,disabled:y.readonly},{default:M(()=>[ue(" 解析JSON，生成源数据 ")]),_:1},8,["loading","disabled"]),te("h4",{class:"mt-10 mb-10"},"参数对应关系"),F(Xa,{"table-cols":l,rowKey:"serviceParamId",modelValue:v.value.integratorRelationList,"onUpdate:modelValue":h[2]||(h[2]=C=>v.value.integratorRelationList=C),hideAdd:"",readonly:""},null,8,["modelValue"])]),_:1},8,["modelValue"])}}}),of=(t,e,n)=>{const r=ot(),i=()=>[{label:"含义",prop:"meaning"},{label:"请求参数值",prop:"reqParamValue"},{label:"源数据值",prop:"sourceParamValue",slots:{default:({row:V})=>F(Fe,{modelValue:V.sourceParamValue,"onUpdate:modelValue":E=>V.sourceParamValue=E},null)}}],a=()=>[{label:"含义",prop:"meaning",slots:{default:({row:V})=>F(Fe,{modelValue:V.meaning,"onUpdate:modelValue":E=>V.meaning=E},null)}},{label:"请求参数值",prop:"reqParamValue",slots:{default:({row:V})=>F(Fe,{modelValue:V.reqParamValue,"onUpdate:modelValue":E=>V.reqParamValue=E},null)}},{label:"源数据值",prop:"sourceParamValue",slots:{default:({row:V})=>F(Fe,{modelValue:V.sourceParamValue,"onUpdate:modelValue":E=>V.sourceParamValue=E},null)}},{label:"操作",hide:e,slots:{default:({row:V})=>F(Ge,{type:"danger",underline:!1,onClick:()=>v(V)},{default:()=>[ue("删除")]})}}],s=Q([]),o=Q([]),l=Q({convertReferList:[],convertType:Ee.paramConvert,reqParam:"",sourceData:"",block:"",dataHandle:""}),u=Q(!1),f=Q(!1),g=Q(),p=async()=>{var V,E,C,j,ee,d,x,k,T;if(l.value.convertType=((V=t.paramConvert)==null?void 0:V.convertType)??Ee.paramConvert,l.value.block=(E=t.paramConvert)==null?void 0:E.block,l.value.dataHandle=(C=t.paramConvert)==null?void 0:C.dataHandle,et(r.formId)||It(r.formId)){if(s.value=a(),f.value=!0,(ee=(j=t.paramConvert)==null?void 0:j.convertReferList)!=null&&ee.length){o.value=t.paramConvert.convertReferList;return}setTimeout(()=>{var z;((z=o.value)==null?void 0:z.length)===0&&!e&&S()})}else{const z=await Ro({entryId:r.formId??"",fieldId:t.fieldId});if(z&&(z.type===xt.radio||z.type===xt.multiple||z.type===xt.cascader)){if(s.value=i(),f.value=!1,(x=(d=t.paramConvert)==null?void 0:d.convertReferList)!=null&&x.length){o.value=t.paramConvert.convertReferList;return}P(z.type,z.fieldJson)}else{if(s.value=a(),f.value=!0,(T=(k=t.paramConvert)==null?void 0:k.convertReferList)!=null&&T.length){o.value=t.paramConvert.convertReferList;return}setTimeout(()=>{var B;((B=o.value)==null?void 0:B.length)===0&&!e&&S()})}}},v=V=>{var E;(E=g.value)==null||E.delRow(V.controlId??"")},S=()=>{var V;(V=g.value)==null||V.addRow({meaning:"",reqParamValue:"",sourceParamValue:""})},A=async()=>{l.value={...l.value,convertReferList:o.value,reqParam:t.serviceName,sourceData:t.serviceParam},t.paramConvert=l.value,setTimeout(()=>{n()})};async function P(V,E){var j,ee;const C=(j=JSON.parse(E))==null?void 0:j.options;switch(V){case(xt.radio||xt.multiple):if((C==null?void 0:C.dataOptions.type)===Ns.custom)o.value=C==null?void 0:C.dataOptions.custom.options.map(d=>({meaning:d.label,reqParamValue:d.value,sourceParamValue:""}));else{const d=await Rs(C==null?void 0:C.dataOptions.dict.dictKey);o.value=d.map(x=>({meaning:x.label,reqParamValue:x.value,sourceParamValue:""}))}break;case xt.cascader:o.value=O((ee=C.cascaderData)==null?void 0:ee.options);break}}function O(V){return V.map(E=>{var C;return{meaning:E.label,reqParamValue:E.label,sourceParamValue:"",controlId:E.id,subParams:(C=E.children)!=null&&C.length?O(E.children):[]}})}const _=Q(!1),m=Q([]),w=Q({[Ee.javascript]:"",[Ee.codeLib]:"",[Ee.paramConvert]:""});return{mappingList:o,tableCols:s,colSourceEnum:ei,isVisible:u,submit:A,init:p,addAble:f,onAdd:S,renderTableRef:g,paramConvert:l,testVisible:_,testFields:m,onTest:async V=>{const E=await Uo({block:l.value.block,convertType:l.value.convertType,dataHandle:l.value.dataHandle,testMap:V},r.id);w.value[l.value.convertType]=E},testJavascript:()=>{_.value=!0,m.value=[{...t}],m.value},testResultMap:w}},lf=of,uf=be({__name:"TestTransform",props:{modelValue:{type:Boolean},fields:{},onTest:{type:Function}},emits:["update:modelValue"],setup(t,{emit:e}){const n=t,i=Be(n,"modelValue",e),a=ve(()=>De(n.fields)),s=Q(!1),o=async()=>{try{s.value=!0;const l={};a.value.forEach(u=>{l[u.serviceParam]=u.defaultValue}),await n.onTest(l),i.value=!1}catch{}finally{s.value=!1}};return(l,u)=>{const f=za,g=Fe,p=Ka,v=tt,S=pn;return G(),ae(S,{modelValue:N(i),"onUpdate:modelValue":u[1]||(u[1]=A=>Se(i)?i.value=A:null),title:"转换测试","append-to-body":""},{footer:M(()=>[te("span",{class:"dialog-footer"},[F(v,{onClick:u[0]||(u[0]=A=>i.value=!1)},{default:M(()=>[ue("取消")]),_:1}),F(v,{type:"primary",onClick:o,loading:s.value},{default:M(()=>[ue(" 确定 ")]),_:1},8,["loading"])])]),default:M(()=>[F(p,{data:a.value},{default:M(()=>[F(f,{prop:"serviceName",label:"参数名称"}),F(f,{prop:"defaultValue",label:"参数值"},{default:M(A=>[F(g,{modelValue:A.row.defaultValue,"onUpdate:modelValue":P=>A.row.defaultValue=P},null,8,["modelValue","onUpdate:modelValue"])]),_:1})]),_:1},8,["data"])]),_:1},8,["modelValue"])}}}),cf=be({__name:"TransformMapping",props:{row:{},readonly:{type:Boolean}},emits:["change"],setup(t,{emit:e}){const n=t,r=e,{mappingList:i,tableCols:a,colSourceEnum:s,isVisible:o,submit:l,init:u,onAdd:f,addAble:g,renderTableRef:p,paramConvert:v,testVisible:S,testFields:A,testJavascript:P,testResultMap:O,onTest:_}=lf(n.row,n.readonly,()=>r("change")),m=Q(),w=()=>{var y;(y=m.value)==null||y.validate(h=>{h&&P()})};return(y,h)=>{var T;const V=Ge,E=sr,C=or,j=tt,ee=Ma,d=fn,x=dn,k=pn;return y.row.colSource==N(s).general?(G(),ie("div",{key:0},[F(V,{type:(T=y.row.paramConvert)!=null&&T.convertType?"primary":"info",underline:!1,onClick:h[0]||(h[0]=z=>o.value=!0)},{default:M(()=>{var z;return[ue(_e((z=y.row.paramConvert)!=null&&z.convertType?"已设置":"未设置"),1)]}),_:1},8,["type"]),N(o)?(G(),ae(k,{key:0,title:"转换设置",modelValue:N(o),"onUpdate:modelValue":h[6]||(h[6]=z=>Se(o)?o.value=z:null),width:"800px","append-to-body":""},{footer:M(()=>[F(hn,{editMode:!0,onClose:h[5]||(h[5]=z=>o.value=!1),"on-submit":N(l)},null,8,["on-submit"])]),default:M(()=>[F(Qa,{load:N(u)},{default:M(()=>{var z,B;return[te("div",{class:"params-desc"},[te("span",null,[te("span",null,"请求参数："),F(Qe,{content:(z=y.row)==null?void 0:z.serviceName},null,8,["content"])]),te("span",null,[te("span",null,"源数据："),F(Qe,{content:(B=y.row)==null?void 0:B.serviceParam},null,8,["content"])])]),te("div",{class:"params-desc"},[te("span",null,[te("span",null,"处理方式："),F(C,{modelValue:N(v).convertType,"onUpdate:modelValue":h[1]||(h[1]=L=>N(v).convertType=L)},{default:M(()=>[F(E,{label:N(Ee).paramConvert},{default:M(()=>[ue(" 参数转换 ")]),_:1},8,["label"]),F(E,{label:N(Ee).javascript},{default:M(()=>[ue(" 使用Javascript语言 ")]),_:1},8,["label"]),F(E,{label:N(Ee).codeLib},{default:M(()=>[ue("从代码库选择")]),_:1},8,["label"])]),_:1},8,["modelValue"])])]),N(v).convertType===N(Ee).paramConvert?(G(),ae(Xa,{key:0,readonly:y.readonly,"table-cols":N(a),modelValue:N(i),"onUpdate:modelValue":h[2]||(h[2]=L=>Se(i)?i.value=L:null),hideAdd:!N(g),onAdd:N(f),ref_key:"renderTableRef",ref:p},null,8,["readonly","table-cols","modelValue","hideAdd","onAdd"])):ce("",!0),N(v).convertType===N(Ee).javascript?(G(),ie(Ve,{key:1},[F(ho,{codeType:N($s).javascript,modelValue:N(v).block,"onUpdate:modelValue":h[3]||(h[3]=L=>N(v).block=L),businessType:N(Us).external},null,8,["codeType","modelValue","businessType"]),F(j,{class:"test-btn",onClick:N(P)},{default:M(()=>[ue("测试")]),_:1},8,["onClick"]),N(O)[N(Ee).javascript]?(G(),ie("div",{key:0,class:"item"},[te("div",{class:"item-label"},"测试结果："),te("div",{class:"item-value"},_e(N(O)[N(Ee).javascript]),1)])):ce("",!0)],64)):ce("",!0),N(v).convertType===N(Ee).codeLib?(G(),ie(Ve,{key:2},[F(x,{"label-suffix":"：",ref_key:"codeLibFormRef",ref:m,model:N(v),"hide-required-asterisk":""},{default:M(()=>[F(d,{label:"数据处理",prop:"dataHandle",rules:[{required:!0,message:"请选择数据",trigger:"change"}]},{default:M(()=>[F(Fs,{modelValue:N(v).dataHandle,"onUpdate:modelValue":h[4]||(h[4]=L=>N(v).dataHandle=L),placeholder:"请选择数据处理",load:"OP_DATA_HANDLE"},{default:M(({options:L})=>[(G(!0),ie(Ve,null,Me(L,Z=>(G(),ae(ee,{key:Z.value,label:Z.label,value:Z.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"]),F(j,{class:"test-btn",onClick:w},{default:M(()=>[ue("测试")]),_:1}),N(O)[N(Ee).codeLib]?(G(),ie("div",{key:0,class:"item"},[te("div",{class:"item-label"},"测试结果："),te("div",{class:"item-value"},_e(N(O)[N(Ee).codeLib]),1)])):ce("",!0)],64)):ce("",!0)]}),_:1},8,["load"])]),_:1},8,["modelValue"])):ce("",!0),F(uf,{modelValue:N(S),"onUpdate:modelValue":h[7]||(h[7]=z=>Se(S)?S.value=z:null),fields:N(A),"on-test":N(_)},null,8,["modelValue","fields","on-test"])])):ce("",!0)}}});const pf=Le(cf,[["__scopeId","data-v-2eec7e50"]]),ff=be({__name:"AddParams",props:{visible:{type:Boolean},data:{},rowKey:{},addFiled:{},childrenFiled:{}},emits:["update:visible","addItem"],setup(t,{emit:e}){const n=t,r=e,i=Be(n,"visible",r),a=ve(()=>({value:n.rowKey,label:n.addFiled,children:n.childrenFiled})),s=Q(),o=(f,g)=>g.status===f,l=()=>{var f;(f=s.value)==null||f.filter(ze.off)},u=()=>{var g;const f=(g=s.value)==null?void 0:g.getCheckedNodes();f!=null&&f.length&&r("addItem",f),i.value=!1};return Ze(()=>n.visible,f=>{f&&Qt(()=>l())}),(f,g)=>{const p=tt,v=Bs;return G(),ae(v,{placement:"bottom-start",width:200,trigger:"contextmenu",visible:N(i),"onUpdate:visible":g[0]||(g[0]=S=>Se(i)?i.value=S:null)},{reference:M(()=>[Ha(f.$slots,"default")]),default:M(()=>[te("div",{class:"tree-wrap"},[N(i)?(G(),ae(N(La),{key:0,data:f.data,"show-checkbox":"","node-key":f.rowKey,props:a.value,"filter-node-method":o,ref_key:"treeRef",ref:s},{default:M(({node:S})=>[F(Qe,{content:S.label,"show-after":300},null,8,["content"])]),_:1},8,["data","node-key","props"])):ce("",!0)]),te("div",{class:"btn-warp"},[F(p,{type:"primary",size:"small",onClick:u},{default:M(()=>[ue(" 确定 ")]),_:1})])]),_:3},8,["visible"])}}});const df=be({__name:"ParamsTable",props:{tableCols:{},hideAdd:{type:Boolean},modelValue:{},rowKey:{default:"controlId"},addFiled:{default:"serviceName"},childrenFiled:{default:"subParams"},readonly:{type:Boolean},drag:{}},emits:["update:modelValue","refresh","dragEnd","dragStart"],setup(t,{expose:e,emit:n}){const r=t,i=n,a=qa(r,"modelValue",i),s=Q([]),o=Q(!1);function l(d,x){return d.reduce((k,T)=>{if(T.status===x){const z=T[r.childrenFiled]?l(T[r.childrenFiled],x):[];k.push({...T,[r.childrenFiled]:z})}return k},[])}function u(d,x,k){var T,z;for(const B of d){if(B[r.rowKey]===x){B.status=k,(T=B[r.childrenFiled])!=null&&T.length&&(B[r.childrenFiled]=B[r.childrenFiled].map(L=>({...L,status:k})));return}(z=B[r.childrenFiled])!=null&&z.length&&u(B[r.childrenFiled],x,k)}}const f=d=>{u(a.value??[],d,ze.off),u(s.value??[],d,ze.off),s.value=l(s.value??[],ze.on),i("refresh")},g=d=>{d.map(k=>k[r.rowKey]).map(k=>{u(a.value??[],k,ze.on)}),s.value=l(a.value??[],ze.on),i("refresh")},p=(d,x)=>{v(a.value??[],d,x)};function v(d,x,k){var T;for(const z of d)z[r.rowKey]===x[r.rowKey]?z[k]=x[k]:(T=z[r.childrenFiled])!=null&&T.length&&v(z[r.childrenFiled],x,k)}const S=Q();let A=null;const P=()=>{var x;const d=(x=S.value)==null?void 0:x.$el.querySelector(".el-table__body-wrapper tbody");A=new zs(d,{...Ks(r.drag??{},["enable"]),draggable:".el-table__row",onStart:function(k){k.item.classList.add("row_drag_action"),i("dragStart")},onEnd({item:k,newIndex:T,oldIndex:z}){if(z==null||T==null){console.error("拖拽结束, 但是传入参数有问题, 请检查!",T,z);return}w(k,T,z),k.classList.remove("row_drag_action")}})},O=()=>{A==null||A.destroy(),A=null};Ze(()=>De(r.drag),(d,x)=>{er(d,x)||Qt(()=>{var k;(k=r.drag)!=null&&k.enable?(O(),P()):O()})},{immediate:!0});const _=Q(0),m=Q([]);function w(d,x,k){var de;m.value=V(De(s.value)??[]);const T=m.value[k],z=(de=m.value)==null?void 0:de[x-1],B=x===0&&T.parentId==="0";let L=!1,Z=!1;if(!B){L=z[r.rowKey]===T.parentId||z.parentId===T.parentId;const xe=C(m.value,z.parentId,T.parentId),pe=j(m.value,xe==null?void 0:xe[r.rowKey]);Z=x-k>pe}if(B||L||Z){const xe=m.value.splice(k,1)[0];m.value.splice(x,0,xe),m.value=m.value.map((Pt,vt)=>({...Pt,index:vt}));const pe=De(a.value),wn=V(pe??[]),kn=mo(wn,function(Pt){var vt;return(vt=m.value.find(_n=>_n[r.rowKey]===Pt[r.rowKey]))==null?void 0:vt.index});a.value=E(kn),s.value=l(De(a.value)??[],ze.on)}else s.value=l(De(a.value)??[],ze.on);_.value++,Qt(()=>{P(),i("dragEnd")})}const y=Q([]),h=(d,x)=>{x?y.value.includes(d[r.rowKey])||y.value.push(d==null?void 0:d[r.rowKey]):y.value=y.value.filter(k=>k!==(d==null?void 0:d[r.rowKey]))};function V(d,x="0"){const k=[];return d.forEach(T=>{var z;k.push({...T,parentId:x}),(z=T[r.childrenFiled])!=null&&z.length&&k.push(...V(T[r.childrenFiled]??[],T[r.rowKey]))}),k}function E(d){const x=[],k=new Map;for(const T of d)k.set(T[r.rowKey],{...T,[r.childrenFiled]:[]});for(const T of d){const z=T[r.rowKey],B=T.parentId??"0";if(B==="0")x.push(k.get(z));else{const L=k.get(B);L&&L[r.childrenFiled].push(k.get(z))}}return x}function C(d,x,k){const T=d.find(z=>z[r.rowKey]===x);return T&&T.parentId!==k?C(d,T.parentId,k):T}function j(d,x){return d.reduce((k,T)=>T.parentId===x?k+1+j(T[r.childrenFiled],T[r.rowKey]):k,0)}Ls(()=>{O()});const ee=js(()=>{s.value=l(De(a.value)??[],ze.on)});return Ze(()=>s.value,()=>{ee()}),e({deleteItem:f,realData:s,asyncData:p}),(d,x)=>{const k=za,T=Ka,z=Ge;return G(),ie("div",{class:"params-table-wrap"},[(G(),ae(T,{ref_key:"tableRef",ref:S,data:s.value,class:"params-table",key:_.value,"row-key":d.rowKey,"tree-props":{children:"subParams"},"expand-row-keys":y.value,onExpandChange:h},{default:M(()=>[(G(!0),ie(Ve,null,Me(d.tableCols,(B,L)=>(G(),ie(Ve,{key:L},[B.hide?ce("",!0):(G(),ie(Ve,{key:0},[B.slots&&(!d.readonly||B.alwaysOn)?(G(),ae(k,Yr(Zr({key:0},B)),Ms({_:2},[Me(B.slots||{},(Z,de,xe)=>({name:de,fn:M(pe=>[(G(),ae(qs(Z==null?void 0:Z(pe)),{key:de}))])}))]),1040)):(G(),ae(k,Yr(Zr({key:1},B)),null,16))],64))],64))),128))]),_:1},8,["data","row-key","expand-row-keys"])),!d.hideAdd&&!d.readonly?(G(),ae(ff,{key:0,visible:o.value,"onUpdate:visible":x[1]||(x[1]=B=>o.value=B),data:N(a)||[],onAddItem:g,rowKey:d.rowKey,addFiled:d.addFiled,childrenFiled:d.childrenFiled},{default:M(()=>[F(z,{icon:N(lr),underline:!1,type:"primary",class:"mt-10 add-btn",onClick:x[0]||(x[0]=B=>o.value=!0)},{default:M(()=>[ue(" 添加参数 ")]),_:1},8,["icon"])]),_:1},8,["visible","data","rowKey","addFiled","childrenFiled"])):ce("",!0)])}}});const Ca=Le(df,[["__scopeId","data-v-5904392d"]]),hf=be({__name:"ConfigParamForm",setup(t,{expose:e}){const{configForm:n,initData:r,PaginationFlagEnum:i,IntegratorFlagEnum:a,onSave:s,onLeave:o,isView:l,requestTableRef:u,responseTableRef:f,validRequestAll:g,validResponseAll:p,responseValidate:v,requestValidate:S,onRequestInput:A,onResponseInput:P}=af(),O=ve(()=>l.value||et(n.value.form??"")),_=Q(!1),m=ve(()=>[{label:"名称",prop:"serviceName"},{label:"参数",prop:"serviceParam",slots:{default:({row:d})=>F(Fe,{modelValue:d.serviceParam,"onUpdate:modelValue":x=>d.serviceParam=x,class:S.value[d.controlId??""]?"valid-error":"",onInput:()=>{A(d,"serviceParam"),g(n.value.requestParamList)}},null)}},{label:"类型",prop:"paramType"},{label:"默认值",prop:"defaultValue",alwaysOn:et(n.value.form??""),slots:{default:({row:d})=>F(Fe,{onInput:A(d,"defaultValue"),modelValue:d.defaultValue,"onUpdate:modelValue":x=>d.defaultValue=x},null)}},{label:"必填",prop:"required",alwaysOn:!0,slots:{default:({row:d})=>F("span",null,[d.required?"是":"否"])}},{label:"说明",prop:"description",slots:{default:({row:d})=>F(Fe,{onInput:A(d,"description"),modelValue:d.description,"onUpdate:modelValue":x=>d.description=x},null)}},{label:"参数转换",prop:"paramConvert",alwaysOn:!0,slots:{default:({row:d})=>F(pf,{row:d,readonly:O.value,onChange:()=>A(d,"paramConvert")},null)}},{label:"是否可见",prop:"visibleFlag",alwaysOn:!0,align:"center",slots:{default:({row:d})=>F(Nt,{modelValue:d.visibleFlag,"onUpdate:modelValue":x=>d.visibleFlag=x,"true-label":0,"false-label":1,onchange:A(d,"visibleFlag")},null)}},{label:"空值是否更新",prop:"emptyUpdateFlag",hide:n.value.action!==Oe.update,alwaysOn:!0,slots:{default:({row:d})=>d.serviceParam!=="update_time"?F(Un,{disabled:O.value,type:"primary",modelValue:d.emptyUpdateFlag,"onUpdate:modelValue":x=>d.emptyUpdateFlag=x,"inline-prompt":!0,"active-value":0,"inactive-value":1,"active-text":"是","inactive-text":"否",onChange:A(d,"emptyUpdateFlag")},null):F("span",null,null)}},{label:"排序",prop:"sort",alwaysOn:!0,width:"60px",hide:O.value,slots:{default:({row:d})=>F(Ge,{class:"params-draggable-rank",underline:!1,icon:Qr,title:"拖动排序"},null)}},{label:"操作",fixed:Xn.right,width:"60px",prop:"status",hide:O.value,slots:{default:({row:d})=>F(Ge,{type:"danger",underline:!1,onClick:()=>w(d)},{default:()=>[ue("删除")]})}}]),w=d=>{var x;(x=u.value)==null||x.deleteItem(d.controlId??"")},y=d=>{var x;(x=f.value)==null||x.deleteItem(d.controlId??"")},h=ve(()=>[{label:"名称",prop:"serviceName"},{label:"参数",prop:"serviceParam",slots:{default:({row:d})=>F(Fe,{class:v.value[d.controlId??""]?"valid-error":"",onInput:()=>{P(d,"serviceParam"),p(n.value.responseParamList)},modelValue:d.serviceParam,"onUpdate:modelValue":x=>d.serviceParam=x},null)}},{label:"类型",prop:"paramType"},{label:"是否可见",prop:"visibleFlag",align:"center",alwaysOn:!0,slots:{default:({row:d})=>F(Nt,{modelValue:d.visibleFlag,"onUpdate:modelValue":x=>d.visibleFlag=x,"true-label":0,"false-label":1,onChange:()=>{P(d,"visibleFlag")}},null)}},{label:"排序",prop:"sort",alwaysOn:!0,hide:O.value,width:"60px",slots:{default:({row:d})=>F(Ge,{class:"params-draggable-rank",underline:!1,icon:Qr,title:"拖动排序"},null)}},{label:"操作",prop:"status",width:"60px",fixed:Xn.right,hide:O.value,slots:{default:({row:d})=>F(Ge,{type:"danger",underline:!1,onClick:()=>y(d)},{default:()=>[ue("删除")]})}}]),V={enable:!0,handle:".params-draggable-rank"},E=Q(0),C=Q(),j=()=>{setTimeout(()=>{var d;(d=C.value)==null||d.scrollTo({top:E.value})})},ee=()=>{var d;E.value=((d=C.value)==null?void 0:d.scrollTop)??0};return e({onSave:s,onLeave:o}),Ze(()=>n.value.requestParamList,d=>{},{deep:!0}),(d,x)=>{const k=Ge,T=Js,z=Un,B=fn,L=sr,Z=fo,de=or,xe=dn;return G(),ae(tr,{load:N(r),style:{height:"100%"}},{default:M(()=>[te("div",{ref_key:"loadingDataRef",ref:C,class:"config-form_wrapper"},[F(xe,{"label-suffix":":","label-width":"auto",class:"config-form"},{default:M(()=>[F(B,null,{label:M(()=>[te("div",{class:"flex-inline"},[F(T,{class:"box-item",effect:"dark",content:"接收集成方的json数据，便于设置集成方的参数与我方参数对应关系",placement:"top"},{default:M(()=>[F(k,{type:"primary",underline:!1,icon:N(Hs)},null,8,["icon"])]),_:1}),ue(" 引入集成方参数: ")])]),default:M(()=>[te("div",{class:"flex-inline"},[F(z,{modelValue:N(n).integratorFlag,"onUpdate:modelValue":x[0]||(x[0]=pe=>N(n).integratorFlag=pe),"active-value":N(a).on,"inactive-value":N(a).off,disabled:O.value},null,8,["modelValue","active-value","inactive-value","disabled"]),N(n).integratorFlag===N(a).on?(G(),ae(k,{key:0,type:"primary",underline:!1,class:"ml-15",onClick:x[1]||(x[1]=pe=>_.value=!0)},{default:M(()=>[ue(" 设置映射关系 ")]),_:1})):ce("",!0)])]),_:1}),F(B,{class:"top-position"},{label:M(()=>[te("div",{class:"flex-inline"},[ue(" 请求参数: "),te("span",{class:"tip ml-20"}," 可根据您的需要，设置方便记忆的参数名称 ")])]),default:M(()=>[F(Ca,{ref_key:"requestTableRef",ref:u,class:"mt-10","table-cols":m.value,readonly:O.value,modelValue:N(n).requestParamList,"onUpdate:modelValue":x[2]||(x[2]=pe=>N(n).requestParamList=pe),drag:V,onDragEnd:j,onDragStart:ee,onRefresh:x[3]||(x[3]=pe=>N(g)(N(n).requestParamList))},null,8,["table-cols","readonly","modelValue"])]),_:1}),N(n).action===N(Oe).update?(G(),ae(B,{key:0,label:"更新条件"},{default:M(()=>[te("div",null,[F(Nn,{disabled:O.value,condition:N(n).condition,"onUpdate:condition":x[4]||(x[4]=pe=>N(n).condition=pe),conditionForm:N(n).form,"btn-disabled":!N(n).form,customControlOptions:[{label:"业务系统",value:"system"}]},null,8,["disabled","condition","conditionForm","btn-disabled"])])]),_:1})):ce("",!0),N(n).action===N(Oe).delete?(G(),ae(B,{key:1,label:"删除条件"},{default:M(()=>[te("div",null,[F(Nn,{disabled:O.value,condition:N(n).condition,"onUpdate:condition":x[5]||(x[5]=pe=>N(n).condition=pe),conditionForm:N(n).form,"btn-disabled":!N(n).form,customControlOptions:[{label:"业务系统",value:"system"}]},null,8,["disabled","condition","conditionForm","btn-disabled"])])]),_:1})):ce("",!0),N(n).action===N(Oe).query&&!N(It)(N(n).form??"")?(G(),ae(B,{key:2,label:"查询条件"},{default:M(()=>[te("div",null,[F(Nn,{disabled:O.value,condition:N(n).condition,"onUpdate:condition":x[6]||(x[6]=pe=>N(n).condition=pe),conditionForm:N(n).form,"btn-disabled":!N(n).form,customControlOptions:[{label:"业务系统",value:"system"}]},null,8,["disabled","condition","conditionForm","btn-disabled"]),F(de,{class:"mt-10",modelValue:N(n).paginationFlag,"onUpdate:modelValue":x[8]||(x[8]=pe=>N(n).paginationFlag=pe),disabled:O.value},{default:M(()=>[te("div",{class:"page-setting"},[te("div",{class:"page-setting-item"},[te("div",{class:"left"},[F(L,{label:N(i).page},{default:M(()=>[ue(" 设置分页 ")]),_:1},8,["label"])]),te("div",{class:"page-num"},[F(Z,{disabled:O.value,modelValue:N(n).maxperpage,"onUpdate:modelValue":x[7]||(x[7]=pe=>N(n).maxperpage=pe),controls:!1},null,8,["disabled","modelValue"])])])])]),_:1},8,["modelValue","disabled"])])]),_:1})):ce("",!0),F(B,{label:"返回参数",class:"top-position"},{default:M(()=>[F(Ca,{ref_key:"responseTableRef",ref:f,style:{width:"800px"},readonly:O.value,"table-cols":h.value,modelValue:N(n).responseParamList,"onUpdate:modelValue":x[9]||(x[9]=pe=>N(n).responseParamList=pe),class:"mt-10",drag:V,onDragEnd:j,onDragStart:ee,onRefresh:x[10]||(x[10]=pe=>N(p)(N(n).responseParamList))},null,8,["readonly","table-cols","modelValue"])]),_:1})]),_:1}),F(sf,{visible:_.value,"onUpdate:visible":x[11]||(x[11]=pe=>_.value=pe),form:N(n),"onUpdate:form":x[12]||(x[12]=pe=>Se(n)?n.value=pe:null),readonly:O.value},null,8,["visible","form","readonly"])],512)]),_:1},8,["load"])}}});const mf=Le(hf,[["__scopeId","data-v-af0431d8"]]),yf=be({__name:"DrawerHeader",emits:["close"],setup(t,{emit:e}){const n=e,r=ot();return(i,a)=>{var s;return G(),ie("div",{class:"drawer-header"},[te("div",{class:"header-wrap"},[te("div",{class:"title"},[te("span",null,_e(((s=N(r))==null?void 0:s.title)??""),1)]),te("div",null,[F(mt,{"icon-class":"Close",class:"back",onClick:a[0]||(a[0]=o=>n("close"))})])]),Ha(i.$slots,"default",{},void 0,!0)])}}});const gf=Le(yf,[["__scopeId","data-v-aeb1c057"]]),vf=be({__name:"ServiceDrawer",props:{visible:{type:Boolean}},emits:["update:visible"],setup(t,{emit:e}){const i=Be(t,"visible",e),a=ot(),{activeTab:s,configParamsRef:o,baseFormRef:l,loading:u,onSave:f,isView:g,handleTabsLeave:p}=Up();return(v,S)=>{const A=rr,P=ja,O=tt;return G(),ie("div",{class:"service-drawer"},[F(ir,{size:"90%",modelValue:N(i),"onUpdate:modelValue":S[3]||(S[3]=_=>Se(i)?i.value=_:null),"with-header":!1,direction:"btt"},{default:M(()=>[te("div",{class:"drawer-content"},[F(gf,{active:N(s),"onUpdate:active":S[1]||(S[1]=_=>Se(s)?s.value=_:null),onClose:S[2]||(S[2]=_=>i.value=!1)},{default:M(()=>[te("div",{class:"tab-wrap"},[F(P,{modelValue:N(s),"onUpdate:modelValue":S[0]||(S[0]=_=>Se(s)?s.value=_:null),class:"az_tabs-custom","before-leave":N(p)},{default:M(()=>[F(A,{label:"基本信息",name:"1"},{default:M(()=>[F(nf,{ref_key:"baseFormRef",ref:l},null,512)]),_:1}),F(A,{label:"参数配置",name:"2"},{default:M(()=>[N(s)===N(Xt).config?(G(),ae(mf,{key:0,ref_key:"configParamsRef",ref:o},null,512)):ce("",!0)]),_:1})]),_:1},8,["modelValue","before-leave"]),N(g)?ce("",!0):(G(),ae(O,{key:0,class:"save-btn",type:"primary",onClick:N(f),loading:N(u),disabled:N(a).custom_loading},{default:M(()=>[ue(" 保存 ")]),_:1},8,["onClick","loading","disabled"]))])]),_:1},8,["active"])])]),_:1},8,["modelValue"])])}}});const bf=Le(vf,[["__scopeId","data-v-cdf9d001"]]),xf=be({__name:"External",setup(t){const{config:e,pendingRef:n,isVisible:r,azPageRef:i,addExternal:a}=Rp();return(s,o)=>{const l=tt,u=Gs("az-page");return G(),ie("div",{ref_key:"pendingRef",ref:n},[F(u,{ref_key:"azPageRef",ref:i,config:N(e),maxHeight:"var(--az-layout-main-height) - 80px"},{operation:M(()=>[F(l,{type:"primary",onClick:N(a),icon:N(lr)},{default:M(()=>[ue(" 创建服务 ")]),_:1},8,["onClick","icon"])]),_:1},8,["config"]),N(r)?(G(),ae(bf,{key:0,visible:N(r),"onUpdate:visible":o[0]||(o[0]=f=>Se(r)?r.value=f:null)},null,8,["visible"])):ce("",!0)],512)}}});Ja.extend(Ws);function wf(t,e="yyyy-MM-dd HH: mm:ss"){e=e.replaceAll("y","Y").replaceAll("d","D");let n=Ja(t).format(e);const r=_f(t)??0;return n=/WW/.test(n)?n.replace(/WW/,String(r<10?"0"+r:r)):n.replace(/W/,String(r)),n}const kf=function(t){return Ys(t)?new Date(t):null},_f=function(t){const e=kf(t);if(!e)return null;e.setHours(0,0,0,0),e.setDate(e.getDate()+3-(e.getDay()+6)%7);const n=new Date(e.getFullYear(),0,4);return 1+Math.round(((e.getTime()-n.getTime())/864e5-3+(n.getDay()+6)%7)/7)},Sf=be({__name:"ApiKeyCard",props:{apiKeyItem:{},modelValue:{},tableFields:{},tip:{}},emits:["update:modelValue","refresh","changeStatus","handleEdit","handleDelete","handleClick"],setup(t,{emit:e}){const n=t,r=ve(()=>{const g={};return n.tableFields.reduce((p,v)=>(p[v.prop]=v,p),g)}),i=e,a=async()=>{i("changeStatus",{id:n.apiKeyItem.id,status:n.apiKeyItem.status===0?1:0})},s=()=>{i("handleEdit",n.apiKeyItem)},o=()=>{i("handleDelete",n.apiKeyItem.id)},l=()=>{i("handleClick",n.apiKeyItem.id)},u=()=>{const{appId:g,appSecret:p}=n.apiKeyItem;Na(`appId: ${g}; API Key: ${p}`)},f=[{type:"primary",onClick:s,text:"编辑",icon:F(mt,{iconClass:"EditPen"},null)},{type:"danger",text:"删除",icon:F(mt,{iconClass:"Delete"},null),popconfirmProps:{title:"确定要删除该API Key吗？",confirm:o,teleported:!1}}];return(g,p)=>{const v=Zs,S=Ge,A=Qs;return G(),ae(A,{onClick:l,class:"api_key-card"},{header:M(()=>[te("div",{class:"card-header"},[te("header",null,[F(v,{tag:"b"},{default:M(()=>[ue(_e(n.apiKeyItem.name),1)]),_:1})]),te("span",{class:"mr-10"},_e(N(wf)(n.apiKeyItem.createTime)),1),F(yo,{onClick:p[0]||(p[0]=Gt(()=>{},["stop"])),class:"table-opts",num:2,rowId:n.apiKeyItem.appId,list:f},null,8,["rowId"])])]),default:M(()=>{var P,O,_;return[te("section",null,[te("div",{class:"left-wrap"},[te("div",{class:"left-item mr-10"},[(P=r.value.appId)!=null&&P.show?(G(),ae(Qe,{key:0},{default:M(()=>[te("span",{class:"colLabel"},"APPID:"),ue(" "+_e(n.apiKeyItem.appId),1)]),_:1})):ce("",!0)]),te("div",{class:"left-item"},[(O=r.value.appSecret)!=null&&O.show?(G(),ae(Qe,{key:0,enterable:!0},{default:M(()=>[te("span",{class:"colLabel"},"API Key:"),te("span",null,_e(n.apiKeyItem.appSecret),1)]),_:1})):ce("",!0),F(S,{icon:N(Da),class:"ml-10",onClick:Gt(u,["stop"]),underline:!1},null,8,["icon","onClick"])])]),te("div",{class:"right-wrap"},[(_=r.value.grantType)!=null&&_.show?(G(),ie("div",{key:0},[te("span",{class:"colLabel"},"服务权限:"),ue(" "+_e(n.apiKeyItem.grantType===N(wt).all?"全部":"部分"),1)])):ce("",!0),r.value.status.show?(G(),ie("div",{key:1,class:"flex-center"},[te("span",{class:"colLabel"},"状态:"),F(go,{onClick:p[1]||(p[1]=Gt(()=>{},["stop"])),dictKey:N(Ga),tip:"确定禁用该API Key？",modelValue:g.modelValue,updateFetch:a},null,8,["dictKey","modelValue"])])):ce("",!0)])])]}),_:1})}}});const If=Le(Sf,[["__scopeId","data-v-38cc0387"]]),Tf=be({__name:"SelectService",props:{selectServiceVisible:{type:Boolean},mode:{},formData:{}},emits:["comfirm","update:selectServiceVisible"],setup(t,{emit:e}){const n=t,r=e,i=Q([]),a=Q(),s=Be(n,"selectServiceVisible",r);Xs(()=>{i.value=De(n.formData.serviceArr),i.value.forEach(u=>{Qt(()=>{var f,g;(g=(f=a.value)==null?void 0:f.tableRef)==null||g.toggleRowSelection(u,!0)})})});const o=async()=>{s.value=!1,r("comfirm",i.value)},l={id:"lowcode_selectService",query:{list:[{type:"input",label:"名称",prop:"searchVal",placeholder:"输入名称或描述进行搜索"}]},request:{api:pt.listForSecret},operation:{hideTableOperation:!0},table:{tableProps:{rowKey:u=>u.id,"onSelection-change":u=>{i.value=u}},tableCols:[{type:"selection",reserveSelection:!0},{prop:"name",label:"服务名称"},{prop:"description",label:"描述"}]}};return(u,f)=>{const g=pn;return G(),ae(g,{modelValue:N(s),"onUpdate:modelValue":f[1]||(f[1]=p=>Se(s)?s.value=p:null),title:"选择服务"},{footer:M(()=>[F(hn,{editMode:!0,onClose:f[0]||(f[0]=p=>s.value=!1),"on-submit":o})]),default:M(()=>[F(Wa,{ref_key:"azPageRef",ref:a,config:l},null,512)]),_:1},8,["modelValue"])}}}),Pf=be({__name:"ApiKeyAdd",props:{id:{},visible:{type:Boolean},mode:{}},emits:["refresh","update:visible"],setup(t,{emit:e}){const n=e,r=t,i=ve(()=>f.value.whitelistArr),a=Q(!1),s=Zt({[Te.add]:"创建API Key",[Te.edit]:"编辑API Key",[Te.detail]:"查看API Key"}),o=Be(r,"visible",n),l=Q(),u={appSecret:"",id:"",appId:"",grantType:wt.all,name:"",createTime:new Date,status:0,serviceIds:[],serviceArr:[],whitelistArr:[""],whitelist:""},f=Q({...u}),g=Zt({name:[{required:!0,message:"请输入名称",trigger:"blur"}],grantType:[{required:!0,message:"请选择接口权限",trigger:"change"}]}),p=async m=>{var w;(w=f.value.whitelistArr)==null||w.splice(m,1)},v=m=>{m===wt.all&&(a.value=!1)},S=()=>{a.value=!0},A=m=>{f.value.serviceArr=m},P=async()=>{var m;if(r.mode===Te.add)f.value={...u};else{const w=await pt.getById(r.id);f.value={...w,whitelistArr:(m=w.whitelist)==null?void 0:m.split(","),serviceArr:w.serviceInfoList}}},O=()=>{var m;f.value.whitelistArr||(f.value.whitelistArr=[]),(m=f.value.whitelistArr)==null||m.push("")},_=async m=>{var y,h,V;await((y=l.value)==null?void 0:y.validate());const w={...f.value,whitelist:(h=f.value.whitelistArr)==null?void 0:h.join(","),serviceIds:(V=f.value.serviceArr)==null?void 0:V.map(E=>E.id)};r.mode===Te.add?(await pt.add(w),Ke.success("添加成功")):(await pt.update({...w,id:r.id}),Ke.success("修改成功")),m==="submitContinue"&&(f.value={...u}),n("refresh")};return(m,w)=>{const y=Fe,h=fn,V=sr,E=or,C=eo,j=tt,ee=to,d=no,x=dn;return G(),ie(Ve,null,[F(ir,{modelValue:N(o),"onUpdate:modelValue":w[6]||(w[6]=k=>Se(o)?o.value=k:null),size:"500px",title:s[m.mode],"show-load":P},{footer:M(()=>[N(Te).detail!==m.mode?(G(),ae(hn,{key:0,editMode:N(Te).add!==m.mode,onClose:w[5]||(w[5]=k=>o.value=!1),"on-submit":_},null,8,["editMode"])):ce("",!0)]),default:M(()=>[F(x,{ref_key:"ruleFormRef",ref:l,rules:g,model:f.value,"label-width":"135px","label-position":"left"},{default:M(()=>[F(h,{label:"名称",prop:"name"},{default:M(()=>[F(y,{placeholder:"请输入API Key名称",modelValue:f.value.name,"onUpdate:modelValue":w[0]||(w[0]=k=>f.value.name=k),disabled:m.mode===N(Te).detail,maxlength:"20","show-word-limit":""},null,8,["modelValue","disabled"])]),_:1}),F(h,{label:"APPID",prop:"appId"},{default:M(()=>[F(y,{placeholder:"自动生成",modelValue:f.value.appId,"onUpdate:modelValue":w[1]||(w[1]=k=>f.value.appId=k),disabled:""},null,8,["modelValue"])]),_:1}),F(h,{label:"APPKey",prop:"appSecret"},{default:M(()=>[F(y,{placeholder:"自动生成",modelValue:f.value.appSecret,"onUpdate:modelValue":w[2]||(w[2]=k=>f.value.appSecret=k),disabled:""},null,8,["modelValue"])]),_:1}),F(h,{label:"APPID",prop:"apiAuth"},{default:M(()=>[F(d,{style:{width:"100%"}},{default:M(()=>[F(C,null,{default:M(()=>[F(E,{modelValue:f.value.grantType,"onUpdate:modelValue":w[3]||(w[3]=k=>f.value.grantType=k),disabled:m.mode===N(Te).detail,onChange:v},{default:M(()=>[F(V,{label:N(wt).all,size:"large"},{default:M(()=>[ue("全部服务")]),_:1},8,["label"]),F(V,{label:N(wt).part,size:"large"},{default:M(()=>[ue("部分服务")]),_:1},8,["label"])]),_:1},8,["modelValue","disabled"])]),_:1}),f.value.grantType===N(wt).part?(G(),ae(C,{key:0},{default:M(()=>[F(d,null,{default:M(()=>[F(C,{span:5},{default:M(()=>[F(j,{link:"",type:"primary",disabled:N(Te).detail===m.mode,onClick:S},{default:M(()=>[ue(" 选择服务 ")]),_:1},8,["disabled"])]),_:1}),F(C,{span:19},{default:M(()=>[(G(!0),ie(Ve,null,Me(f.value.serviceArr,k=>(G(),ae(ee,{key:k==null?void 0:k.id,class:"mr-10"},{default:M(()=>[ue(_e(k.name),1)]),_:2},1024))),128))]),_:1})]),_:1})]),_:1})):ce("",!0)]),_:1})]),_:1}),F(h,{label:"状态"},{default:M(()=>[F(Fa,{modelValue:f.value.status,"onUpdate:modelValue":w[4]||(w[4]=k=>f.value.status=k),activeValue:0,disabled:m.mode===N(Te).detail,inactiveValue:1},null,8,["modelValue","disabled"])]),_:1}),F(h,{label:"IP白名单"},{default:M(()=>[F(d,{class:"w100"},{default:M(()=>[(G(!0),ie(Ve,null,Me(f.value.whitelistArr,(k,T)=>(G(),ae(C,{key:T},{default:M(()=>[F(y,{class:"whiteList",modelValue:i.value[T],"onUpdate:modelValue":z=>i.value[T]=z,disabled:m.mode===N(Te).detail},null,8,["modelValue","onUpdate:modelValue","disabled"]),F(j,{type:"danger",class:"deleteBtn",link:"",disabled:m.mode===N(Te).detail,onClick:()=>p(T)},{default:M(()=>[ue(" 删除 ")]),_:2},1032,["disabled","onClick"])]),_:2},1024))),128)),F(C,null,{default:M(()=>[F(j,{link:"",type:"primary",class:"mt-5 mb-10",onClick:O,disabled:m.mode===N(Te).detail},{default:M(()=>[ue(" 添加 ")]),_:1},8,["disabled"])]),_:1})]),_:1})]),_:1})]),_:1},8,["rules","model"])]),_:1},8,["modelValue","title"]),a.value?(G(),ae(Tf,{key:0,mode:m.mode,formData:f.value,selectServiceVisible:a.value,"onUpdate:selectServiceVisible":w[7]||(w[7]=k=>a.value=k),onComfirm:A},null,8,["mode","formData","selectServiceVisible"])):ce("",!0)],64)}}});const Vf=Le(Pf,[["__scopeId","data-v-edb08884"]]),Of=be({__name:"MyApiKey",setup(t){const e=Q(Te.add),n=Q(!1),r=Q(),i=Q(),a=Q(),s=Q("确定改变API Key状态吗？"),o={id:"lowcode_myApiKey",query:{list:[{type:"input",label:"名称",prop:"name"},{type:"input",label:"APPID",prop:"appId"},{type:"select",label:"状态",prop:"status",options:Ga,extraOptions:[{label:"全部",value:""}],initValue:ro}]},table:{tableCols:[{label:"APPID",prop:"appId"},{label:"API Key",prop:"appSecret"},{label:"服务权限",prop:"grantType"},{label:"创建时间",prop:"createTime"},{label:"状态",prop:"status"}]},request:{api:pt.listPage},operation:{fullEl:a}},l=async()=>{var S;await((S=i.value)==null?void 0:S.refresh())},u=()=>{e.value=Te.add,n.value=!0},f=async S=>{await pt.updateStatus(S),Ke.success("操作成功！"),l()},g=async S=>{e.value=Te.edit,r.value=S.id,n.value=!0},p=async S=>{await pt.delete(S),Ke.success("删除成功！"),l()},v=S=>{e.value=Te.detail,r.value=S,n.value=!0};return(S,A)=>{const P=tt;return G(),ie(Ve,null,[te("div",{ref_key:"pendingRef",ref:a},[F(Wa,{ref_key:"azPageRef",ref:i,config:o},{operation:M(()=>[F(P,{type:"primary",icon:N(lr),onClick:A[0]||(A[0]=O=>u())},{default:M(()=>[ue(" 创建APIKEY ")]),_:1},8,["icon"])]),table:M(({tableData:O,tableMode:_,tableFields:m})=>[(G(!0),ie(Ve,null,Me(O,(w,y)=>(G(),ae(If,{key:y,class:ar(["apiKeyCard mb-10",_]),apiKeyItem:w,tableFields:m,modelValue:w.status,tip:s.value,onRefresh:l,onChangeStatus:f,onHandleEdit:g,onHandleDelete:p,onHandleClick:v},null,8,["class","apiKeyItem","tableFields","modelValue","tip"]))),128))]),_:1},512)],512),F(Vf,{id:r.value,mode:e.value,visible:n.value,"onUpdate:visible":A[1]||(A[1]=O=>n.value=O),onRefresh:l},null,8,["id","mode","visible"])],64)}}});const Ef=Le(Of,[["__scopeId","data-v-011b67d2"]]),pd=be({__name:"routePage",setup(t){const e=["1","2"];return(n,r)=>{const i=rr;return G(),ae(ao,{tabs:e,"query-key":"external"},{default:M(()=>[F(i,{label:"对外服务",name:"1",lazy:""},{default:M(()=>[F(xf)]),_:1}),F(i,{label:"我的API Key",name:"2",lazy:""},{default:M(()=>[F(Ef)]),_:1})]),_:1})}}});export{pd as default};
