import{d as M,hd as $,m3 as j,c as o,r as n,o as O,f as V,h as B,k as C,p as X,a2 as I,_ as K}from"./index-b80d5ef5.js";const T=M({__name:"Resize",props:{direction:{default:"right"},options:{},cursor:{}},setup(E){$(e=>({"4e20b258":h.value}));const t=E;function d(e){return t.options.min&&e<t.options.min&&(e=t.options.min),t.options.max&&e>t.options.max&&(e=t.options.max),e}const v=new Map;function m(e=!1){const s=document.body;Object.entries(R.value).forEach(([k,w])=>{const u=k,D=e?v.get(u):w;!e&&v.set(u,s.style[u]),s.style[u]=D})}const c=j("resizeSettings",{}),p=o(()=>t.options.id),f=o(()=>`${t.direction}_${t.options.init}`),g=o(()=>{const e=c.value[p.value],s=(e==null?void 0:e.key)===f.value?e.value:t.options.init;return d(s)}),a=o(()=>["left","right"].includes(t.direction)),r=n(!1),z=n(),_=n(0),l=n(0),y=n(0),h=o(()=>t.cursor??(a.value?"ew-resize":"ns-resize")),R=o(()=>({cursor:h.value})),S=o(()=>{const e=y.value+l.value*(["left","top"].includes(t.direction)?-1:1);return d(e)}),x=e=>{l.value=0,_.value=a.value?e.pageX:e.pageY,r.value=!0,y.value=g.value,document.onselectstart=function(){return!1},document.ondragstart=function(){return!1},document.addEventListener("mousemove",b),document.addEventListener("mouseup",i),document.addEventListener("visibilitychange",i),m()},b=e=>{z.value&&(l.value=(a.value?e.pageX:e.pageY)-_.value)},i=()=>{document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",i),document.removeEventListener("visibilitychange",i),document.onselectstart=null,document.ondragstart=null,m(!0),c.value={...c.value,[p.value]:{key:f.value,value:S.value}},r.value=!1},L=o(()=>{const e={},s=`${r.value?S.value:g.value}px`;return a.value?e.width=s:e.height=s,e});return(e,s)=>(O(),V("div",{ref:"azResizeRef",class:X(["az_resize",[`is-${e.direction}`,r.value&&"is-drag"]]),style:I(L.value)},[B(e.$slots,"default",{},void 0,!0),C("div",{class:"az_resize-drag",ref_key:"dragTarget",ref:z,onMousedown:x},null,544)],6))}});const F=K(T,[["__scopeId","data-v-db2c9545"]]);export{F as R};
