import{c as v,ka as o,y as k,z as C,d as Q,r as m,bX as g,kb as U,o as d,f as _,b as w,I as S,B as N,C as X,l as h,h as $,e as j,S as G,a2 as H,Q as J,dI as z,aT as K,m as O,t as A,_ as L}from"./index-b80d5ef5.js";import{E as M}from"./el-input-number-c15b1cc7.js";function Y(l,f,n){const r=v(()=>{const a=Number(l.min??void 0);return isNaN(a)?n==null?void 0:n.minDefault:a}),t=v(()=>{let a=Number(l.max??void 0);if(isNaN(a)){const u=n==null?void 0:n.maxDefault;if(o(u))a=u;else return 999999999999999}return o(r.value)&&a<r.value&&(a=r.value),a});k(r,(a,u)=>{a!==u&&s.value&&r.value&&s.value<r.value&&(s.value=r.value)}),k(t,(a,u)=>{a!==u&&s.value&&t.value&&s.value>t.value&&(s.value=t.value)});const x=a=>{let u=Number(a??void 0);if(!isNaN(u))return o(r.value)&&u<r.value&&(u=r.value),o(t.value)&&u>t.value&&(u=t.value),u},s=v({set(a){f==null||f("update:modelValue",x(a))},get(){const a=Number(l.modelValue??void 0);return isNaN(a)?void 0:a}});return C(()=>{o(l.max)&&o(l.min)&&Number(l.max)<Number(l.min)&&console.error(`自定义错误: [AzSlider | AzInputNumber] 最小值(${l.min})不应大于最大值${l.max}，已自动修复为最小值${r.value}、最大值${t.value}`)}),{min:r,max:t,num:s,handleValueOnClear:()=>{if(l.valueOnClear!=null&&s.value==null){const a=typeof l.valueOnClear=="string"?{min:l.min,max:l.min}[l.valueOnClear]:l.valueOnClear;s.value=a}}}}const Z=Q({__name:"AzInputNumber",props:{modelValue:{},placeholder:{},prefix:{},suffix:{},precision:{},isThousandth:{type:Boolean},width:{},max:{},min:{},valueOnClear:{},align:{default:"left"}},emits:["update:modelValue"],setup(l,{emit:f}){const n=l,r=f,{max:t,min:x,num:s,handleValueOnClear:V}=Y(n,r),a=m(),u=m(),c=m(),{width:B}=g(c,void 0,{box:"border-box"}),b=m(),{width:F}=g(b,void 0,{box:"border-box"}),T=v(()=>({"--az-number-prefix-width":B.value+"px","--az-number-suffix-width":F.value+"px","--az-number-width":n.width??"200px","--az-number-align":n.align}));C(()=>{const e=z(a),i=z(u);c.value&&(e==null||e.appendChild(c.value)),b.value&&(e==null||e.appendChild(b.value)),i&&(e==null||e.appendChild(i))});const p=m(!0),D=v(()=>U(n.modelValue,n.precision)),I=()=>{V(),p.value=!0},R=()=>{p.value=!1},E=()=>{var e;(e=a.value)==null||e.focus()},y=m(!0);return k(()=>[n.max,n.min],()=>{y.value=!1,K(()=>y.value=!0)}),C(()=>{var i;const e=z(a);(i=e==null?void 0:e.querySelector("input.el-input__inner"))==null||i.setAttribute("step","0.0000001")}),(e,i)=>{const P=M,W=J;return d(),_("div",{class:"az_number",style:H(T.value)},[y.value?(d(),w(P,S({key:0,ref_key:"elInputNumberRef",ref:a,modelValue:N(s),"onUpdate:modelValue":i[0]||(i[0]=q=>X(s)?s.value=q:null),placeholder:e.placeholder,precision:e.precision,max:N(t)??999999999999999,min:N(x)??void 0},e.$attrs,{onBlur:I,onFocus:R,class:"az_number-input"}),null,16,["modelValue","placeholder","precision","max","min"])):h("",!0),e.prefix||e.$slots.prefix?(d(),_("div",{key:1,class:"az_number-group az_number-prefix",ref_key:"prefixRef",ref:c},[$(e.$slots,"prefix",{},()=>[O(A(e.prefix),1)],!0)],512)):h("",!0),e.suffix||e.$slots.suffix?(d(),_("div",{key:2,class:"az_number-group az_number-suffix",ref_key:"suffixRef",ref:b},[$(e.$slots,"suffix",{},()=>[O(A(e.suffix),1)],!0)],512)):h("",!0),e.isThousandth?j((d(),w(W,S({key:3,"model-value":D.value,class:"az_number-symbol",ref_key:"symbolRef",ref:u},e.$attrs,{placeholder:e.placeholder,onFocus:E}),null,16,["model-value","placeholder"])),[[G,p.value]]):h("",!0)],4)}}});const le=L(Z,[["__scopeId","data-v-eeb6789b"]]);export{le as A};
