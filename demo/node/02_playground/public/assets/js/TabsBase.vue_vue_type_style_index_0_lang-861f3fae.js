import{jG as F,c as b,r as T,d as B,g$ as C,y as E,B as o,o as c,b as g,w as v,f as _,g as y,F as I,I as w,C as D,lq as h,O as S,a9 as V,h as k,N as $}from"./index-b80d5ef5.js";import{a as z,u as H}from"./useValidateError-9f6399dc.js";function R(a){var p;const i=F(),n=b(()=>!!i),d=b(()=>!n.value),r=b(()=>n.value?a.fields.filter(e=>!i||!!i.getFieldShow(e.fieldId)):a.fields),u=T((p=r.value[0])==null?void 0:p.fieldId),m=b(()=>n.value&&a.options.oneHide&&r.value.length<=1);return z(a,({fieldIds:e})=>{var t;const s=(t=a.fields.find(f=>e.includes(f.fieldId)))==null?void 0:t.fieldId;s&&(u.value=s)}),H(a,({fieldIds:e})=>{var t;const s=(t=a.fields.find(f=>e.includes(f.fieldId)))==null?void 0:t.fieldId;s&&(u.value=s)}),{sonFields:r,activeTab:u,isHide:m,render:i,isRender:n,isDesigner:d}}const q=B({inheritAttrs:!1,__name:"TabsBase",props:{field:{}},setup(a){const i=a,{sonFields:n,activeTab:d,isHide:r,isDesigner:u}=R(i.field),{key:m,reload:p}=C();return E(()=>[...n.value].map(e=>e.fieldId),(e,s)=>{u.value&&e.length&&e.length===s.length&&!V(e,s)&&p()}),(e,s)=>{const t=$,f=S;return o(r)?(c(),_("div",{key:1,class:"az_tabs-one"},[(c(!0),_(I,null,y(o(n),l=>k(e.$slots,"default",{key:l.fieldId,subField:l})),128))])):(c(),g(f,w({modelValue:o(d),"onUpdate:modelValue":s[0]||(s[0]=l=>D(d)?d.value=l:null),type:e.field.options.type,"tab-position":e.field.options.position,key:o(m),class:["az_tabs-designer",{"az_tabs-custom":![o(h).card,o(h).borderCard].includes(e.field.options.type)}]},e.$attrs),{default:v(()=>[(c(!0),_(I,null,y(o(n),l=>(c(),g(t,{label:l.options.label,name:l.fieldId,key:l.fieldId},{default:v(()=>[k(e.$slots,"default",{subField:l})]),_:2},1032,["label","name"]))),128))]),_:3},16,["modelValue","type","tab-position","class"]))}}});export{q as _};
