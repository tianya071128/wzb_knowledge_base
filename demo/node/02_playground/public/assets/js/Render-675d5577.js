import{d as F,wA as S,jC as V,c as r,jG as g,bK as v,eK as $,vY as h,n as u,jD as m,r as w,o as d,b as p,w as c,B as o,f as x,l as E,i as R,C,a2 as A,ex as B}from"./index-b80d5ef5.js";import{F as D}from"./FormItemFieldWrapper-ec4d2a36.js";import{u as I,_ as N}from"./Base.vue_vue_type_script_setup_true_lang-03820366.js";import"./useValidateError-9f6399dc.js";import"./useFieldMaxWidth-d82f063e.js";import"./AddressBase.vue_vue_type_script_setup_true_lang-d809ffc6.js";import"./AzCascader.vue_vue_type_style_index_0_lang-adc6a4ab.js";import"./AzDatePicker.vue_vue_type_style_index_0_lang-c5632a92.js";import"./index-318b68f4.js";import"./AzInputNumber-d6212644.js";import"./el-input-number-c15b1cc7.js";import"./AzTimePicker.vue_vue_type_style_index_0_lang-3726374e.js";import"./useMultipleVal-904406c1.js";import"./CascaderBase.vue_vue_type_style_index_0_lang-83862970.js";import"./el-dropdown-item-455a6589.js";import"./CardShowFieldItem-fd24f218.js";const Q=F({__name:"Render",props:{field:{},index:{}},setup(k){const l=k,i=S(l.field,r(()=>l.index),{getFormat:e=>l.field.options.showNum===V.single?(e==null?void 0:e[0])??"":Array.isArray(e)?e:[]}),a=g(),s=r(()=>!!a.getFieldAuth(l.field.fieldId,"edit",l.index)),{handleLinkDataFill:b}=I(l.field,v({...$(l)}));a.$on(h,({fieldId:e,index:t})=>{const n=u(t);console.debug(`相关参数如下: ${e}、${l.field.fieldId}、${l.index}、${n}、${i.value}`),e===l.field.fieldId&&(l.index==null||!n.length||n.includes(l.index))&&b(u(i.value))});const y=r(()=>{var e;return!s.value&&(!((e=i.value)!=null&&e.length)||l.field.options.selectMode===m.drop)}),f=w();return(e,t)=>(d(),p(D,{field:e.field,index:e.index},{labelSuffix:c(()=>[o(a).hasFieldLabelTop(l.field.fieldId)?(d(),x("span",{key:0,ref_key:"labelSuffixEl",ref:f,style:{"margin-left":"15px"}},null,512)):E("",!0)]),default:c(()=>[y.value?(d(),p(B,{key:1,content:o(i),field:e.field},null,8,["content","field"])):(d(),x("div",{key:0,style:A({marginTop:!s.value&&l.field.options.selectMode===o(m).tile?"8px":"0"})},[R(N,{ref:"linkDataBaseRef",modelValue:o(i),"onUpdate:modelValue":t[0]||(t[0]=n=>C(i)?i.value=n:null),isView:!s.value,field:e.field,index:e.index,isSon:o(a).checkSonField(e.field.fieldId),labelSuffixEl:f.value},null,8,["modelValue","isView","field","index","isSon","labelSuffixEl"])],4))]),_:1},8,["field","index"]))}});export{Q as default};
