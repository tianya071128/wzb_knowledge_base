import{d as b,R as y,c as _,lX as v,o as i,f,k as V,i as s,B as n,lY as S,p as F,w as p,aq as g,dA as B,F as C,g as E,lZ as h,b as k,C as w,ao as z,ap as O,_ as U}from"./index-b80d5ef5.js";import{E as A}from"./EditorDraggable-a06dbc71.js";import{_ as L}from"./ButtonSelectField.vue_vue_type_script_setup_true_lang-aae15f71.js";const N=b({__name:"SortSetField",props:{modelValue:{},entryId:{},sourceId:{},fields:{},teleported:{type:Boolean,default:!0},btnClass:{},btnPlaceholder:{default:"选择排序字段"}},emits:["update:modelValue"],setup(c,{emit:m}){const t=y(c,"modelValue",m),u=_({get(){return[...t.value??[]]},set(e){t.value=e.map(d=>{var o;const r={fieldId:d.fieldId,type:v.descending};return((o=t.value)==null?void 0:o.find(l=>l.fieldId===d.fieldId))??r})}});return(e,d)=>{const r=z,o=O;return i(),f("div",{class:"sort_field"},[V("div",{class:F(e.btnClass)},[s(L,{modelValue:u.value,"onUpdate:modelValue":d[0]||(d[0]=l=>u.value=l),placeholder:e.btnPlaceholder,"entry-id":e.entryId,fields:e.fields,disabled:!e.entryId&&!e.fields&&!e.sourceId,sourceId:e.sourceId,"filter-options":n(S),prop:{fieldId:"fieldId"},multiple:"",teleported:e.teleported},null,8,["modelValue","placeholder","entry-id","fields","disabled","sourceId","filter-options","teleported"])],2),s(A,{list:n(t),"onUpdate:list":d[1]||(d[1]=l=>w(t)?t.value=l:null)},{default:p(({element:l})=>[s(g,{class:"az-flex-width az-input-prefix",readonly:""},{prefix:p(()=>[s(B,{class:"color-text","field-id":l.fieldId,"entry-id":e.entryId,sourceId:e.sourceId,fields:e.fields},null,8,["field-id","entry-id","sourceId","fields"])]),_:2},1024),s(o,{style:{"max-width":"100px"},modelValue:l.type,"onUpdate:modelValue":a=>l.type=a,placeholder:"请选择",teleported:e.teleported},{default:p(()=>[(i(!0),f(C,null,E(n(h),(a,I)=>(i(),k(r,{key:I,label:a.label,value:a.value},null,8,["label","value"]))),128))]),_:2},1032,["modelValue","onUpdate:modelValue","teleported"])]),_:1},8,["list"])])}}});const T=U(N,[["__scopeId","data-v-490cb3b3"]]);export{T as S};
