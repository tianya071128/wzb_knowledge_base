import{d as I,o as i,b as r,w as a,i as o,f as C,F as E,g as B,B as m,zR as W,m as V,t as M,zO as j,zS as q,k as p,mp as G,l as b,mM as H,c5 as F,ab as P,q as J,Q as R,r as N,z as X,dQ as Y,a4 as Z,eA as x,ds as ee,lr as le,P as oe,av as ae,gT as te,U as se,bn as de,_ as ne,zT as ue,fu as A,e as ie,S as pe,I as re,zU as me}from"./index-b80d5ef5.js";/* empty css                        */import{E as f}from"./routePage-70460a50.js";import{_ as ce}from"./SelectDict.vue_vue_type_script_setup_true_lang-83251d28.js";const he=I({__name:"SelectDisplayEditor",props:{modelValue:{},id:{}},setup(U){return(s,n)=>{const v=F,_=P,h=J,O=R;return i(),r(f,{label:"展示",class:"mb-5"},{default:a(()=>[o(f,{label:"显示方式",type:"secondary"},{default:a(()=>[o(_,{modelValue:s.modelValue.displayMode,"onUpdate:modelValue":n[0]||(n[0]=l=>s.modelValue.displayMode=l)},{default:a(()=>[(i(!0),C(E,null,B(m(W),(l,u)=>(i(),r(v,{key:u,label:l.value},{default:a(()=>[V(M(l.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),s.modelValue.displayMode===m(j)?(i(),C(E,{key:0},[o(f,{label:"排列方式",type:"secondary"},{default:a(()=>[o(_,{modelValue:s.modelValue.distributionMode,"onUpdate:modelValue":n[1]||(n[1]=l=>s.modelValue.distributionMode=l)},{default:a(()=>[(i(!0),C(E,null,B(m(q),(l,u)=>(i(),r(v,{key:u,label:l.value},{default:a(()=>[V(M(l.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),o(f,{type:"secondary",labelWidth:"0"},{default:a(()=>[o(h,{modelValue:s.modelValue.isBorder,"onUpdate:modelValue":n[2]||(n[2]=l=>s.modelValue.isBorder=l),style:{height:"18px"}},{default:a(()=>[p("span",null,"边框选项"),o(G,{tip:"启用后，渲染为带有边框的选项"})]),_:1},8,["modelValue"])]),_:1})],64)):b("",!0),s.modelValue.displayMode===m(H)?(i(),r(f,{key:1,label:"提示文字",type:"secondary"},{default:a(()=>[o(O,{modelValue:s.modelValue.placeholder,"onUpdate:modelValue":n[3]||(n[3]=l=>s.modelValue.placeholder=l),placeholder:"请输入提示文字"},null,8,["modelValue"])]),_:1})):b("",!0)]),_:1})}}}),Ve=I({__name:"CustomDataOptions",props:{modelValue:{},id:{},type:{}},setup(U){const s=U,n=e=>{s.modelValue.options.splice(e,1)},v=e=>{var t,c;return!((c=(t=e==null?void 0:e.relatedContext)==null?void 0:t.element)!=null&&c.isOther)},_=["#fa5353","#f5c13c","#2fcd6e","#3f8cff","#d144f4","#ff9d8d","#a5c71c","#00c7c7","#656565"],h=e=>_[e%_.length],O=()=>{const e=s.modelValue.options.some(c=>c.isOther),t=s.modelValue.options.length-Number(e);s.modelValue.options.splice(t,0,{label:"选项"+(t+1),value:"选项"+(t+1),color:h(t)})},l=()=>{s.modelValue.options.push({label:"其他",value:"其他",color:"#f0f1f4",isOther:!0})},u=N(!1),k=N(""),w=()=>{u.value=!0,k.value=s.modelValue.options.filter(e=>!e.isOther).map(e=>e.label).join(`
`)},y=()=>{const e=s.modelValue.options.find(t=>t.isOther);s.modelValue.options=k.value.split(`
`).filter(t=>!!t).map((t,c)=>({label:t,value:t,isDefault:!1,color:h(c)})),e&&s.modelValue.options.push(e),u.value=!1};return X(()=>{s.modelValue.isValue||s.modelValue.options.forEach(e=>e.value=e.label)}),(e,t)=>{const c=ee,D=R,K=le,T=oe,z=ae,S=te,$=se,L=de;return i(),C(E,null,[p("div",{class:"w100 tr"},[p("span",{class:"mr-5"},"彩色"),o(c,{modelValue:e.modelValue.isColor,"onUpdate:modelValue":t[0]||(t[0]=d=>e.modelValue.isColor=d),size:"small",class:"mr-10"},null,8,["modelValue"]),p("span",{class:"mr-5"},"选项赋值"),o(c,{modelValue:e.modelValue.isValue,"onUpdate:modelValue":t[1]||(t[1]=d=>e.modelValue.isValue=d),size:"small"},null,8,["modelValue"])]),e.modelValue.isValue?(i(),C("div",{key:0,class:"custom-options-header"},[p("span",null,"显示值"),p("span",null,"唯一标识")])):b("",!0),o(m(x),{tag:"div",list:e.modelValue.options,group:{name:"optionItem",pull:!1},animation:"300","ghost-class":"custom-draggable-item",chosenClass:"custom-draggable-item",handle:".custom-options-rank",class:"custom-options-container","item-key":"id",move:v},{item:a(({element:d,index:Q})=>[p("div",{class:"custom-options-item"},[o(f,{id:e.modelValue.isValue?void 0:e.id+".custom."+d.value},{default:a(()=>[o(D,{modelValue:d.label,"onUpdate:modelValue":g=>d.label=g,placeholder:"显示值"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["id"]),e.modelValue.isValue?(i(),r(f,{key:0,id:e.id+".custom."+d.value},{default:a(()=>[o(D,{modelValue:d.value,"onUpdate:modelValue":g=>d.value=g,placeholder:"唯一标识"},null,8,["modelValue","onUpdate:modelValue"])]),_:2},1032,["id"])):b("",!0),p("div",{class:"custom-options-operation"},[e.modelValue.isColor?(i(),r(K,{key:0,modelValue:d.color,"onUpdate:modelValue":g=>d.color=g,size:"small","popper-class":"az-color-clear",predefine:_},null,8,["modelValue","onUpdate:modelValue"])):b("",!0),d.isOther?b("",!0):(i(),r(T,{key:1,class:"custom-options-icon custom-options-rank",title:"移动"},{default:a(()=>[o(m(Y))]),_:1})),o(T,{class:"custom-options-icon red",onClick:g=>n(Q),title:"删除"},{default:a(()=>[o(m(Z))]),_:2},1032,["onClick"])])])]),_:1},8,["list"]),p("div",{class:"w100 tc"},[o(z,{type:"primary",underline:!1,onClick:O},{default:a(()=>[V(" 添加选项 ")]),_:1}),o(S,{direction:"vertical"}),o(z,{type:"primary",underline:!1,onClick:l,disabled:e.modelValue.options.some(d=>d.isOther)},{default:a(()=>[V(" 添加其他选项 ")]),_:1},8,["disabled"]),o(S,{direction:"vertical"}),o(z,{type:"primary",underline:!1,onClick:w},{default:a(()=>[V(" 批量编辑 ")]),_:1})]),o(L,{modelValue:u.value,"onUpdate:modelValue":t[4]||(t[4]=d=>u.value=d),title:"批量编辑",width:"700px","append-to-body":""},{footer:a(()=>[p("span",{class:"dialog-footer"},[o($,{onClick:t[3]||(t[3]=d=>u.value=!1)},{default:a(()=>[V("取消")]),_:1}),o($,{type:"primary",onClick:y},{default:a(()=>[V("确定")]),_:1})])]),default:a(()=>[p("div",{class:"color2 mb-5"},[V(" 每行对应一个选项, "),p("span",{class:"color3"},"点击确定后，逻辑表单和选项颜色的设置将失效")]),o(D,{modelValue:k.value,"onUpdate:modelValue":t[2]||(t[2]=d=>k.value=d),type:"textarea",rows:15,resize:"none"},null,8,["modelValue"])]),_:1},8,["modelValue"])],64)}}});const fe=ne(Ve,[["__scopeId","data-v-39a29a10"]]),ke=I({__name:"index",props:{modelValue:{},field:{},type:{}},emits:["update:modelValue"],setup(U,{emit:s}){const n=U,v=s,_=(l,u)=>{v("update:modelValue",{...n.modelValue,[u]:l})},h=()=>{v("update:modelValue",{...n.modelValue,...me(n.modelValue.type)})},O=()=>{var l;((l=n.field.options.defaultValue)==null?void 0:l.custom)!=null&&(n.field.options.defaultValue.custom=null)};return(l,u)=>{const k=F,w=P;return i(),r(f,re({label:"选项"},l.$attrs),{default:a(()=>[p("div",{class:"w100 tc"},[o(w,{"model-value":l.modelValue.type,"onUpdate:modelValue":u[0]||(u[0]=y=>_(y,"type")),onChange:h},{default:a(()=>[(i(!0),C(E,null,B(m(ue),(y,e)=>(i(),r(k,{key:e,label:y.value},{default:a(()=>[V(M(y.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["model-value"])]),l.modelValue.type===m(A).custom?(i(),r(fe,{key:0,"model-value":l.modelValue.custom,id:l.field.fieldId+".dataOptions",type:l.type},null,8,["model-value","id","type"])):b("",!0),ie(o(f,{type:"secondary",class:"mt-10","label-width":"0"},{default:a(()=>[o(ce,{modelValue:l.modelValue.dict.dictKey,"onUpdate:modelValue":u[1]||(u[1]=y=>l.modelValue.dict.dictKey=y),class:"w100",onChange:O},null,8,["modelValue"])]),_:1},512),[[pe,l.modelValue.type===m(A).dict]])]),_:1},16)}}});export{ke as _,he as a};
