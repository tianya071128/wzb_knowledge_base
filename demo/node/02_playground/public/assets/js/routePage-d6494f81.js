import{L,a as S}from"./LoadingData-195d0581.js";import{d as x,bb as m,c as _,r as i,aZ as C,o as f,f as g,k as o,bc as T,i as s,w as y,B as V,a_ as A,t as R,l as q,F,b4 as b,bd as N,b6 as J,be as K,P as O,_ as Q}from"./index-b80d5ef5.js";import{a as j}from"./dashboardDesigner-ce3c2e23.js";import{D as z}from"./DashboardDesignerWrapper-04981091.js";import{u as G}from"./useQueryTab-05fa7456.js";import{u as H}from"./useProcessAnalysis-0a0845eb.js";import"./AutoJump.vue_vue_type_script_setup_true_lang-a3aa2601.js";import"./el-dropdown-item-455a6589.js";import"./App-5a74fc11.js";import"./el-space-0d01b33a.js";import"./createDesigner-82222fc7.js";import"./enum-baae9292.js";import"./el-collapse-transition-4ed993c7.js";import"./el-input-number-c15b1cc7.js";/* empty css                        */import"./AzTabs.vue_vue_type_style_index_0_lang-d6635a7d.js";import"./TableChart.vue_vue_type_script_setup_true_lang-4c6079d0.js";import"./AzRadioGroup-8d978495.js";import"./enum-dc6240e9.js";import"./useExtractQuery-f96f705c.js";const v="CustomAnalysis_9527",M=x({__name:"routePage",setup(W){const n=m("appId"),t=m("appEntryId"),h=_(()=>[{label:"仪表盘设计",name:"dashboard"}]),{activeTab:D}=G(_(()=>h.value.map(e=>e.name)),{queryKey:"dashboardDesignerTab"}),p=()=>{n?b(N,{replace:!0,query:{appId:n,entryId:t,manager:"1"}}):b(J,{replace:!0})},I=H({sourceId:"",readonlySource:!0}),a=i(),d=i(),E=async()=>{if(t){if(d.value=await K(t),!d.value.appEntryVO)return Promise.reject({msg:"该仪表盘已被删除或者无权限访问",loadState:L.danger});a.value=await j.getByBindEntryId({appId:n,entryId:t}),I.sourceId=a.value.daSourceId}},P=e=>{a.value&&(a.value.pageeJson=e)},l=i(),k=async()=>{var e;return D.value==="dashboard"?await((e=l.value)==null?void 0:e.beforeLeave()):!0};return C((e,w,r)=>{k().then(()=>{r()}).catch(()=>{r(!1)})}),(e,w)=>{var c,u;const r=O,B=S;return f(),g(F,null,[o("div",{class:"ana_custom-header"},[o("div",{class:"title",onClick:T(p,["stop"])},[s(r,{style:{"font-size":"22px"}},{default:y(()=>[s(V(A))]),_:1}),o("span",null,R((u=(c=d.value)==null?void 0:c.appEntryVO)==null?void 0:u.name)+"-自定义流程分析",1)],8,["onClick"]),o("div",{id:v})]),s(B,{queryKeys:["appEntryId","appId"],path:p,ref:"loadingPageRef",class:"dashboard_designer_page",load:E,"element-loading-background":"transparent"},{default:y(()=>[a.value?(f(),g("div",{key:0,class:"designer_page-container"},[s(z,{ref_key:"dashboardDesignerRef",ref:l,dashboardDesignerDetails:a.value,teleportTo:`#${v}`,onSaveForm:P},null,8,["dashboardDesignerDetails","teleportTo"])])):q("",!0)]),_:1},512)],64)}}});const fe=Q(M,[["__scopeId","data-v-afb09da7"]]);export{fe as default};
