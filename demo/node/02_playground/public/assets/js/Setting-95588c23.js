import{D as N}from"./DataSoureceWrapper-047a1c9d.js";import{_ as T}from"./FormFieldHeaderEditor.vue_vue_type_script_setup_true_lang-6c993e5c.js";import{_ as q}from"./SubformPulicOpt.vue_vue_type_script_setup_true_lang-491ac15d.js";import{E as F}from"./routePage-70460a50.js";import{d as k,v as L,r as b,Y as V,er as W,c as M,b_ as R,o as u,f as w,i as e,B as s,at as Y,w as i,k as j,m as _,dA as C,F as U,av as G,ac as H,Q as O,bm as Q,U as x,bn as J,gY as K,y as P,gG as X,b as y,AB as Z,aq as g,j as oo,l as E}from"./index-b80d5ef5.js";import{_ as eo}from"./ButtonSelectField.vue_vue_type_script_setup_true_lang-aae15f71.js";import{E as to}from"./EditorDraggable-a06dbc71.js";import{A as io}from"./AzInputNumber-d6212644.js";import"./SelectDataSourece-70a968c3.js";import"./FieldOtherEditor.vue_vue_type_script_setup_true_lang-a2d4ed75.js";import"./FormFieldValidateEditor.vue_vue_type_script_setup_true_lang-670668c9.js";import"./FieldLengthEditor.vue_vue_type_script_setup_true_lang-b711d652.js";import"./FieldWidthEditor.vue_vue_type_script_setup_true_lang-3f895778.js";/* empty css                        */import"./Base.vue_vue_type_script_setup_true_lang-832ddae3.js";import"./TableOperation.vue_vue_type_script_setup_true_lang-4afbb2cb.js";import"./keyBy-8fcfdd74.js";import"./_createAggregator-d66ed64c.js";import"./useQueryTab-05fa7456.js";import"./useExtractQuery-f96f705c.js";import"./CardTabs-ca59b5e9.js";import"./EditItemTargetForm.vue_vue_type_script_setup_true_lang-199df786.js";import"./SelectEntryAndOther-76a65b2d.js";import"./FieldCondition-1c72aa9d.js";import"./Base.vue_vue_type_script_setup_true_lang-03820366.js";import"./useFieldMaxWidth-d82f063e.js";import"./AddressBase.vue_vue_type_script_setup_true_lang-d809ffc6.js";import"./AzCascader.vue_vue_type_style_index_0_lang-adc6a4ab.js";import"./AzDatePicker.vue_vue_type_style_index_0_lang-c5632a92.js";import"./index-318b68f4.js";import"./AzTimePicker.vue_vue_type_style_index_0_lang-3726374e.js";import"./useMultipleVal-904406c1.js";import"./CascaderBase.vue_vue_type_style_index_0_lang-83862970.js";import"./el-dropdown-item-455a6589.js";import"./CardShowFieldItem-fd24f218.js";import"./LoadingData-195d0581.js";import"./AutoJump.vue_vue_type_script_setup_true_lang-a3aa2601.js";import"./ComponentParamsSetWrapper-71afc840.js";import"./default-component-4c80201b.js";import"./ButtonState-cb54910b.js";import"./SelectFieldByMultEntry-84abd0c3.js";import"./fieldDefaultComponent-58752d9c.js";import"./Base.vue_vue_type_script_setup_true_lang-4fbdbc85.js";import"./DaterangeBase.vue_vue_type_script_setup_true_lang-bec97540.js";import"./InputBase.vue_vue_type_script_setup_true_lang-ffcf63f1.js";import"./Base-9b7f3306.js";/* empty css                          */import"./index-f0ed738f.js";import"./NumberBase.vue_vue_type_script_setup_true_lang-745b39c5.js";import"./Base-c9aa1df0.js";import"./SliderBase.vue_vue_type_script_setup_true_lang-5d73415b.js";import"./el-input-number-c15b1cc7.js";import"./TextareaBase.vue_vue_type_script_setup_true_lang-7091b2cb.js";import"./TimeBase.vue_vue_type_script_setup_true_lang-ea537bf3.js";import"./TimerangeBase.vue_vue_type_script_setup_true_lang-0827c241.js";import"./UploadFileBase.vue_vue_type_script_setup_true_lang-0c253daa.js";import"./UploadImgBase.vue_vue_type_script_setup_true_lang-d23c1306.js";import"./CooperateEnterpriseBase.vue_vue_type_script_setup_true_lang-23720971.js";import"./CooperatePersonnelBase.vue_vue_type_script_setup_true_lang-adcd0db7.js";import"./Base.vue_vue_type_script_setup_true_lang-0e9a0e2c.js";import"./Base.vue_vue_type_script_setup_true_lang-aa25657d.js";import"./SelectCascaderEntry.vue_vue_type_script_setup_true_lang-673c5dca.js";import"./SelectForm.vue_vue_type_script_setup_true_lang-0170236d.js";import"./ParamsSet.vue_vue_type_script_setup_true_lang-37c252c5.js";import"./MessageRemindConfig-98484405.js";import"./utils-a7200637.js";import"./messageTemplate-8658e6b4.js";import"./SetFieldDefault-5fc1ae2a.js";import"./FormulaWrapper-92a83208.js";import"./Formula.vue_vue_type_style_index_0_lang-ef444f24.js";import"./index-8e050109.js";import"./routePage.vue_vue_type_script_setup_true_lang-efb79c93.js";import"./CollageTable-791f0954.js";import"./index-617ab4b4.js";import"./ConditionWrapper-43da1676.js";import"./FieldConditionView-ad1b057c.js";import"./SetAuth-50c8e12e.js";import"./usePublicRelease-2335b254.js";import"./Qrcode-850531ac.js";import"./html2canvas.esm-0543ed55.js";import"./DesignerDialog-22d70853.js";import"./Designer.vue_vue_type_script_setup_true_lang-3c7dafd1.js";import"./form-success-1777d0da.js";import"./TableRender-bab4d661.js";import"./Resize-eb80395d.js";import"./FormShare-9773b44c.js";import"./dataShare-2d7ae3f7.js";import"./useTransformColor-38b5da33.js";import"./SetFieldAuth-3d0b80a0.js";import"./DesignerTabs-a9795edf.js";import"./Base-3571a39e.js";import"./AddFormDataBtnPlus-a775412e.js";import"./formDesigner-462b10d7.js";import"./useValidateError-9f6399dc.js";import"./AutoNumberBase.vue_vue_type_script_setup_true_lang-56f78b68.js";import"./PluginBase-56c4bf37.js";import"./RichTextBase-228f0924.js";import"./Base-11a86176.js";import"./UploadWrapper.vue_vue_type_script_setup_true_lang-4553cd48.js";import"./index-c89dfa90.js";import"./TemplateCustomEntry.vue_vue_type_script_setup_true_lang-346d01b1.js";import"./TextBase.vue_vue_type_script_setup_true_lang-09411e7a.js";import"./BtnDisplay.vue_vue_type_script_setup_true_lang-cbe1b7c6.js";import"./Base.vue_vue_type_script_setup_true_lang-392ceecd.js";import"./GridBase.vue_vue_type_script_setup_true_lang-f18077d3.js";import"./Base-16c93ea0.js";import"./TableBase-393fac1a.js";import"./TabsBase.vue_vue_type_style_index_0_lang-861f3fae.js";import"./DepartmentBase.vue_vue_type_script_setup_true_lang-6f309530.js";import"./MemberBase.vue_vue_type_script_setup_true_lang-77a28117.js";import"./AddOrEditValidate.vue_vue_type_style_index_0_lang-5bd5a73c.js";import"./ComponentPostAction-12970ad1.js";import"./InternalComponentSelectPlus-00c8c38f.js";import"./app.vue_vue_type_script_setup_true_lang-59fd2507.js";import"./enum-7a2ae6a9.js";import"./index-20639231.js";import"./el-space-0d01b33a.js";import"./cloneDeep-dc1c677b.js";import"./isTypedArray-10beecc7.js";import"./el-collapse-transition-4ed993c7.js";import"./defaultValue-7c7c87ea.js";import"./typeof-7fd5df1e.js";import"./utils-052731c0.js";import"./designerRender.vue_vue_type_script_setup_true_lang-68b31d85.js";const lo=k({__name:"SonFieldSet",props:{modelValue:{},sourceId:{}},emits:["update:modelValue"],setup(f,{emit:n}){const a=f,l=L(a,"modelValue",n),o=b(V(l.value)),p=b(!1),c=()=>{p.value=!0,o.value=V(l.value)},S=()=>{l.value=V(o.value),p.value=!1},{getFieldInfo:A}=W(),B=M(()=>{var r;const d=A(o.value.fieldId,a);return parseFloat(((r=R(d==null?void 0:d.field.type,"subformFieldWidthMap"))==null?void 0:r[1])??"0")||150});return(d,r)=>{const $=G,I=H,z=O,h=Q,v=x,D=J;return u(),w(U,null,[e($,{underline:!1,title:"设置",icon:s(Y),onClick:c},null,8,["icon"]),e(D,{modelValue:p.value,"onUpdate:modelValue":r[3]||(r[3]=m=>p.value=m),title:"设置",width:"500","append-to-body":""},{footer:i(()=>[j("span",{class:"dialog-footer"},[e(v,{onClick:r[2]||(r[2]=m=>p.value=!1)},{default:i(()=>[_("取消")]),_:1}),e(v,{type:"primary",onClick:S},{default:i(()=>[_("确定")]),_:1})])]),default:i(()=>[e(h,{model:o.value,ref:"ruleFormRef","label-width":"100px"},{default:i(()=>[e(I,{label:"字段名称"},{default:i(()=>[e(C,{"field-id":o.value.fieldId,sourceId:d.sourceId},null,8,["field-id","sourceId"])]),_:1}),e(I,{label:"字段别名"},{default:i(()=>[e(z,{modelValue:o.value.alias,"onUpdate:modelValue":r[0]||(r[0]=m=>o.value.alias=m),placeholder:"可设置字段显示别名"},null,8,["modelValue"])]),_:1}),e(I,{label:"列宽"},{default:i(()=>[e(io,{modelValue:o.value.width,"onUpdate:modelValue":r[1]||(r[1]=m=>o.value.width=m),min:50,max:1e3,"value-on-clear":B.value,"controls-position":"right",width:"100px",suffix:"px",placeholder:"自定义列宽"},null,8,["modelValue","value-on-clear"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])],64)}}}),gt=k({__name:"Setting",props:{field:{}},setup(f){const n=f,a=K();return P(()=>n.field.options.sourceId,()=>{n.field.options.sonFields=[]}),(t,l)=>(u(),w(U,null,[e(T,{modelValue:t.field.options,"onUpdate:modelValue":l[0]||(l[0]=o=>t.field.options=o),id:t.field.fieldId},null,8,["modelValue","id"]),e(F,{id:`${t.field.fieldId}.sourceId`,label:"关联表单",required:""},{default:i(()=>[e(N,{modelValue:t.field.options.sourceId,"onUpdate:modelValue":l[1]||(l[1]=o=>t.field.options.sourceId=o),class:"w100",appId:s(a).appId,currentEntryId:s(a).entryId,hideCurrentEntry:"",tabs:[s(X).currentApp]},null,8,["modelValue","appId","currentEntryId","tabs"])]),_:1},8,["id"]),t.field.options.sourceId?(u(),y(F,{key:0,id:`${t.field.fieldId}.sonFields`,label:"子控件",required:"",hideErrorLine:""},{default:i(()=>[e(eo,{modelValue:t.field.options.sonFields,"onUpdate:modelValue":l[2]||(l[2]=o=>t.field.options.sonFields=o),ref:"buttonSelectFieldRef",placeholder:"选择子控件",sourceId:t.field.options.sourceId,filter:s(Z),prop:{fieldId:"fieldId"},multiple:""},null,8,["modelValue","sourceId","filter"]),e(to,{modelValue:t.field.options.sonFields,"onUpdate:modelValue":l[3]||(l[3]=o=>t.field.options.sonFields=o),class:"mt-5"},{default:i(({element:o,index:p})=>[e(g,{class:"az-input-prefix az-flex-width",readonly:""},{prefix:i(()=>[e(C,{"field-id":o.fieldId,sourceId:t.field.options.sourceId,class:"color-text"},null,8,["field-id","sourceId"])]),_:2},1024),o.alias?(u(),y(g,{key:0,class:"az-input-prefix",readonly:"",style:{"max-width":"100px"}},{prefix:i(()=>[e(oo,{style:{color:"var(--el-text-color-primary)"},content:o.alias},null,8,["content"])]),_:2},1024)):E("",!0),e(lo,{modelValue:t.field.options.sonFields[p],"onUpdate:modelValue":c=>t.field.options.sonFields[p]=c,sourceId:t.field.options.sourceId},null,8,["modelValue","onUpdate:modelValue","sourceId"])]),_:1},8,["modelValue"])]),_:1},8,["id"])):E("",!0),e(q,{field:t.field},null,8,["field"])],64))}});export{gt as default};
