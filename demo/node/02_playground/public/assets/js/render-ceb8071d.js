import{M as C}from"./ModuleWrapper-dbe018a4.js";import{u as I}from"./createDesigner-82222fc7.js";import{r as b,c as k,dw as M,Y as c,y as w,d as v,o as r,f as g,b as p,o9 as S,p as B,a2 as $,_ as y,v as U,w as x,k as V,i as u,aq as D,B as d,mJ as T,bu as z,C as _,bv as E,q as L,l as N}from"./index-b80d5ef5.js";import"./dashboardDesigner-ce3c2e23.js";import"./enum-baae9292.js";const q=a=>{const o=b(!1),s=I(),i=k(()=>M.design===s.mode),t=b(c(a.moduleItem.options));return w(()=>o,()=>{t.value=c(a.moduleItem.options)},{deep:!0}),{textSetting_visible:o,isDesignMode:i,textForm:t}},A=v({__name:"Main",props:{options:{}},setup(a){return(o,s)=>(r(),g("div",{class:B(["page_text",{empty:o.options.content===""}]),style:$({marginTop:o.options.showLabel?"-20px":0})},[o.options.content!==""?(r(),p(S,{key:0,content:o.options.content},null,8,["content"])):(r(),g("div",{key:1},"暂无文本内容"))],6))}});const F=y(A,[["__scopeId","data-v-ac1f4118"]]),R=v({__name:"TextSetting",props:{visible:{type:Boolean},form:{}},emits:["update:visible","update:form","confirm"],setup(a,{emit:o}){const s=a,i=o,t=U(s,"visible",i),f=async()=>{i("confirm")};return(n,e)=>{const m=L;return r(),p(E,{modelValue:d(t),"onUpdate:modelValue":e[4]||(e[4]=l=>_(t)?t.value=l:null),title:"文本设置","append-to-body":"","destroy-on-close":""},{default:x(()=>[V("div",{class:"label"},"文本标题："),u(D,{modelValue:n.form.label,"onUpdate:modelValue":e[0]||(e[0]=l=>n.form.label=l),maxlength:"10",isBlurCache:"",placeholder:"请输入标题"},null,8,["modelValue"]),u(m,{modelValue:n.form.showLabel,"onUpdate:modelValue":e[1]||(e[1]=l=>n.form.showLabel=l),label:"显示标题"},null,8,["modelValue"]),V("div",{class:"label"},"文本内容："),u(d(T),{placeholder:"请输入文本内容",class:"mb-20",modelValue:n.form.content,"onUpdate:modelValue":e[2]||(e[2]=l=>n.form.content=l)},null,8,["modelValue"]),u(z,{"edit-mode":"",onClose:e[3]||(e[3]=l=>t.value=!1),"on-submit":f,"submit-text":"保存"})]),_:1},8,["modelValue"])}}});const J=y(R,[["__scopeId","data-v-286441a0"]]),H=v({__name:"render",props:{moduleItem:{}},setup(a){const o=a,{textSetting_visible:s,isDesignMode:i,textForm:t}=q(o),f=()=>{o.moduleItem.options={...o.moduleItem.options,...c(t.value)}};return(n,e)=>(r(),p(C,{"module-item":n.moduleItem,onEdit:e[2]||(e[2]=m=>s.value=!0)},{default:x(()=>[u(F,{options:n.moduleItem.options},null,8,["options"]),d(i)?(r(),p(J,{key:0,ref:"textSettingRef",onConfirm:f,visible:d(s),"onUpdate:visible":e[0]||(e[0]=m=>_(s)?s.value=m:null),form:d(t),"onUpdate:form":e[1]||(e[1]=m=>_(t)?t.value=m:null)},null,8,["visible","form"])):N("",!0)]),_:1},8,["module-item"]))}});export{H as default};
