import{kc as Te,kd as H,ke as ee,f3 as Pe,f5 as Ae,e5 as we,e8 as ye,e6 as Ce,iO as De,kf as Re,kg as Ie,j1 as Oe,d as z,iV as xe,iW as Z,bI as Ee,c as S,kh as Fe,r as ne,ki as Me,o as ae,f as Be,k as h,p as g,B as l,t as R,i as O,kj as Q,l as Ne,d4 as y,kk as He,kl as U,km as Ue,fy as $e,kn as je,ko as ze,bJ as Ke,kp as Le,I as qe,kq as Ge,fI as $,z as We,b as Ye,j$ as X,k9 as Je,kr as Ze,a9 as Qe}from"./index-b80d5ef5.js";function Xe(){}function en(s){return s!==s}function nn(s,o,t){for(var c=t-1,d=s.length;++c<d;)if(s[c]===o)return c;return-1}function an(s,o,t){return o===o?nn(s,o,t):Te(s,en,t)}function tn(s,o){var t=s==null?0:s.length;return!!t&&an(s,o,0)>-1}function sn(s,o,t){for(var c=-1,d=s==null?0:s.length;++c<d;)if(t(o,s[c]))return!0;return!1}var on=1/0,ln=H&&1/ee(new H([,-0]))[1]==on?function(s){return new H(s)}:Xe;const rn=ln;var cn=200;function un(s,o,t){var c=-1,d=tn,u=s.length,n=!0,i=[],m=i;if(t)n=!1,d=sn;else if(u>=cn){var V=o?null:rn(s);if(V)return ee(V);n=!1,d=Ae,m=new Pe}else m=o?[]:i;e:for(;++c<u;){var b=s[c],_=o?o(b):b;if(b=t||b!==0?b:0,n&&_===_){for(var C=m.length;C--;)if(m[C]===_)continue e;o&&m.push(_),i.push(b)}else d(m,_,t)||(m!==i&&m.push(_),i.push(b))}return i}var dn=we(function(s){return un(ye(s,1,Ce,!0))});const j=dn,pn=De({...Re,parsedValue:{type:Ie(Array)}}),mn=["disabled"],fn=z({__name:"panel-time-range",props:pn,emits:["pick","select-range","set-picker-option"],setup(s,{emit:o}){const t=s,c=(e,a)=>{const r=[];for(let p=e;p<=a;p++)r.push(p);return r},{t:d,lang:u}=xe(),n=Z("time"),i=Z("picker"),m=Ee("EP_PICKER_BASE"),{arrowControl:V,disabledHours:b,disabledMinutes:_,disabledSeconds:C,defaultValue:x}=m.props,te=S(()=>[n.be("range-picker","body"),n.be("panel","content"),n.is("arrow",V),A.value?"has-seconds":""]),se=S(()=>[n.be("range-picker","body"),n.be("panel","content"),n.is("arrow",V),A.value?"has-seconds":""]),T=S(()=>t.parsedValue[0]),P=S(()=>t.parsedValue[1]),oe=Fe(t),le=()=>{o("pick",oe.value,!1)},A=S(()=>t.format.includes("ss")),K=S(()=>t.format.includes("A")?"A":t.format.includes("a")?"a":""),re=(e=!1)=>{o("pick",[T.value,P.value],e)},ie=e=>{L(e.millisecond(0),P.value)},ce=e=>{L(T.value,e.millisecond(0))},ue=e=>{const a=e.map(p=>y(p).locale(u.value)),r=G(a);return a[0].isSame(r[0])&&a[1].isSame(r[1])},L=(e,a)=>{o("pick",[e,a],!0)},de=S(()=>T.value>P.value),D=ne([0,2]),pe=(e,a)=>{o("select-range",e,a,"min"),D.value=[e,a]},q=S(()=>A.value?11:8),me=(e,a)=>{o("select-range",e,a,"max");const r=l(q);D.value=[e+r,a+r]},fe=e=>{const a=A.value?[0,3,6,11,14,17]:[0,3,8,11],r=["hours","minutes"].concat(A.value?["seconds"]:[]),f=(a.indexOf(D.value[0])+e+a.length)%a.length,v=a.length/2;f<v?B.start_emitSelectRange(r[f]):B.end_emitSelectRange(r[f-v])},ve=e=>{const a=e.code,{left:r,right:p,up:f,down:v}=Ue;if([r,p].includes(a)){fe(a===r?-1:1),e.preventDefault();return}if([f,v].includes(a)){const k=a===f?-1:1,w=D.value[0]<q.value?"start":"end";B[`${w}_scrollDown`](k),e.preventDefault();return}},E=(e,a)=>{const r=b?b(e):[],p=e==="start",v=(a||(p?P.value:T.value)).hour(),k=p?c(v+1,23):c(0,v-1);return j(r,k)},F=(e,a,r)=>{const p=_?_(e,a):[],f=a==="start",v=r||(f?P.value:T.value),k=v.hour();if(e!==k)return p;const w=v.minute(),N=f?c(w+1,59):c(0,w-1);return j(p,N)},M=(e,a,r,p)=>{const f=C?C(e,a,r):[],v=r==="start",k=p||(v?P.value:T.value),w=k.hour(),N=k.minute();if(e!==w||a!==N)return f;const J=k.second(),Ve=v?c(J+1,59):c(0,J-1);return j(f,Ve)},G=([e,a])=>[W(e,"start",!0,a),W(a,"end",!1,e)],{getAvailableHours:ge,getAvailableMinutes:be,getAvailableSeconds:ke}=Me(E,F,M),{timePickerOptions:B,getAvailableTime:W,onSetOption:Y}=He({getAvailableHours:ge,getAvailableMinutes:be,getAvailableSeconds:ke}),he=e=>e?U(e)?e.map(a=>y(a,t.format).locale(u.value)):y(e,t.format).locale(u.value):null,_e=e=>e?U(e)?e.map(a=>a.format(t.format)):e.format(t.format):null,Se=()=>{if(U(x))return x.map(a=>y(a).locale(u.value));const e=y(x).locale(u.value);return[e,e.add(60,"m")]};return o("set-picker-option",["formatToString",_e]),o("set-picker-option",["parseUserInput",he]),o("set-picker-option",["isValidValue",ue]),o("set-picker-option",["handleKeydownInput",ve]),o("set-picker-option",["getDefaultValue",Se]),o("set-picker-option",["getRangeAvailableTime",G]),(e,a)=>e.actualVisible?(ae(),Be("div",{key:0,class:g([l(n).b("range-picker"),l(i).b("panel")])},[h("div",{class:g(l(n).be("range-picker","content"))},[h("div",{class:g(l(n).be("range-picker","cell"))},[h("div",{class:g(l(n).be("range-picker","header"))},R(l(d)("el.datepicker.startTime")),3),h("div",{class:g(l(te))},[O(Q,{ref:"minSpinner",role:"start","show-seconds":l(A),"am-pm-mode":l(K),"arrow-control":l(V),"spinner-date":l(T),"disabled-hours":E,"disabled-minutes":F,"disabled-seconds":M,onChange:ie,onSetOption:l(Y),onSelectRange:pe},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2),h("div",{class:g(l(n).be("range-picker","cell"))},[h("div",{class:g(l(n).be("range-picker","header"))},R(l(d)("el.datepicker.endTime")),3),h("div",{class:g(l(se))},[O(Q,{ref:"maxSpinner",role:"end","show-seconds":l(A),"am-pm-mode":l(K),"arrow-control":l(V),"spinner-date":l(P),"disabled-hours":E,"disabled-minutes":F,"disabled-seconds":M,onChange:ce,onSetOption:l(Y),onSelectRange:me},null,8,["show-seconds","am-pm-mode","arrow-control","spinner-date","onSetOption"])],2)],2)],2),h("div",{class:g(l(n).be("panel","footer"))},[h("button",{type:"button",class:g([l(n).be("panel","btn"),"cancel"]),onClick:a[0]||(a[0]=r=>le())},R(l(d)("el.datepicker.cancel")),3),h("button",{type:"button",class:g([l(n).be("panel","btn"),"confirm"]),disabled:l(de),onClick:a[1]||(a[1]=r=>re())},R(l(d)("el.datepicker.confirm")),11,mn)],2)],2)):Ne("v-if",!0)}});var vn=Oe(fn,[["__file","panel-time-range.vue"]]);y.extend($e);var gn=z({name:"ElTimePicker",install:null,props:{...je,isRange:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(s,o){const t=ne(),[c,d]=s.isRange?["timerange",vn]:["time",ze],u=n=>o.emit("update:modelValue",n);return Ke("ElPopperOptions",s.popperOptions),o.expose({focus:n=>{var i;(i=t.value)==null||i.handleFocusInput(n)},blur:n=>{var i;(i=t.value)==null||i.handleBlurInput(n)},handleOpen:()=>{var n;(n=t.value)==null||n.handleOpen()},handleClose:()=>{var n;(n=t.value)==null||n.handleClose()}}),()=>{var n;const i=(n=s.format)!=null?n:Le;return O(Ge,qe(s,{ref:t,type:c,format:i,"onUpdate:modelValue":u}),{default:m=>O(d,m,null)})}}});const I=gn;I.install=s=>{s.component(I.name,I)};const bn=I;const hn=z({__name:"AzTimePicker",props:{modelValue:{},type:{},valueFormat:{}},emits:["update:modelValue"],setup(s,{emit:o}){const t=s,c=o,d=S({get(){return Array.isArray(t.modelValue)?t.modelValue.map(u=>$(u,t.valueFormat,"time")):$(t.modelValue??"",t.valueFormat,"time")},set(u){c("update:modelValue",u)}});return We(()=>{const u=Array.isArray(t.modelValue)?[...t.modelValue]:[t.modelValue];let n=[...u];n=n.map(i=>i&&Je($(i,t.valueFormat,"time"),t.type??Ze.time,t.valueFormat)),Qe(u,n)||c("update:modelValue",Array.isArray(t.modelValue)?[...n]:n==null?void 0:n[0])},{flush:"post"}),(u,n)=>{const i=bn;return ae(),Ye(i,{class:"az_time",modelValue:d.value,"onUpdate:modelValue":n[0]||(n[0]=m=>d.value=m),"value-format":u.valueFormat,"is-range":u.type&&[l(X).timerange,l(X).timerange_division].includes(u.type)},null,8,["modelValue","value-format","is-range"])}}});export{hn as _,tn as a,un as b,sn as c,j as u};
