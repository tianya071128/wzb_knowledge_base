import{d as R,wA as w,jG as I,c as B,r as V,o as F,f as E,i,w as u,B as f,C as y,e as p,k as A,Q as C,ac as N,S as m}from"./index-b80d5ef5.js";import{F as S}from"./FormItemFieldWrapper-ec4d2a36.js";import{B as k}from"./Base-16c93ea0.js";import"./useValidateError-9f6399dc.js";import"./Base.vue_vue_type_script_setup_true_lang-832ddae3.js";import"./TableOperation.vue_vue_type_script_setup_true_lang-4afbb2cb.js";import"./keyBy-8fcfdd74.js";import"./_createAggregator-d66ed64c.js";const P=R({__name:"Render",props:{field:{}},setup(c){const d=c,s=w(d.field),v=I(),h=B(()=>{const e=[];return v.getFieldAuth(d.field.fieldId,"required")&&e.push({trigger:"change",validator:(a,o,r)=>{var l,t;(l=s.value)!=null&&l.length?r():r(((t=d.field.options.requiredHint)==null?void 0:t.trim())||"请填写至少一条记录")}}),e}),n=V(),g=[{trigger:"change",validator:(e,a,o)=>{var l,t;(((t=(l=n.value)==null?void 0:l.formRenderRef)==null?void 0:t.validate({hideAlert:!0}))??Promise.resolve("默认通过")).then(()=>{o()}).catch(_=>{o(new Error(_))})}}];return(e,a)=>{const o=C,r=N;return F(),E("div",null,[i(S,{field:e.field,class:"mb-0","show-message":!1,prop:e.field.fieldId},{default:u(()=>[i(k,{modelValue:f(s),"onUpdate:modelValue":a[0]||(a[0]=l=>y(s)?s.value=l:null),style:{width:"100%"},ref_key:"baseRef",ref:n,field:e.field,"is-render":""},null,8,["modelValue","field"])]),_:1},8,["field","prop"]),i(r,{rules:h.value,prop:e.field.fieldId},{default:u(()=>[p(i(o,{"model-value":JSON.stringify(f(s))},null,8,["model-value"]),[[m,!1]])]),_:1},8,["rules","prop"]),p(A("div",null,[i(r,{rules:g,prop:`${e.field.fieldId}_01`},null,8,["prop"])],512),[[m,!1]])])}}});export{P as default};
