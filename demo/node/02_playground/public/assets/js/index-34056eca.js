import{xl as de,xm as J,xn as ue,xo as Ne,r as C,xp as He,wi as Le,il as Ee,du as De,xq as fe,lL as M,d as Z,xr as ve,bK as he,c as R,xs as be,lT as me,xt as We,y as $,xu as ge,xv as G,aT as z,w2 as N,w0 as xe,w1 as Me,i as m,lU as A,lN as we,xw as H,lO as p,xx as X,bx as Ze,w6 as ee,w3 as Ue,ik as Fe,v$ as Ve,w4 as W,wb as ie,xy as Q,xz as je,xA as Ke,xB as oe,wh as qe,bI as Xe,xC as Ye,w8 as Je,cB as Ge,w5 as Qe,z as pe,p as et,xD as tt,a2 as nt,xE as at,bJ as lt,e as it,S as ot,I as st,wa as se}from"./index-b80d5ef5.js";import{u as ye}from"./use-id-d3187131.js";import{a as rt,r as ct}from"./use-route-c2b2b5be.js";import{S as dt,a as ut}from"./index-30749bf5.js";function ft(e,a,o){let l,r=0;const t=e.scrollLeft,s=o===0?1:Math.round(o*1e3/16);function c(){de(l)}function v(){e.scrollLeft+=(a-t)/s,++r<s&&(l=J(v))}return v(),c}function vt(e,a,o,l){let r,t=ue(e);const s=t<a,c=o===0?1:Math.round(o*1e3/16),v=(a-t)/c;function g(){de(r)}function w(){t+=v,(s&&t>a||!s&&t<a)&&(t=a),Ne(e,t),s&&t<a||!s&&t>a?r=J(w):l&&(r=J(l))}return w(),g}function ht(){const e=C([]),a=[];return He(()=>{e.value=[]}),[e,l=>(a[l]||(a[l]=r=>{e.value[l]=r}),a[l])]}function Te(e,a){if(!Le||!window.IntersectionObserver)return;const o=new IntersectionObserver(t=>{a(t[0].intersectionRatio>0)},{root:document.body}),l=()=>{e.value&&o.observe(e.value)},r=()=>{e.value&&o.unobserve(e.value)};Ee(r),De(r),fe(l)}const[bt,mt]=M("sticky"),gt={zIndex:A,position:we("top"),container:Object,offsetTop:H(0),offsetBottom:H(0)};var xt=Z({name:bt,props:gt,emits:["scroll","change"],setup(e,{emit:a,slots:o}){const l=C(),r=ve(l),t=he({fixed:!1,width:0,height:0,transform:0}),s=C(!1),c=R(()=>be(e.position==="top"?e.offsetTop:e.offsetBottom)),v=R(()=>{if(s.value)return;const{fixed:f,height:S,width:u}=t;if(f)return{width:`${u}px`,height:`${S}px`}}),g=R(()=>{if(!t.fixed||s.value)return;const f=me(We(e.zIndex),{width:`${t.width}px`,height:`${t.height}px`,[e.position]:`${c.value}px`});return t.transform&&(f.transform=`translate3d(0, ${t.transform}px, 0)`),f}),w=f=>a("scroll",{scrollTop:f,isFixed:t.fixed}),k=()=>{if(!l.value||G(l))return;const{container:f,position:S}=e,u=N(l),T=ue(window);if(t.width=u.width,t.height=u.height,S==="top")if(f){const d=N(f),B=d.bottom-c.value-t.height;t.fixed=c.value>u.top&&d.bottom>0,t.transform=B<0?B:0}else t.fixed=c.value>u.top;else{const{clientHeight:d}=document.documentElement;if(f){const B=N(f),b=d-B.top-c.value-t.height;t.fixed=d-c.value<u.bottom&&d>B.top,t.transform=b<0?-b:0}else t.fixed=d-c.value<u.bottom}w(T)};return $(()=>t.fixed,f=>a("change",f)),ge("scroll",k,{target:r,passive:!0}),Te(l,k),$([xe,Me],()=>{!l.value||G(l)||!t.fixed||(s.value=!0,z(()=>{const f=N(l);t.width=f.width,t.height=f.height,s.value=!1}))}),()=>{var f;return m("div",{ref:l,style:v.value},[m("div",{class:mt({fixed:t.fixed&&!s.value}),style:g.value},[(f=o.default)==null?void 0:f.call(o)])])}}});const wt=p(xt),[yt,re]=M("tabs");var Tt=Z({name:yt,props:{count:X(Number),inited:Boolean,animated:Boolean,duration:X(A),swipeable:Boolean,lazyRender:Boolean,currentIndex:X(Number)},emits:["change"],setup(e,{emit:a,slots:o}){const l=C(),r=c=>a("change",c),t=()=>{var c;const v=(c=o.default)==null?void 0:c.call(o);return e.animated||e.swipeable?m(dt,{ref:l,loop:!1,class:re("track"),duration:+e.duration*1e3,touchable:e.swipeable,lazyRender:e.lazyRender,showIndicators:!1,onChange:r},{default:()=>[v]}):v},s=c=>{const v=l.value;v&&v.state.active!==c&&v.swipeTo(c,{immediate:!e.inited})};return $(()=>e.currentIndex,s),Ze(()=>{s(e.currentIndex)}),ee({swipeRef:l}),()=>m("div",{class:re("content",{animated:e.animated||e.swipeable})},[t()])}});const[Se,q]=M("tabs"),St={type:we("line"),color:String,border:Boolean,sticky:Boolean,shrink:Boolean,active:H(0),duration:H(.3),animated:Boolean,ellipsis:W,swipeable:Boolean,scrollspy:Boolean,offsetTop:H(0),background:String,lazyRender:W,showHeader:W,lineWidth:A,lineHeight:A,beforeChange:Function,swipeThreshold:H(5),titleActiveColor:String,titleInactiveColor:String},Ce=Symbol(Se);var Ct=Z({name:Se,props:St,emits:["change","scroll","rendered","clickTab","update:active"],setup(e,{emit:a,slots:o}){let l,r,t,s,c;const v=C(),g=C(),w=C(),k=C(),f=ye(),S=ve(v),[u,T]=ht(),{children:d,linkChildren:B}=Ue(Ce),b=he({inited:!1,position:"",lineStyle:{},currentIndex:-1}),L=R(()=>d.length>+e.swipeThreshold||!e.ellipsis||e.shrink),U=R(()=>({borderColor:e.color,background:e.background})),E=(n,i)=>{var h;return(h=n.name)!=null?h:i},F=R(()=>{const n=d[b.currentIndex];if(n)return E(n,b.currentIndex)}),O=R(()=>be(e.offsetTop)),te=R(()=>e.sticky?O.value+l:0),D=n=>{const i=g.value,h=u.value;if(!L.value||!i||!h||!h[b.currentIndex])return;const y=h[b.currentIndex].$el,x=y.offsetLeft-(i.offsetWidth-y.offsetWidth)/2;s&&s(),s=ft(i,x,n?0:+e.duration)},_=()=>{const n=b.inited;z(()=>{const i=u.value;if(!i||!i[b.currentIndex]||e.type!=="line"||G(v.value))return;const h=i[b.currentIndex].$el,{lineWidth:y,lineHeight:x}=e,I=h.offsetLeft+h.offsetWidth/2,P={width:ie(y),backgroundColor:e.color,transform:`translateX(${I}px) translateX(-50%)`};if(n&&(P.transitionDuration=`${e.duration}s`),Q(x)){const K=ie(x);P.height=K,P.borderRadius=K}b.lineStyle=P})},Re=n=>{const i=n<b.currentIndex?-1:1;for(;n>=0&&n<d.length;){if(!d[n].disabled)return n;n+=i}},V=(n,i)=>{const h=Re(n);if(!Q(h))return;const y=d[h],x=E(y,h),I=b.currentIndex!==null;b.currentIndex!==h&&(b.currentIndex=h,i||D(),_()),x!==e.active&&(a("update:active",x),I&&a("change",x,y.title)),t&&!e.scrollspy&&Ke(Math.ceil(oe(v.value)-O.value))},j=(n,i)=>{const h=d.find((x,I)=>E(x,I)===n),y=h?d.indexOf(h):0;V(y,i)},ne=(n=!1)=>{if(e.scrollspy){const i=d[b.currentIndex].$el;if(i&&S.value){const h=oe(i,S.value)-te.value;r=!0,c&&c(),c=vt(S.value,h,n?0:+e.duration,()=>{r=!1})}}},ke=(n,i,h)=>{const{title:y,disabled:x}=d[i],I=E(d[i],i);x||(qe(e.beforeChange,{args:[I],done:()=>{V(i),ne()}}),rt(n)),a("clickTab",{name:I,title:y,event:h,disabled:x})},Be=n=>{t=n.isFixed,a("scroll",n)},$e=n=>{z(()=>{j(n),ne(!0)})},_e=()=>{for(let n=0;n<d.length;n++){const{top:i}=N(d[n].$el);if(i>te.value)return n===0?0:n-1}return d.length-1},Pe=()=>{if(e.scrollspy&&!r){const n=_e();V(n)}},ze=()=>{if(e.type==="line"&&d.length)return m("div",{class:q("line"),style:b.lineStyle},null)},ae=()=>{var n,i,h;const{type:y,border:x,sticky:I}=e,P=[m("div",{ref:I?void 0:w,class:[q("wrap"),{[je]:y==="line"&&x}]},[m("div",{ref:g,role:"tablist",class:q("nav",[y,{shrink:e.shrink,complete:L.value}]),style:U.value,"aria-orientation":"horizontal"},[(n=o["nav-left"])==null?void 0:n.call(o),d.map(K=>K.renderTitle(ke)),ze(),(i=o["nav-right"])==null?void 0:i.call(o)])]),(h=o["nav-bottom"])==null?void 0:h.call(o)];return I?m("div",{ref:w},[P]):P},le=()=>{_(),z(()=>{var n,i;D(!0),(i=(n=k.value)==null?void 0:n.swipeRef.value)==null||i.resize()})};$(()=>[e.color,e.duration,e.lineWidth,e.lineHeight],_),$(xe,le),$(()=>e.active,n=>{n!==F.value&&j(n)}),$(()=>d.length,()=>{b.inited&&(j(e.active),_(),z(()=>{D(!0)}))});const Ae=()=>{j(e.active,!0),z(()=>{b.inited=!0,w.value&&(l=N(w.value).height),D(!0)})},Oe=(n,i)=>a("rendered",n,i);return ee({resize:le,scrollTo:$e}),Fe(_),Ve(_),fe(Ae),Te(v,_),ge("scroll",Pe,{target:S,passive:!0}),B({id:f,props:e,setLine:_,scrollable:L,onRendered:Oe,currentName:F,setTitleRefs:T,scrollIntoView:D}),()=>m("div",{ref:v,class:q([e.type])},[e.showHeader?e.sticky?m(wt,{container:v.value,offsetTop:O.value,onScroll:Be},{default:()=>[ae()]}):ae():null,m(Tt,{ref:k,count:d.length,inited:b.inited,animated:e.animated,duration:e.duration,swipeable:e.swipeable,lazyRender:e.lazyRender,currentIndex:b.currentIndex,onChange:V},{default:()=>{var n;return[(n=o.default)==null?void 0:n.call(o)]}})])}});const Ie=Symbol(),Ot=()=>Xe(Ie,null),[It,ce]=M("tab"),Rt=Z({name:It,props:{id:String,dot:Boolean,type:String,color:String,title:String,badge:A,shrink:Boolean,isActive:Boolean,disabled:Boolean,controls:String,scrollable:Boolean,activeColor:String,inactiveColor:String,showZeroBadge:W},setup(e,{slots:a}){const o=R(()=>{const r={},{type:t,color:s,disabled:c,isActive:v,activeColor:g,inactiveColor:w}=e;s&&t==="card"&&(r.borderColor=s,c||(v?r.backgroundColor=s:r.color=s));const f=v?g:w;return f&&(r.color=f),r}),l=()=>{const r=m("span",{class:ce("text",{ellipsis:!e.scrollable})},[a.title?a.title():e.title]);return e.dot||Q(e.badge)&&e.badge!==""?m(Ye,{dot:e.dot,content:e.badge,showZero:e.showZeroBadge},{default:()=>[r]}):r};return()=>m("div",{id:e.id,role:"tab",class:[ce([e.type,{grow:e.scrollable&&!e.shrink,shrink:e.shrink,active:e.isActive,disabled:e.disabled}])],style:o.value,tabindex:e.disabled?void 0:e.isActive?0:-1,"aria-selected":e.isActive,"aria-disabled":e.disabled||void 0,"aria-controls":e.controls},[l()])}}),[kt,Y]=M("tab"),Bt=me({},ct,{dot:Boolean,name:A,badge:A,title:String,disabled:Boolean,titleClass:Je,titleStyle:[String,Object],showZeroBadge:W});var $t=Z({name:kt,props:Bt,setup(e,{slots:a}){const o=ye(),l=C(!1),r=Ge(),{parent:t,index:s}=Qe(Ce);if(!t)return;const c=()=>{var u;return(u=e.name)!=null?u:s.value},v=()=>{l.value=!0,t.props.lazyRender&&z(()=>{t.onRendered(c(),e.title)})},g=R(()=>{const u=c()===t.currentName.value;return u&&!l.value&&v(),u}),w=C(""),k=C("");pe(()=>{const{titleClass:u,titleStyle:T}=e;w.value=u?et(u):"",k.value=T&&typeof T!="string"?tt(nt(T)):T});const f=u=>m(Rt,st({key:o,id:`${t.id}-${s.value}`,ref:t.setTitleRefs(s.value),style:k.value,class:w.value,isActive:g.value,controls:o,scrollable:t.scrollable.value,activeColor:t.props.titleActiveColor,inactiveColor:t.props.titleInactiveColor,onClick:T=>u(r.proxy,s.value,T)},se(t.props,["type","color","shrink"]),se(e,["dot","badge","title","disabled","showZeroBadge"])),{title:a.title}),S=C(!g.value);return $(g,u=>{u?S.value=!1:at(()=>{S.value=!0})}),$(()=>e.title,()=>{t.setLine(),t.scrollIntoView()}),lt(Ie,g),ee({id:o,renderTitle:f}),()=>{var u;const T=`${t.id}-${s.value}`,{animated:d,swipeable:B,scrollspy:b,lazyRender:L}=t.props;if(!a.default&&!d)return;const U=b||g.value;if(d||B)return m(ut,{id:o,role:"tabpanel",class:Y("panel-wrapper",{inactive:S.value}),tabindex:g.value?0:-1,"aria-hidden":!g.value,"aria-labelledby":T},{default:()=>{var O;return[m("div",{class:Y("panel")},[(O=a.default)==null?void 0:O.call(a)])]}});const F=l.value||b||!L?(u=a.default)==null?void 0:u.call(a):null;return it(m("div",{id:o,role:"tabpanel",class:Y("panel"),tabindex:U?0:-1,"aria-labelledby":T},[F]),[[ot,U]])}}});const Nt=p($t),Ht=p(Ct);export{Ht as T,Nt as a,Ot as u};
