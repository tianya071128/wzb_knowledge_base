import{jG as g,c,hX as R,b_ as y,h1 as v,n as h,mK as F,Y as V,dj as k,dk as b,y as B,d as C,v as M,o as _,b as I,B as o,C as S,a2 as x,dl as A}from"./index-b80d5ef5.js";import{u as E}from"./useFieldMaxWidth-d82f063e.js";import{u as j}from"./useMultipleVal-904406c1.js";function O(l){const t=g(),a=c(()=>l.field.options.selectRange.type===R.link&&l.field.options.selectRange.linkFieldId),n=c(()=>{var e;if(l.isRender&&a.value){const u=l.field.options.selectRange.linkFieldId??"",s=(e=t.matchField(u))==null?void 0:e.field;if(!s)return null;let d=t.getFieldVal(u);const r=y(s.type,"getFormat");return v(r)&&(d=r(d,s)),h(d)}return null}),m=c(()=>{let e;return a.value?l.isRender&&n.value&&(e=n.value):e=F(l.field.options),e=V(e),Array.isArray(e)&&l.field.options.selectRange.isChildOrg&&e.push({type:k.dynamic,id:b.selectedOrgToChild}),e}),i=c(()=>{var e;return!!(a.value&&!((e=n.value)!=null&&e.length))});return B(n,()=>{l.isRender&&a.value&&t.setFieldVal(l.field.fieldId,null)}),{disabled:i,selectRange:m}}const w=C({__name:"MemberBase",props:{modelValue:{},field:{},isRender:{type:Boolean}},emits:["update:modelValue"],setup(l,{emit:t}){const a=l,m=M(a,"modelValue",t),{value:i,multiple:e}=j(m,a.field),{disabled:u,selectRange:s}=O(a),{maxWidthStyle:d}=E(a.field);return(r,f)=>(_(),I(A,{modelValue:o(i),"onUpdate:modelValue":f[0]||(f[0]=p=>S(i)?i.value=p:null),style:x(o(d)),disabled:o(u),selectRange:o(s),placeholder:r.field.options.placeholder,multiple:o(e)},null,8,["modelValue","style","disabled","selectRange","placeholder","multiple"]))}});export{w as _};
