import{d8 as a,bI as b,bK as I,bJ as R,r,c as n,e9 as d,bH as S}from"./index-b80d5ef5.js";const D={getDetails(e){return a.value.request.get(`${a.value.SYSTEMURL}/publicRelease/getByEntryId/${e}`)},updateStatus(e){return a.value.request.post(`${a.value.SYSTEMURL}/publicRelease/updateStatus`,e)},save(e){return a.value.request.post(`${a.value.SYSTEMURL}/publicRelease/save`,e)},refreshURL(e){return a.value.request.post(`${a.value.SYSTEMURL}/publicRelease/refreshURL`,e)},verifyConfig({releaseId:e,sign:l}){return a.value.request.get(`${a.value.SYSTEMURL}/publicRelease/release/${e}/${l}`)},submit(e){return a.value.request.post(`${a.value.SYSTEMURL}/publicRelease/submit`,e)}},O={themeColors:"#2296f3",bgImgUrl:"",logoUrl:"",name:"未命名表单",desc:"",submitText:"提交"},N="DESIGNATED_TIME_PERIOD",L="PERMANENT",T="ONE_TIME_LINK",U=[{label:"永久有效",value:L},{label:"七天有效",value:"SEVEN_DAYS"},{label:"一天有效",value:"ONE_DAY"},{label:"一次性链接",value:T},{label:"指定时间段",value:N}],_=[{label:"无限次",value:"UNLIMITED"},{label:"仅一次",value:"ONLY_ONCE"},{label:"一天一次",value:"ONCE_PER_DAY"}],h=[{label:"所有人",value:"ALLIN"},{label:"组织范围",value:"ORGSCOPE"},{label:"自定义",value:"SELFDEFINE"}],m="GRAPHICVERIFCATIONCODE",M=[{label:"不验证",value:"NOT_VERIFY"},{label:"图形验证码",value:m}],i=Symbol("发布数据Key");function f(e){const l=r(null),o=n(()=>{var t;return((t=l.value)==null?void 0:t.appId)??""}),s=n(()=>{var t;return((t=l.value)==null?void 0:t.entryId)??""}),E=n(()=>{var u,c;let t=`#/publicRelease?releaseId=${(u=l.value)==null?void 0:u.releaseId}&sign=${(c=l.value)==null?void 0:c.linkAddress}`;return t=d.join(location.host,location.pathname,t),`${location.protocol}//${t}`}),v=r(),p=r();return{...e,appId:o,entryId:s,details:l,formJson:v,listDesignerDetails:p,link:E,refreshURL:async()=>{try{const t=s.value,u=await D.refreshURL({entryId:t});l.value=S({...u})}catch{}}}}function $(e){const l=b(i,void 0);if(l)return l;{const s=I(f(e??{mode:"preview"}));return R(i,s),s}}export{M as A,N as D,_ as F,m as G,U as L,T as O,h as P,L as a,O as d,D as p,$ as u};
