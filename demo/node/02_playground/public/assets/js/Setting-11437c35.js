import{d as z,c as C,nT as U,nV as L,nW as Q,r as R,o as a,f as y,B as p,jC as B,b,w as l,i as e,F as _,g as k,Ax as X,m as S,l as w,t as v,k as f,H as h,Ay as P,Az as W,ao as j,ap as G,c5 as Z,ab as H,q as Y,bm as x,U as oo,bn as eo,_ as lo,gY as io,hP as q,y as T,n$ as to,g2 as ao,a as po,Ap as no,AA as ro,E as so}from"./index-b80d5ef5.js";import{_ as uo}from"./FormFieldHeaderEditor.vue_vue_type_script_setup_true_lang-6c993e5c.js";import{_ as mo,a as fo}from"./FieldOtherEditor.vue_vue_type_script_setup_true_lang-a2d4ed75.js";import{E as V}from"./routePage-70460a50.js";import{_ as bo}from"./FieldWidthEditor.vue_vue_type_script_setup_true_lang-3f895778.js";import{C as vo}from"./ConditionWrapper-43da1676.js";import{C as Vo}from"./CloumnSetField-0ab83820.js";import{S as yo}from"./SortSetField-face42ca.js";import{D as _o}from"./DataSoureceWrapper-047a1c9d.js";import{_ as co}from"./AddValTransferSet.vue_vue_type_script_setup_true_lang-e4be7f8a.js";import{B as J}from"./ButtonState-cb54910b.js";/* empty css                        */import"./useQueryTab-05fa7456.js";import"./useExtractQuery-f96f705c.js";import"./CardTabs-ca59b5e9.js";import"./EditItemTargetForm.vue_vue_type_script_setup_true_lang-199df786.js";import"./SelectEntryAndOther-76a65b2d.js";import"./FieldCondition-1c72aa9d.js";import"./Base.vue_vue_type_script_setup_true_lang-03820366.js";import"./useFieldMaxWidth-d82f063e.js";import"./AddressBase.vue_vue_type_script_setup_true_lang-d809ffc6.js";import"./AzCascader.vue_vue_type_style_index_0_lang-adc6a4ab.js";import"./AzDatePicker.vue_vue_type_style_index_0_lang-c5632a92.js";import"./index-318b68f4.js";import"./AzInputNumber-d6212644.js";import"./el-input-number-c15b1cc7.js";import"./AzTimePicker.vue_vue_type_style_index_0_lang-3726374e.js";import"./useMultipleVal-904406c1.js";import"./CascaderBase.vue_vue_type_style_index_0_lang-83862970.js";import"./el-dropdown-item-455a6589.js";import"./CardShowFieldItem-fd24f218.js";import"./LoadingData-195d0581.js";import"./AutoJump.vue_vue_type_script_setup_true_lang-a3aa2601.js";import"./ComponentParamsSetWrapper-71afc840.js";import"./default-component-4c80201b.js";import"./SelectFieldByMultEntry-84abd0c3.js";import"./fieldDefaultComponent-58752d9c.js";import"./Base.vue_vue_type_script_setup_true_lang-4fbdbc85.js";import"./DaterangeBase.vue_vue_type_script_setup_true_lang-bec97540.js";import"./InputBase.vue_vue_type_script_setup_true_lang-ffcf63f1.js";import"./Base-9b7f3306.js";/* empty css                          */import"./index-f0ed738f.js";import"./NumberBase.vue_vue_type_script_setup_true_lang-745b39c5.js";import"./Base-c9aa1df0.js";import"./SliderBase.vue_vue_type_script_setup_true_lang-5d73415b.js";import"./TextareaBase.vue_vue_type_script_setup_true_lang-7091b2cb.js";import"./TimeBase.vue_vue_type_script_setup_true_lang-ea537bf3.js";import"./TimerangeBase.vue_vue_type_script_setup_true_lang-0827c241.js";import"./UploadFileBase.vue_vue_type_script_setup_true_lang-0c253daa.js";import"./UploadImgBase.vue_vue_type_script_setup_true_lang-d23c1306.js";import"./CooperateEnterpriseBase.vue_vue_type_script_setup_true_lang-23720971.js";import"./CooperatePersonnelBase.vue_vue_type_script_setup_true_lang-adcd0db7.js";import"./Base.vue_vue_type_script_setup_true_lang-0e9a0e2c.js";import"./Base.vue_vue_type_script_setup_true_lang-aa25657d.js";import"./SelectCascaderEntry.vue_vue_type_script_setup_true_lang-673c5dca.js";import"./SelectForm.vue_vue_type_script_setup_true_lang-0170236d.js";import"./ParamsSet.vue_vue_type_script_setup_true_lang-37c252c5.js";import"./MessageRemindConfig-98484405.js";import"./utils-a7200637.js";import"./messageTemplate-8658e6b4.js";import"./SetFieldDefault-5fc1ae2a.js";import"./ButtonSelectField.vue_vue_type_script_setup_true_lang-aae15f71.js";import"./FormulaWrapper-92a83208.js";import"./Formula.vue_vue_type_style_index_0_lang-ef444f24.js";import"./index-8e050109.js";import"./routePage.vue_vue_type_script_setup_true_lang-efb79c93.js";import"./TableOperation.vue_vue_type_script_setup_true_lang-4afbb2cb.js";import"./CollageTable-791f0954.js";import"./index-617ab4b4.js";import"./FieldConditionView-ad1b057c.js";import"./SetAuth-50c8e12e.js";import"./usePublicRelease-2335b254.js";import"./Qrcode-850531ac.js";import"./html2canvas.esm-0543ed55.js";import"./DesignerDialog-22d70853.js";import"./Designer.vue_vue_type_script_setup_true_lang-3c7dafd1.js";import"./form-success-1777d0da.js";import"./keyBy-8fcfdd74.js";import"./_createAggregator-d66ed64c.js";import"./TableRender-bab4d661.js";import"./Resize-eb80395d.js";import"./FormShare-9773b44c.js";import"./dataShare-2d7ae3f7.js";import"./SelectDataSourece-70a968c3.js";import"./useTransformColor-38b5da33.js";import"./SetFieldAuth-3d0b80a0.js";import"./DesignerTabs-a9795edf.js";import"./Base-3571a39e.js";import"./AddFormDataBtnPlus-a775412e.js";import"./formDesigner-462b10d7.js";import"./Base.vue_vue_type_script_setup_true_lang-832ddae3.js";import"./useValidateError-9f6399dc.js";import"./AutoNumberBase.vue_vue_type_script_setup_true_lang-56f78b68.js";import"./PluginBase-56c4bf37.js";import"./RichTextBase-228f0924.js";import"./Base-11a86176.js";import"./UploadWrapper.vue_vue_type_script_setup_true_lang-4553cd48.js";import"./index-c89dfa90.js";import"./TemplateCustomEntry.vue_vue_type_script_setup_true_lang-346d01b1.js";import"./TextBase.vue_vue_type_script_setup_true_lang-09411e7a.js";import"./BtnDisplay.vue_vue_type_script_setup_true_lang-cbe1b7c6.js";import"./Base.vue_vue_type_script_setup_true_lang-392ceecd.js";import"./GridBase.vue_vue_type_script_setup_true_lang-f18077d3.js";import"./Base-16c93ea0.js";import"./TableBase-393fac1a.js";import"./TabsBase.vue_vue_type_style_index_0_lang-861f3fae.js";import"./DepartmentBase.vue_vue_type_script_setup_true_lang-6f309530.js";import"./MemberBase.vue_vue_type_script_setup_true_lang-77a28117.js";import"./AddOrEditValidate.vue_vue_type_style_index_0_lang-5bd5a73c.js";import"./ComponentPostAction-12970ad1.js";import"./InternalComponentSelectPlus-00c8c38f.js";import"./app.vue_vue_type_script_setup_true_lang-59fd2507.js";import"./enum-7a2ae6a9.js";import"./index-20639231.js";import"./el-space-0d01b33a.js";import"./cloneDeep-dc1c677b.js";import"./isTypedArray-10beecc7.js";import"./el-collapse-transition-4ed993c7.js";import"./defaultValue-7c7c87ea.js";import"./EditorDraggable-a06dbc71.js";import"./typeof-7fd5df1e.js";import"./utils-052731c0.js";import"./designerRender.vue_vue_type_script_setup_true_lang-68b31d85.js";const Io=z({__name:"SetDisplayMode",props:{field:{}},setup(D){const s=D,c=C({get(){return s.field.options.displayMode??U.table},set(m){s.field.options.displayMode=m}}),A=()=>{u.value={...N,...s.field.options.timelineOpt??{}},I.value=!0},N={position:L.vertical,align:Q.left,isLabel:!1},u=R({...N}),I=R(!1),o=()=>{s.field.options.timelineOpt={...u.value},I.value=!1},t=C({get(){return s.field.options.cardShowColumns??2},set(m){s.field.options.cardShowColumns=m}});return(m,n)=>{const E=j,F=G,$=Z,i=H,g=Y,M=x,O=oo,K=eo;return a(),y(_,null,[m.field.options.showNum===p(B).multiple?(a(),b(V,{key:0,label:"显示模式"},{default:l(()=>[e(F,{modelValue:c.value,"onUpdate:modelValue":n[0]||(n[0]=d=>c.value=d),placeholder:"请选择"},{default:l(()=>[(a(!0),y(_,null,k(p(X),d=>(a(),b(E,{key:d.value,label:d.label,value:d.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),c.value===p(U).timeline?(a(),b(J,{key:0,class:"mt-10",onClick:A},{default:l(()=>[S(" 设置时间轴内容 ")]),_:1})):w("",!0)]),_:1})):w("",!0),m.field.options.showNum===p(B).multiple&&c.value===p(U).card?(a(),b(V,{key:1,label:"卡片显示列数"},{default:l(()=>[e(i,{modelValue:t.value,"onUpdate:modelValue":n[1]||(n[1]=d=>t.value=d)},{default:l(()=>[(a(),y(_,null,k(3,d=>e($,{label:d,key:d},{default:l(()=>[S(v(d)+"列 ",1)]),_:2},1032,["label"])),64))]),_:1},8,["modelValue"])]),_:1})):w("",!0),e(K,{modelValue:I.value,"onUpdate:modelValue":n[6]||(n[6]=d=>I.value=d),title:"时间轴设置",width:"500","append-to-body":""},{footer:l(()=>[f("span",{class:"dialog-footer"},[e(O,{onClick:n[5]||(n[5]=d=>I.value=!1)},{default:l(()=>[S("取消")]),_:1}),e(O,{type:"primary",onClick:o},{default:l(()=>[S("确定")]),_:1})])]),default:l(()=>[e(M,{"label-width":"150"},{default:l(()=>[e(h,{label:"时间轴类型",style:{"margin-bottom":"25px"}},{default:l(()=>{var d;return[e(F,{modelValue:u.value.position,"onUpdate:modelValue":n[2]||(n[2]=r=>u.value.position=r),placeholder:"请选择"},{default:l(()=>[(a(!0),y(_,null,k(p(P),r=>(a(),b(E,{key:r.value,label:r.label,value:r.value},{default:l(()=>[f("div",null,[f("span",null,v(r.label),1),f("span",{class:"display_mode-select-tip"},v(r.description),1)])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"]),f("div",{class:"display_mode-tip"},v((d=p(P).find(r=>r.value===u.value.position))==null?void 0:d.description),1)]}),_:1}),u.value.position===p(L).vertical?(a(),b(h,{key:0,label:"对齐方式"},{default:l(()=>{var d;return[e(F,{modelValue:u.value.align,"onUpdate:modelValue":n[3]||(n[3]=r=>u.value.align=r),placeholder:"请选择"},{default:l(()=>[(a(!0),y(_,null,k(p(W),r=>(a(),b(E,{key:r.value,label:r.label,value:r.value},{default:l(()=>[f("div",null,[f("span",null,v(r.label),1),f("span",{class:"display_mode-select-tip"},v(r.description),1)])]),_:2},1032,["label","value"]))),128))]),_:1},8,["modelValue"]),f("div",{class:"display_mode-tip"},v((d=p(W).find(r=>r.value===u.value.align))==null?void 0:d.description),1)]}),_:1})):w("",!0),e(h,{label:"显示字段名称"},{default:l(()=>[e(g,{modelValue:u.value.isLabel,"onUpdate:modelValue":n[4]||(n[4]=d=>u.value.isLabel=d),label:""},null,8,["modelValue"])]),_:1})]),_:1})]),_:1},8,["modelValue"])],64)}}});const wo=lo(Io,[["__scopeId","data-v-1710e240"]]),Rl=z({__name:"Setting",props:{field:{}},setup(D){const s=D,c=io(),{soureceInfo:A}=q({prop:C(()=>({sourceId:s.field.options.sourceId}))});T(()=>s.field.options.sourceId,()=>{s.field.options.showField=[],s.field.options.condition=null,s.field.options.sortField=[]});const{checkCurrentAppForm:N}=q(),u=C(()=>N(s.field.options.sourceId)),I=C({get(){return to(s.field)},set(o){s.field.options.showSpan=o}});return T(()=>s.field.options.displayMode,()=>{s.field.options.showField=s.field.options.showField.filter(o=>{var m,n;const t=(n=ao(o.fieldId,((m=A.value)==null?void 0:m.fields)??[]))==null?void 0:n.field;return(t==null?void 0:t.type)!==po.subform})}),(o,t)=>{const m=so,n=H,E=j,F=G,$=Y;return a(),y(_,null,[e(uo,{modelValue:o.field.options,"onUpdate:modelValue":t[0]||(t[0]=i=>o.field.options=i),id:o.field.fieldId},null,8,["modelValue","id"]),e(V,{label:"关联数据集",required:"",id:`${o.field.fieldId}.sourceId`},{default:l(()=>[e(_o,{modelValue:o.field.options.sourceId,"onUpdate:modelValue":t[1]||(t[1]=i=>o.field.options.sourceId=i),class:"w100",appId:p(c).appId,currentEntryId:p(c).entryId,hideCurrentEntry:""},null,8,["modelValue","appId","currentEntryId"])]),_:1},8,["id"]),p(A)?(a(),y(_,{key:0},[e(V,{hideErrorLine:"",label:"显示控件",id:`${o.field.fieldId}.showField`},{default:l(()=>[e(Vo,{modelValue:o.field.options.showField,"onUpdate:modelValue":t[2]||(t[2]=i=>o.field.options.showField=i),sourceId:o.field.options.sourceId,isSubform:!(o.field.options.showNum===p(B).multiple&&o.field.options.displayMode&&[p(U).card,p(U).timeline].includes(o.field.options.displayMode))},null,8,["modelValue","sourceId","isSubform"])]),_:1},8,["id"]),e(V,{hideErrorLine:"",label:"数据排序",id:`${o.field.fieldId}.sortField`},{default:l(()=>[e(yo,{modelValue:o.field.options.sortField,"onUpdate:modelValue":t[3]||(t[3]=i=>o.field.options.sortField=i),sourceId:o.field.options.sourceId},null,8,["modelValue","sourceId"])]),_:1},8,["id"]),e(V,{label:"数据过滤",tip:"添加过滤条件来限定数据范围",id:`${o.field.fieldId}.condition`,required:""},{default:l(({error:i})=>[e(vo,{condition:o.field.options.condition,"onUpdate:condition":t[4]||(t[4]=g=>o.field.options.condition=g),conditionPlaceholder:"选择关联数据集控件",sourceId:o.field.options.sourceId,compareFields:p(c).totalFields,disabled:!o.field.options.sourceId},{default:l(()=>{var g;return[e(J,{"is-error":!!i,"is-set":!!((g=o.field.options.condition)!=null&&g.length),disabled:!o.field.options.sourceId},{default:l(()=>{var M;return[S(v((M=o.field.options.condition)!=null&&M.length?"已添加过滤条件":"添加过滤条件"),1)]}),_:2},1032,["is-error","is-set","disabled"])]}),_:2},1032,["condition","sourceId","compareFields","disabled"])]),_:1},8,["id"]),e(V,{label:"显示数据条数"},{default:l(()=>[e(n,{modelValue:o.field.options.showNum,"onUpdate:modelValue":t[5]||(t[5]=i=>o.field.options.showNum=i)},{default:l(()=>[(a(!0),y(_,null,k(p(no),i=>(a(),b(m,{label:i.value,key:i.value},{default:l(()=>[S(v(i.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1}),o.field.options.showNum===p(B).single?(a(),b(V,{key:0,label:"显示列数"},{default:l(()=>[e(F,{modelValue:I.value,"onUpdate:modelValue":t[6]||(t[6]=i=>I.value=i),placeholder:"请选择"},{default:l(()=>[(a(!0),y(_,null,k(p(ro),i=>(a(),b(E,{key:i.value,label:i.label,value:i.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1})):w("",!0),e(wo,{field:o.field},null,8,["field"]),e(V,{label:"关联数据集操作"},{default:l(()=>[u.value?(a(),b($,{key:0,modelValue:o.field.options.add,"onUpdate:modelValue":t[7]||(t[7]=i=>o.field.options.add=i),class:"w100"},{default:l(()=>[f("span",null,"允许新增数据")]),_:1},8,["modelValue"])):w("",!0),e($,{modelValue:o.field.options.isClickRow,"onUpdate:modelValue":t[8]||(t[8]=i=>o.field.options.isClickRow=i),class:"w100"},{default:l(()=>[f("span",null,"允许查看数据")]),_:1},8,["modelValue"])]),_:1}),e(co,{field:o.field},null,8,["field"])],64)):w("",!0),e(mo,{modelValue:o.field.options,"onUpdate:modelValue":t[9]||(t[9]=i=>o.field.options=i),id:o.field.fieldId,hideEdit:""},null,8,["modelValue","id"]),e(bo,{field:o.field,modelValue:o.field.options,"onUpdate:modelValue":t[10]||(t[10]=i=>o.field.options=i)},null,8,["field","modelValue"]),e(fo,{field:o.field},null,8,["field"])],64)}}});export{Rl as default};
