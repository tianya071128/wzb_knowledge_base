import{M as L}from"./ModuleWrapper-dbe018a4.js";import{u as R}from"./useEditState-4239cd64.js";import{u as M,a as B,D as E,_ as F}from"./useThemeStyles-97832ef4.js";import{d as P,er as V,bK as n,c as K,r as N,eK as $,o as u,b as p,w as A,B as t,C as O,l as U,i as W}from"./index-b80d5ef5.js";import{u as _}from"./createDesigner-82222fc7.js";import{u as j}from"./useAddModuleContext-27547570.js";import{C as q}from"./enum-dc6240e9.js";import"./dashboardDesigner-ce3c2e23.js";import"./skeleton-9235483f.js";import"./keyBy-8fcfdd74.js";import"./_createAggregator-d66ed64c.js";import"./useTransformColor-38b5da33.js";import"./enum-baae9292.js";const se=P({__name:"render",props:{moduleItem:{}},setup(f){const s=f,{editVisible:a,isDesignMode:b}=R();V();const{appId:y,entryId:c}=_(),{filterCondition:I,handleFilter:h,handleLinkedData:S}=M(),v=n({refresh(){var e;(e=l.value)==null||e.refresh()},async asyncRefresh(){var e;await((e=l.value)==null?void 0:e.refresh())},handleFilter:h,handleLinkedData:S});j(s.moduleItem.moduleId,v);const C=K(()=>s.moduleItem.options.dashboardId),l=N(),g=()=>{var e;(e=l.value)==null||e.refresh()},{pcTableStyle:w,pcChartStyle:z,pcDesignTableStyle:D,pcDesignOverallChart:T}=B(n($(s)));return(e,o)=>(u(),p(L,{"module-item":e.moduleItem,onEdit:o[1]||(o[1]=r=>a.value=!0)},{default:A(()=>{var r,i,d,m;return[t(b)?(u(),p(t(E),{key:0,visible:t(a),"onUpdate:visible":o[0]||(o[0]=k=>O(a)?a.value=k:null),"module-item":e.moduleItem,appId:t(y),"is-type-module":!1,"default-type":t(q).detailedChart,entryId:t(c),onSave:g,bgTableStyle:t(D),bgChartStyle:t(T),tableStyle:(i=(r=e.moduleItem)==null?void 0:r.options)==null?void 0:i.pcTableStyles,chartStyle:(m=(d=e.moduleItem)==null?void 0:d.options)==null?void 0:m.pcStyles},null,8,["visible","module-item","appId","default-type","entryId","bgTableStyle","bgChartStyle","tableStyle","chartStyle"])):U("",!0),W(F,{dashboardId:C.value,ref_key:"PreviewRef",ref:l,filterList:t(I),showLabel:e.moduleItem.options.showLabel,label:e.moduleItem.options.label,tableStyle:t(w)},null,8,["dashboardId","filterList","showLabel","label","tableStyle"])]}),_:1},8,["module-item"]))}});export{se as default};
