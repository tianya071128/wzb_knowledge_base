import{bK as h,c as x,dw as L,eK as b,d as M,o as u,b as c,w as i,i as f,bf as B,bd as F,pF as P,r as U,e as A,B as a,ad as D,j as $,m as G,bz as N,f as S,F as V,g as E,I as v,l as O,U as R,ca as z,_ as W}from"./index-b80d5ef5.js";import{M as j}from"./ModuleWrapper-dbe018a4.js";import{G as K}from"./GirdList-c2082769.js";import{V as q}from"./ViewMore-2edbc0b5.js";import{u as J}from"./createDesigner-82222fc7.js";import{j as H}from"./homePage-3523f56f.js";import{S as Q}from"./SettingsFormWrapper-340ed4ef.js";import{_ as X}from"./ModuleTitleEditor.vue_vue_type_script_setup_true_lang-41e118cc.js";import{O as y}from"./enum-baae9292.js";import{G as k}from"./GridItem-674e6ecc.js";import{M as Y}from"./ModuleEmpty-f80311b1.js";import"./dashboardDesigner-ce3c2e23.js";import"./AppIconNew-704f70f4.js";import"./useTransformColor-38b5da33.js";const Z=[{id:"1701416808856264706",tenantId:"0",entryId:"1701416496955236353",appId:"1696054936594399233",entryType:"form",hasFlow:0,name:"示例数据",icon:"b-1",color:"#666666",counter:1,userId:"1696038156362694658",createTime:"2023-09-12 10:05:53",updateTime:"2023-09-12 10:05:53"},{id:"1701416475727863809",tenantId:"0",entryId:"1696060528885088257",appId:"1696054936594399233",entryType:"form",hasFlow:1,name:"示例数据",icon:"b-1",color:"#666666",counter:1,userId:"1696038156362694658",createTime:"2023-09-12 10:04:33",updateTime:"2023-09-12 10:04:33"}],ee=()=>{const d=J(),o=h({loading:!1,oftenUseList:[]}),r=x(()=>L.design===d.mode),p=async()=>{o.loading=!0;try{const t=r.value?Z:await H();o.oftenUseList=t.map(s=>({...s,color:"#478CFF"}))}finally{o.loading=!1}};return{...b(o),getList:p,isDesignMode:r}},te=ee,oe=M({__name:"Setting",props:{moduleItem:{}},setup(d){return(o,r)=>(u(),c(Q,null,{default:i(()=>[f(X,{"module-item":o.moduleItem},null,8,["module-item"])]),_:1}))}});function se(){const d=B();return{goApp:({appId:t,entryId:s,openWidth:n})=>{d(F,{query:{appId:t,entryId:s}},{isNewPage:n===y.newPage})},goMyTasks:(t,s)=>{d(P,{query:t},{isNewPage:s===y.newPage})},goByMenuId:(t,s,n)=>{d(t,{query:s},{isNewPage:n===y.newPage})}}}const re=M({__name:"render",props:{moduleItem:{}},setup(d){const{loading:o,oftenUseList:r,isDesignMode:p,getList:t}=te(),{goApp:s}=se(),n=U(!1),I=e=>{s({appId:e==null?void 0:e.appId,entryId:e==null?void 0:e.entryId,openWidth:"1"})};t();const w=e=>({name:e.name,icon:e.icon,color:e.color,isGradient:!0,isBackGroundColor:!0});return(e,m)=>{const T=R,C=z;return A((u(),c(j,{"module-item":e.moduleItem},D({edit:i(()=>[f(oe,{"module-item":e.moduleItem},null,8,["module-item"])]),default:i(()=>{var _;return[(_=a(r))!=null&&_.length?(u(),c(K,{key:0,list:a(r),onViewMore:m[1]||(m[1]=l=>n.value=!0)},{default:i(({list:l})=>[(u(!0),S(V,null,E(l,g=>(u(),c(k,v({key:g.id,onClick:ne=>I(g)},{...w(g)}),null,16,["onClick"]))),128))]),_:1},8,["list"])):(u(),c(Y,{key:1,description:"暂无常用"})),a(p)?O("",!0):(u(),c(q,{key:2,"drawer-model":n.value,"onUpdate:drawerModel":m[2]||(m[2]=l=>n.value=l),title:"常用",list:a(r),onRefresh:a(t),"no-sort":""},{default:i(({element:l})=>[f(k,v({onClick:g=>I(l)},{...w(l)}),null,16,["onClick"])]),_:1},8,["drawer-model","list","onRefresh"]))]}),_:2},[a(p)?{name:"desc",fn:i(()=>[f($,{style:{"margin-left":"10px",color:"var(--el-text-color-secondary)","font-size":"12px"},content:"自动生成常用数据，无需配置；效果如下","show-after":300})]),key:"0"}:void 0,a(p)?void 0:{name:"top-right",fn:i(()=>[f(T,{text:"",type:"primary",size:"small",class:"click-active",onClick:m[0]||(m[0]=_=>n.value=!0)},{default:i(()=>[G(" 更多  "),f(N,{"icon-class":"DArrowRight"})]),_:1})]),key:"1"}]),1032,["module-item"])),[[C,a(o)]])}}});const ve=W(re,[["__scopeId","data-v-08ad8113"]]);export{ve as default};
