import{p as C,q as P}from"./allUser-b2fd4b31.js";import{d as q,r as i,c as m,rl as f,rm as y,rn as p,ro as b,bi as R,o as N,f as z,i as o,w as D,k as t,t as s,B as n,L as A,as as B,b4 as U,rp as V,_ as L}from"./index-b80d5ef5.js";import{_ as T}from"./ResetPassword.vue_vue_type_script_setup_true_lang-65983c50.js";import"./LoadingData-195d0581.js";import"./AutoJump.vue_vue_type_script_setup_true_lang-a3aa2601.js";import"./SetPasswordFormItem-fa70a559.js";import"./PasswordFormItem.vue_vue_type_script_setup_true_lang-6a395c05.js";const I={name:"AllUserPage"},$=q({...I,setup(E){const v=[{type:"input",label:"登录名",prop:"account"},{type:"input",label:"姓名",prop:"nickname"},{type:"input",label:"手机号",prop:"mobile"}],g=()=>v,c=i(),_=i(),h=m(()=>({query:{list:g()},request:{api:C},table:{tableCols:[{prop:"nickname",label:"姓名"},{prop:"username",label:"登录名"},{prop:"mobile",label:"手机"},{prop:"status_dictText",label:"状态"},{fixed:"right",width:120,label:"操作",slots:{default({row:a}){let u=[{id:"view",type:"primary",onClick:()=>{U(V,{query:{id:a.id}})},text:"查看"},{id:"resetPassword",type:"primary",onClick:()=>{var r;(r=_.value)==null||r.reset(a.id)},text:"重置密码"}];return a.status==p&&(u=u.filter(r=>r.id!=="view")),o(B,{key:a.id,num:3,list:u},null)}}}]},pagination:{}})),e=i(),x=async()=>{e.value=await P()},k=m(()=>Number(e.value[f]||0)+Number(e.value[y]||0)+Number(e.value[p]||0)+Number(e.value[b]||0)),w=()=>{var l;(l=c.value)==null||l.refresh()};return(l,a)=>{const d=R("az-page");return N(),z("div",{class:"layout_box"},[o(A,{load:x,class:"total-wrap"},{default:D(()=>[t("span",null,"已入驻用户："+s(k.value),1),t("span",null,"正常使用："+s(e.value[n(f)]||0),1),t("span",null,"已禁用："+s(e.value[n(y)]||0),1),t("span",null,"已注销："+s(e.value[n(p)]||0),1),t("span",null,"已锁定："+s(e.value[n(b)]||0),1)]),_:1}),o(d,{ref_key:"azPageRef",ref:c,config:h.value,maxHeight:"var(--az-layout-main-height) - 40px - 40px"},null,8,["config"]),o(T,{ref_key:"resetPasswordRef",ref:_,onRefresh:w},null,512)])}}});const O=L($,[["__scopeId","data-v-0055979d"]]);export{O as default};
