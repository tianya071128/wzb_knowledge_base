import{r as m,c as f,q9 as A,qa as o,qb as n,fX as t,qc as b,qd as y}from"./index-b80d5ef5.js";import"./defaultValue-7c7c87ea.js";function S(a,c){const{immediate:i,fetchApi:u}=T({fetchApi:a,...c??{}}),s=m(!1),r=m(null),e=m("loading"),l=async()=>{try{s.value=!0;const d=await u();r.value=d,e.value="success"}catch{e.value="error"}finally{s.value=!1}},p=()=>{e.value="loading",l()};return i&&l(),{isLoading:s,result:r,status:e,refreshApi:p,initApi:l}}const T=a=>a?{immediate:"immediate"in a?a.immediate:!0,fetchApi:"fetchApi"in a?a.fetchApi:()=>Promise.reject("请传入接口调用方法!")}:{immediate:!1,fetchApi:()=>Promise.reject("请传入接口调用方法!")};function g(a,c){const{result:i,...u}=S(a,c),s=f(()=>{var e;return((e=i==null?void 0:i.value)==null?void 0:e.records)??[]}),r=f(()=>{var e;return Number(((e=i==null?void 0:i.value)==null?void 0:e.total)??0)});return{...u,total:r,result:s}}A.pc;o.close,n[t.submit],t.submit,b.add,y.custom,o.close,n[t.pass],t.pass,o.close,n[t.reject],t.reject,n[t.next],t.next,o.close,n[t.print],t.print;export{g as a,S as u};
