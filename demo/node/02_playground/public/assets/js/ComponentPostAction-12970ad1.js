import{d as K,v as M,r as m,p2 as _,c as Y,p3 as $,o as u,f as p,i as a,w as o,m as c,B as s,eu as j,t as A,p4 as F,l as v,fV as w,k as J,K as Q,F as I,g as B,b as U,H as W,hp as X,Y as f,q as Z,av as ee,ao as le,ap as ae,ac as oe,E as te,ab as ne,U as se,bn as ue,_ as re}from"./index-b80d5ef5.js";const de=K({__name:"ComponentPostAction",props:{modelValue:{},componentId:{},currentEntryInfo:{}},emits:["update:modelValue"],setup(P,{emit:R}){const g=P,t=M(g,"modelValue",R),r=m(!1),h=()=>{var d;(d=t.value)!=null&&d.enable?t.value={enable:!1}:(r.value=!0,n.value=f({..._(),...t.value??{},enable:!0}))},q=()=>{n.value=f(t.value??_()),r.value=!0},b=m(),n=m(_()),z={type:[{required:!0,message:"请选择",trigger:"change"}],url:[{required:!0,message:"请选择",trigger:"change"}],open:[{required:!0,message:"请选择",trigger:"change"}]},V=Y(()=>$(g.componentId)),L=async()=>{var d,l;await((l=(d=b.value)==null?void 0:d.ruleFormRef)==null?void 0:l.validate()),t.value=f(n.value),r.value=!1};return(d,l)=>{var C,E,x;const N=Z,D=ee,O=le,S=ae,y=oe,G=te,T=ne,k=se,H=ue;return u(),p("div",{class:"post_action"},[a(N,{"model-value":!!((C=s(t))!=null&&C.enable),"onUpdate:modelValue":h,class:"w100"},{default:o(()=>[c(" 执行指定动作 ")]),_:1},8,["model-value"]),(E=s(t))!=null&&E.enable?(u(),p("div",{key:0,class:"post_action-info"},[a(D,{type:"primary",underline:!1,icon:s(j),class:"post_action-edit",onClick:q,title:"编辑"},null,8,["icon"]),s(t).type!=null?(u(),p("div",{key:0,class:"post_action-text","data-title":"动作"},A((x=s(F).find(e=>{var i;return e.value===((i=s(t))==null?void 0:i.type)}))==null?void 0:x.label),1)):v("",!0),s(t).url?(u(),p("div",{key:1,class:"post_action-text","data-title":"目标地址"},[a(w,{modelValue:s(t).url,group:V.value,preview:""},null,8,["modelValue","group"])])):v("",!0)])):v("",!0),a(H,{modelValue:r.value,"onUpdate:modelValue":l[4]||(l[4]=e=>r.value=e),title:"设置动作",width:"600","destroy-on-close":"","close-on-click-modal":!1,"append-to-body":""},{footer:o(()=>[J("span",{class:"dialog-footer"},[a(k,{onClick:l[3]||(l[3]=e=>r.value=!1)},{default:o(()=>[c("取消")]),_:1}),a(k,{type:"primary",onClick:L},{default:o(()=>[c("确定")]),_:1})])]),default:o(()=>[a(Q,{model:n.value,rules:z,ref_key:"azFormRef",ref:b,"label-width":"100px"},{default:o(()=>[a(y,{label:"动作",prop:"type"},{default:o(()=>[a(S,{modelValue:n.value.type,"onUpdate:modelValue":l[0]||(l[0]=e=>n.value.type=e),placeholder:"请选择"},{default:o(()=>[(u(!0),p(I,null,B(s(F),(e,i)=>(u(),U(O,{key:i,label:e.label,value:e.value},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),_:1}),a(W,{label:"目标地址",class:"desiger-inputare",prop:"url"},{default:o(()=>[a(w,{modelValue:n.value.url,"onUpdate:modelValue":l[1]||(l[1]=e=>n.value.url=e),group:V.value},null,8,["modelValue","group"])]),_:1}),a(y,{label:"打开方式",prop:"open"},{default:o(()=>[a(T,{modelValue:n.value.open,"onUpdate:modelValue":l[2]||(l[2]=e=>n.value.open=e)},{default:o(()=>[(u(!0),p(I,null,B(s(X),e=>(u(),U(G,{key:e.value,label:e.value},{default:o(()=>[c(A(e.label),1)]),_:2},1032,["label"]))),128))]),_:1},8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue"])])}}});const ce=re(de,[["__scopeId","data-v-6b2f0f6a"]]);export{ce as C};
