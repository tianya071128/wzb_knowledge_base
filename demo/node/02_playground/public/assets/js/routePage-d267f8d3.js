import{d as h,v as C,bx as D,aT as S,r as m,o,f as c,k as r,t as g,F as w,g as x,p as U,e as E,S as N,i as f,w as H,b as k,B as y,ot as $,oa as T,P as F,_ as b,C as P,bp as L,l as K,b4 as z,re as J,bC as M,ca as q,s as Q,ik as j,il as G,c as O,y as W,aS as X,J as Y,Q as Z}from"./index-b80d5ef5.js";import{l as A}from"./templateCenter-d2dd516d.js";const ee=h({__name:"tag-card",props:{list:{},selectedVal:{},title:{}},emits:["update:selectedVal"],setup(p,{emit:a}){const u=C(p,"selectedVal",a);D(()=>{S(()=>{e.value.offsetHeight>26?(l.value=!0,e.value.style["max-height"]="26px"):l.value=!1})});const e=m(),l=m(!0),i=()=>{e.value.offsetHeight<=26?(e.value.style["max-height"]="unset",l.value=!1):(e.value.style["max-height"]="26px",l.value=!0)};return(t,v)=>{const n=F;return o(),c("div",{class:"tag_box"},[r("div",{class:"tag_label"},g(t.title),1),r("div",{class:"tag_list",ref_key:"tagRef",ref:e},[(o(!0),c(w,null,x(t.list,_=>(o(),c("span",{onClick:V=>u.value=_.value,key:_.value,class:U(["tag_text",_.value===t.selectedVal?"tag_active":""])},g(_.label),11,["onClick"]))),128))],512),E(r("div",{class:"arrow",onClick:i},[f(n,null,{default:H(()=>[l.value?(o(),k(y($),{key:0})):(o(),k(y(T),{key:1}))]),_:1})],512),[[N,l.value]])])}}});const B=b(ee,[["__scopeId","data-v-d124d137"]]),te=h({__name:"tag-container",props:{industry:{},scene:{}},emits:["update:industry","update:scene"],setup(p,{emit:a}){const s=p,d=a,u=C(s,"industry",d),e=C(s,"scene",d),l=m([{label:"全部",value:""}]),i=m([{label:"全部",value:""}]);return(async()=>{l.value.push(...await L("template_industry")),i.value.push(...await L("template_scene"))})(),(v,n)=>(o(),c("div",{class:"template_tag"},[f(B,{title:"使用场景",list:i.value,"selected-val":y(u),"onUpdate:selectedVal":n[0]||(n[0]=_=>P(u)?u.value=_:null)},null,8,["list","selected-val"]),r("hr"),f(B,{title:"适应行业",list:l.value,"selected-val":y(e),"onUpdate:selectedVal":n[1]||(n[1]=_=>P(e)?e.value=_:null)},null,8,["list","selected-val"])]))}});const ae=b(te,[["__scopeId","data-v-d381696b"]]),se=""+new URL("../png/template_img2-e244fe06.png",import.meta.url).href,le=h({__name:"temp-card",props:{item:{}},setup(p){const a=p,s=e=>e.replace(",","/"),d=e=>e.split(","),u=()=>{z(J,{query:{id:a.item.id}})};return(e,l)=>{const i=M;return o(),k(i,{onClick:u,"body-style":{padding:"0px"},class:"temp_card",shadow:"always"},{default:H(()=>[r("div",{class:"temp_img"},[e.item.coverImg?(o(),c("img",{key:0,src:e.item.coverImg,alt:"coverImg",style:{width:"100%",height:"100%"}},null,8,["src"])):(o(),c("img",{key:1,src:se,alt:"img"})),e.item.platforms?(o(),c("span",{key:2,class:"temp_tag left_top"},g(s(e.item.platforms)),1)):K("",!0),r("span",{class:"temp_tag right_bottom"},g(e.item.installs||"0")+"次安装 ",1)]),r("div",{class:"temp_info"},[r("div",{class:"temp_title"},g(e.item.name),1),r("div",{class:"temp_desc",title:e.item.description},g(e.item.description),9,["title"]),r("div",{class:"card_footer"},[r("div",{class:"card_tag"},[(o(!0),c(w,null,x(d(e.item.tags),(t,v)=>(o(),c("span",{key:v},g(t),1))),128))])])])]),_:1})}}});const ne=b(le,[["__scopeId","data-v-dd5a3bb7"]]),oe=h({__name:"temp-container",props:{tempParams:{}},emits:["update:tempParams"],setup(p,{expose:a,emit:s}){const e=C(p,"tempParams",s),l=m([]),i=m(!1),t=async()=>{i.value=!0;const n=await A(e.value);n.records,n.records.length>=1&&(e.value.current&&(e.value.current+=1),l.value=l.value.concat(n.records)),setTimeout(async()=>{i.value=!1},1e3)},v=async()=>{i.value=!0,l.value=[],e.value.current=1,t()};return a({getListPage:v}),v(),(n,_)=>{const V=q,R=Q;return o(),c("div",{class:"temp_card"},[E((o(),c("div",{class:"temp_layout","infinite-scroll-distance":1,"infinite-scroll-delay":1e3,"infinite-scroll-immediate":!1},[(o(!0),c(w,null,x(l.value,I=>(o(),k(ne,{key:I.id,class:"temp_item",item:I},null,8,["item"]))),128))])),[[V,i.value],[R,t]])])}}});const ie=b(oe,[["__scopeId","data-v-361acc76"]]),re=h({__name:"routePage",setup(p){const a=document.getElementById("app");D(()=>{a==null||a.setAttribute("class","body_temp")}),j(()=>{a==null||a.classList.add("body_temp")}),G(()=>{a==null||a.classList.remove("body_temp")});const s=m({name:"",category:"",industry:"",current:1,limit:40}),d=m(),u=m(""),e=()=>{s.value.name=u.value},l=O(()=>s.value.category+""+s.value.industry+s.value.name);return W(l,()=>{S(()=>{var i;(i=d.value)==null||i.getListPage()})}),(i,t)=>{const v=Z;return o(),c("div",{class:"layout_box temp_box"},[r("div",{class:"template_banner"},[r("div",{class:"template_search"},[f(v,{size:"large",modelValue:u.value,"onUpdate:modelValue":t[0]||(t[0]=n=>u.value=n),onBlur:e,onKeydown:X(e,["enter"]),placeholder:"输入关键字搜索","suffix-icon":y(Y)},null,8,["modelValue","onKeydown","suffix-icon"])])]),f(ae,{scene:s.value.category,"onUpdate:scene":t[1]||(t[1]=n=>s.value.category=n),industry:s.value.industry,"onUpdate:industry":t[2]||(t[2]=n=>s.value.industry=n)},null,8,["scene","industry"]),f(ie,{ref_key:"tempContainerRef",ref:d,"temp-params":s.value},null,8,["temp-params"])])}}});const de=b(re,[["__scopeId","data-v-a5b512b9"]]);export{de as default};
